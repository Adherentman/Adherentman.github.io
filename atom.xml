<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å£®å£®-Technology</title>
  
  <subtitle>å® è¾±ä¸æƒŠï¼Œé—²çœ‹åº­å‰èŠ±è½èŠ±å¼€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xuzihao.fun/"/>
  <updated>2018-08-27T12:44:34.898Z</updated>
  <id>http://xuzihao.fun/</id>
  
  <author>
    <name>XuZiHao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Koa2â€”Https</title>
    <link href="http://xuzihao.fun/Koa2%E2%80%94Https.html"/>
    <id>http://xuzihao.fun/Koa2â€”Https.html</id>
    <published>2018-08-27T08:27:00.000Z</published>
    <updated>2018-08-27T12:44:34.898Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Koa2â€”Https"><a href="#Koa2â€”Https" class="headerlink" title="Koa2â€”Https"></a>Koa2â€”Https</h1><p>ç°åœ¨ä¿¡æ¯å®‰å…¨è¶Šæ¥è¶Šé‡è¦ï¼Œä»¥å¾€çš„<code>http</code>å·²ç»æ»¡è¶³ä¸äº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå¹¶ä¸”å¦‚æœä½ çš„ç½‘ç«™è¿˜æ˜¯<code>http</code>åè®®çš„è¯ï¼Œ<code>chrome</code>è¿˜èƒ½ç»™ä½ æŠ¥ä¸ªé”™ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©è‡ªå·±çš„æœåŠ¡å™¨ä¸Š<code>https</code>ã€‚</p><h2 id="sslè¯ä¹¦"><a href="#sslè¯ä¹¦" class="headerlink" title="sslè¯ä¹¦"></a>sslè¯ä¹¦</h2><p>Sslè¯ä¹¦æˆ‘æ˜¯é€šè¿‡é˜¿é‡Œäº‘ç»™é…çš„ï¼Œ1å¹´å…è´¹ã€‚</p><h2 id="é›†æˆ"><a href="#é›†æˆ" class="headerlink" title="é›†æˆ"></a>é›†æˆ</h2><p>æˆ‘ä»¬éœ€è¦åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬åªè¦å¼€å‘ç¯å¢ƒç”¨<code>http</code>ï¼Œç”Ÿäº§ç¯å¢ƒç”¨<code>https</code>å°±okäº†ã€‚æ‰€ä»¥æˆ‘å°±ç›´æ¥ä¸Š<code>code</code>äº†ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºç¡€çš„é…ç½®</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Koa <span class="keyword">from</span> <span class="string">'koa'</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br></pre></td></tr></table></figure></p><a id="more"></a><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">'fs'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> https <span class="keyword">from</span> <span class="string">'https'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> http <span class="keyword">from</span> <span class="string">'http'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port: <span class="built_in">number</span> = <span class="number">4000</span>;</span><br><span class="line"><span class="keyword">const</span> sslPort: <span class="built_in">number</span> = <span class="number">443</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> environment = process.env.NODE_ENV || <span class="string">'production'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (environment === <span class="string">'production'</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> sslFile = &#123;</span><br><span class="line">key: fs.readFileSync(<span class="string">'./ssl/domain.key'</span>, <span class="string">'utf8'</span>),</span><br><span class="line">cert: fs.readFileSync(<span class="string">'./ssl/chained.pem'</span>, <span class="string">'utf8'</span>),</span><br><span class="line">&#125;;</span><br><span class="line">https.createServer(sslFile, app.callback()).listen(sslPort, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`ğŸš€ Https Server ready at <span class="subst">$&#123;sslPort&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">http.createServer(app.callback()).listen(port, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`ğŸš€ Server ready at localhots:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®NODE-ENV"><a href="#è®¾ç½®NODE-ENV" class="headerlink" title="è®¾ç½®NODE_ENV"></a>è®¾ç½®NODE_ENV</h2><p>æœ€ç®€å•çš„æ–¹æ³•æˆ‘ä»¬éœ€è¦<code>npm install cross-env</code><br>åˆ°<code>package.json</code>é…ç½®ä¸€ä¸‹.<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"cross-env NODE_ENV=development nodemon"</span>,</span><br><span class="line">    <span class="string">"build"</span>: <span class="string">"cross-env NODE_ENV=production nodemon"</span>,</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><h2 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a>ç¬¬ä¸‰æ–¹åº“</h2><p>è¿˜æœ‰ä¸€ä¸ªå«<code>koa-sslify</code>çš„åº“ï¼Œä»–èƒ½å¸®åŠ©æˆ‘ä»¬åšåˆ°ä»»ä½•è®¿é—®éƒ½èµ°<code>https</code></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Koa2â€”Https&quot;&gt;&lt;a href=&quot;#Koa2â€”Https&quot; class=&quot;headerlink&quot; title=&quot;Koa2â€”Https&quot;&gt;&lt;/a&gt;Koa2â€”Https&lt;/h1&gt;&lt;p&gt;ç°åœ¨ä¿¡æ¯å®‰å…¨è¶Šæ¥è¶Šé‡è¦ï¼Œä»¥å¾€çš„&lt;code&gt;http&lt;/code&gt;å·²ç»æ»¡è¶³ä¸äº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå¹¶ä¸”å¦‚æœä½ çš„ç½‘ç«™è¿˜æ˜¯&lt;code&gt;http&lt;/code&gt;åè®®çš„è¯ï¼Œ&lt;code&gt;chrome&lt;/code&gt;è¿˜èƒ½ç»™ä½ æŠ¥ä¸ªé”™ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©è‡ªå·±çš„æœåŠ¡å™¨ä¸Š&lt;code&gt;https&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;sslè¯ä¹¦&quot;&gt;&lt;a href=&quot;#sslè¯ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;sslè¯ä¹¦&quot;&gt;&lt;/a&gt;sslè¯ä¹¦&lt;/h2&gt;&lt;p&gt;Sslè¯ä¹¦æˆ‘æ˜¯é€šè¿‡é˜¿é‡Œäº‘ç»™é…çš„ï¼Œ1å¹´å…è´¹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é›†æˆ&quot;&gt;&lt;a href=&quot;#é›†æˆ&quot; class=&quot;headerlink&quot; title=&quot;é›†æˆ&quot;&gt;&lt;/a&gt;é›†æˆ&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬éœ€è¦åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬åªè¦å¼€å‘ç¯å¢ƒç”¨&lt;code&gt;http&lt;/code&gt;ï¼Œç”Ÿäº§ç¯å¢ƒç”¨&lt;code&gt;https&lt;/code&gt;å°±okäº†ã€‚æ‰€ä»¥æˆ‘å°±ç›´æ¥ä¸Š&lt;code&gt;code&lt;/code&gt;äº†ï¼š&lt;br&gt;&lt;figure class=&quot;highlight typescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// åŸºç¡€çš„é…ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; Koa &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;koa&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; app = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Koa();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Koa2" scheme="http://xuzihao.fun/categories/Koa2/"/>
    
    
      <category term="Koa2" scheme="http://xuzihao.fun/tags/Koa2/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQLåŸºç¡€</title>
    <link href="http://xuzihao.fun/PostgreSQL%E5%9F%BA%E7%A1%80.html"/>
    <id>http://xuzihao.fun/PostgreSQLåŸºç¡€.html</id>
    <published>2018-08-26T05:49:36.501Z</published>
    <updated>2018-08-26T14:09:12.254Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PostgreSQLåŸºç¡€"><a href="#PostgreSQLåŸºç¡€" class="headerlink" title="PostgreSQLåŸºç¡€"></a>PostgreSQLåŸºç¡€</h1><p>åˆ›å»ºæ–°è¡¨ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> xxx (</span><br><span class="line">xxx<span class="built_in">int</span>,# æ™®é€šçš„æ•´æ•°ç±»å‹</span><br><span class="line">xxx<span class="built_in">varchar</span>(<span class="number">80</span>), # ä¸€ä¸ªå¯ä»¥å­˜å‚¨æœ€é•¿ <span class="number">80</span> ä¸ªå­—ç¬¦çš„ä»»æ„å­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹</span><br><span class="line">xxx<span class="built_in">real</span>,# ä¸€ç§ç”¨äºå­˜å‚¨å•ç²¾åº¦æµ®ç‚¹æ•°çš„ç±»å‹</span><br><span class="line">xxx<span class="built_in">date</span># æ—¶é—´</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>åˆ è¡¨ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> tablename;</span><br></pre></td></tr></table></figure></p><p>åœ¨è¡¨ä¸­å¢åŠ è¡Œï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tablename (xx, xx, xx)</span><br><span class="line"><span class="keyword">VALUES</span>(xx, xx, xx)</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>æŸ¥è¯¢ä¸€ä¸ªè¡¨:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># * ä»£è¡¨æ‰€æœ‰åˆ—çš„ç¼©å†™</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tablename</span><br><span class="line"># æˆ–è€…å•ä¸ªæŸ¥</span><br><span class="line"><span class="keyword">SELECT</span> xxx, xxx, xxx <span class="keyword">FROM</span> tablename</span><br><span class="line"># å¸¦å‡½æ•°çš„</span><br><span class="line"><span class="keyword">SELECT</span> xx, (mobile+<span class="built_in">number</span>)/<span class="number">2</span> <span class="keyword">AS</span> temp_avg, <span class="built_in">date</span> <span class="keyword">FROM</span> xx;</span><br><span class="line"># æŒ‡å®šéœ€è¦å“ªäº›è¡Œ</span><br><span class="line"># WHEREå­å¥åŒ…å«ä¸€ä¸ªå¸ƒå°”ï¼ˆçœŸå€¼ï¼‰è¡¨è¾¾å¼ï¼Œåªæœ‰é‚£äº›ä½¿å¸ƒå°”è¡¨è¾¾å¼ä¸ºçœŸçš„è¡Œæ‰ä¼šè¢«è¿”å› åœ¨æ¡ä»¶ä¸­å¯ä»¥ä½¿ç”¨å¸¸ç”¨çš„å¸ƒå°”æ“ä½œç¬¦ï¼ˆANDã€ORå’ŒNOTï¼‰</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> weather</span><br><span class="line">    <span class="keyword">WHERE</span> city = <span class="string">'San Francisco'</span> <span class="keyword">AND</span> prcp &gt; <span class="number">0.0</span>;</span><br><span class="line"># æŸ¥è¯¢ç»“æœæ’å¥½åº</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> weather</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> city;</span><br><span class="line"># æ¶ˆé™¤é‡å¤è¡Œ</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> city</span><br><span class="line">    <span class="keyword">FROM</span> weather;</span><br><span class="line"># ç»„åˆä½¿ç”¨DISTINCTå’ŒORDER BYæ¥ä¿è¯è·å–ä¸€è‡´çš„ç»“æœ</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> city</span><br><span class="line">    <span class="keyword">FROM</span> weather</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> city;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;PostgreSQLåŸºç¡€&quot;&gt;&lt;a href=&quot;#PostgreSQLåŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;PostgreSQLåŸºç¡€&quot;&gt;&lt;/a&gt;PostgreSQLåŸºç¡€&lt;/h1&gt;&lt;p&gt;åˆ›å»ºæ–°è¡¨ï¼š&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;TABLE&lt;/span&gt; xxx (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xxx		&lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt;,	# æ™®é€šçš„æ•´æ•°ç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xxx		&lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;), # ä¸€ä¸ªå¯ä»¥å­˜å‚¨æœ€é•¿ &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt; ä¸ªå­—ç¬¦çš„ä»»æ„å­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xxx		&lt;span class=&quot;built_in&quot;&gt;real&lt;/span&gt;,		# ä¸€ç§ç”¨äºå­˜å‚¨å•ç²¾åº¦æµ®ç‚¹æ•°çš„ç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	xxx		&lt;span class=&quot;built_in&quot;&gt;date&lt;/span&gt;		# æ—¶é—´&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åˆ è¡¨ï¼š&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;TABLE&lt;/span&gt; tablename;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¡¨ä¸­å¢åŠ è¡Œï¼š&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;INTO&lt;/span&gt; tablename (xx, xx, xx)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;VALUES&lt;/span&gt;(xx, xx, xx)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="PostgreSQL" scheme="http://xuzihao.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/PostgreSQL/"/>
    
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="PostgreSQL" scheme="http://xuzihao.fun/tags/PostgreSQL/"/>
    
  </entry>
  
  <entry>
    <title>CSSä¹‹em/rem</title>
    <link href="http://xuzihao.fun/CSS%E4%B9%8Bem-rem.html"/>
    <id>http://xuzihao.fun/CSSä¹‹em-rem.html</id>
    <published>2018-08-13T10:51:00.000Z</published>
    <updated>2018-08-13T10:53:40.297Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CSSä¹‹em-rem"><a href="#CSSä¹‹em-rem" class="headerlink" title="CSSä¹‹em/rem"></a>CSSä¹‹em/rem</h1><p>#blog<br>å…ˆæ¥ä¸ªä¸€å¥è¯æ¦‚æ‹¬ï¼š</p><ul><li><code>em</code>ç›¸å¯¹äºçˆ¶å…ƒç´ </li><li><code>rem</code>ç›¸å¯¹äºæ ¹å…ƒç´ <br>æ‰€ä»¥è¿™äº›éƒ½æ˜¯ç›¸å¯¹å•ä½ã€‚</li></ul><p>é»˜è®¤<code>font-size</code>ä¸º16pxæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çŸ¥é“<code>1pxå’Œ1em</code>ä¹‹é—´çš„å…³ç³»</p><blockquote><p>1em = 16px<br>1px = 1 Ã· 16 = 0.0625em  </p></blockquote><p>é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“å…·ä½“çš„pxå€¼åæˆ‘ä»¬å°±èƒ½ç›´æ¥æ¢ç®—ï¼Œæ¯”å¦‚ï¼š</p><blockquote><p>æˆ‘æƒ³è¦800pxè½¬æ¢æˆ<code>em</code><br>800 * 0.0625em = 50em  </p></blockquote><p>é‚£ä¹ˆå¦‚æœçˆ¶å…ƒç´ ä¸ä¸º16pxï¼Œæ ¹æ®ä¸Šé¢æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªå…¬å¼ï¼š</p><blockquote><p>1 Ã· çˆ¶å…ƒç´ çš„font-size Ã— ä½ æƒ³è¦çš„åƒç´ å€¼ = emå€¼  </p></blockquote><h2 id="REM"><a href="#REM" class="headerlink" title="REM"></a>REM</h2><p>é‚£ä¹ˆREMå…¶å®å’ŒEMæ²¡å•¥åŒºåˆ«ã€‚<br>æœ¬è´¨åœ¨REMä»¥<code>&lt;html&gt;</code>æ ‡ç­¾ä¸­çš„<code>font-size</code>ä¸ºä¾æ®</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CSSä¹‹em-rem&quot;&gt;&lt;a href=&quot;#CSSä¹‹em-rem&quot; class=&quot;headerlink&quot; title=&quot;CSSä¹‹em/rem&quot;&gt;&lt;/a&gt;CSSä¹‹em/rem&lt;/h1&gt;&lt;p&gt;#blog&lt;br&gt;å…ˆæ¥ä¸ªä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;
      
    
    </summary>
    
      <category term="CSS" scheme="http://xuzihao.fun/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://xuzihao.fun/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>K8såŸºæœ¬æ¦‚å¿µ</title>
    <link href="http://xuzihao.fun/K8s%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html"/>
    <id>http://xuzihao.fun/K8såŸºæœ¬æ¦‚å¿µ.html</id>
    <published>2018-07-15T14:24:00.000Z</published>
    <updated>2018-07-15T14:44:54.376Z</updated>
    
    <content type="html"><![CDATA[<h1 id="K8såŸºæœ¬æ¦‚å¿µ"><a href="#K8såŸºæœ¬æ¦‚å¿µ" class="headerlink" title="K8såŸºæœ¬æ¦‚å¿µ"></a>K8såŸºæœ¬æ¦‚å¿µ</h1><p>åŸºæœ¬æ¦‚å¿µ<br>ä»¥ä¸‹éƒ½å¯ä»¥çœ‹ä½œä¸€ç§èµ„æºå¯¹è±¡</p><ul><li>Node</li><li>Pod</li><li>Replication Controller</li><li>Service<br>ä»¥ä¸Šé€šè¿‡k8sæé«˜çš„ <code>kubectl</code> æˆ–è€… <code>Api</code> è°ƒç”¨è¿›è¡Œæ“ä½œï¼Œå¹¶ä¿å­˜åœ¨ <code>etcd</code> ä¸­ã€‚</li></ul><p>k8sé›†ç¾¤ç”±ä¸¤ç±»èŠ‚ç‚¹ç»„æˆï¼š<strong>Master</strong> å’Œ <strong>Node</strong>ã€‚<br>åœ¨<code>Master</code>ä¸Šè¿è¡Œ<code>etcd</code>ã€<code>API Server</code>ã€<code>Controller Manager</code>å’Œ<code>Scheduler</code>å››ä¸ªç»„ä»¶ã€‚å…¶ä¸­åé¢ä¸‰ä¸ªç»„ä»¶æ„æˆäº†k8sçš„æ€»æ§ä¸­å¿ƒï¼Œè´Ÿè´£å¯¹é›†ç¾¤ä¸­æ‰€æœ‰èµ„æºè¿›è¡Œç®¡ç†å’Œè°ƒåº¦ã€‚</p><p>åœ¨æ¯ä¸ª<code>Node</code> ä¸Šè¿è¡Œ<code>kubelet</code>ã€<code>Proxy</code>å’Œ<code>Docker Daemon</code>ä¸‰ä¸ªç»„ä»¶ã€‚<br>å®ƒä»¬è´Ÿè´£å¯¹æœ¬èŠ‚ç‚¹ä¸Šçš„<code>Pod</code>çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ï¼Œä»¥åŠå®ç°æœåŠ¡ä»£ç†çš„åŠŸèƒ½ã€‚<br>å¦å¤–åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šéƒ½å¯ä»¥è¿è¡Œ<code>Kubectl</code>å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæä¾›äº†k8sçš„é›†ç¾¤ç®¡ç†å·¥å…·é›†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;K8såŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#K8såŸºæœ¬æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;K8såŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;/a&gt;K8såŸºæœ¬æ¦‚å¿µ&lt;/h1&gt;&lt;p&gt;åŸºæœ¬æ¦‚å¿µ&lt;br&gt;ä»¥ä¸‹éƒ½å¯ä»¥çœ‹ä½œä¸€ç§èµ„æºå¯¹è±¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Node&lt;/li&gt;
&lt;li&gt;P
      
    
    </summary>
    
      <category term="docker" scheme="http://xuzihao.fun/categories/docker/"/>
    
    
      <category term="docker" scheme="http://xuzihao.fun/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Draftâ€”â€”Entities</title>
    <link href="http://xuzihao.fun/Draft%E2%80%94%E2%80%94Entities.html"/>
    <id>http://xuzihao.fun/Draftâ€”â€”Entities.html</id>
    <published>2018-07-07T11:36:00.000Z</published>
    <updated>2018-07-07T11:36:38.560Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Draftâ€”â€”Entities"><a href="#Draftâ€”â€”Entities" class="headerlink" title="Draftâ€”â€”Entities"></a>Draftâ€”â€”Entities</h1><p>æœ¬æ–‡è®¨è®ºå®ä½“ç³»ç»Ÿï¼Œ<code>Draft</code> ç”¨äºä½¿ç”¨å…ƒæ•°æ®æ³¨é‡Šæ–‡æœ¬èŒƒå›´ã€‚<code>Entities</code>å¼•å…¥äº†è¶…å‡ºæ ·å¼æ–‡æœ¬çš„ä¸°å¯Œç¨‹åº¦ã€‚é“¾æ¥(Link)ï¼Œå‘è¨€(mentions)å’ŒåµŒå…¥å†…å®¹(embedded)éƒ½å¯ä»¥ä½¿ç”¨å®ä½“æ¥<code>Entities</code>ã€‚</p><p>åœ¨<code>Draft</code>å­˜å‚¨åº“ä¸­ï¼Œ<a href="https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/link" target="_blank" rel="noopener">é“¾æ¥ç¼–è¾‘å™¨</a>å’Œ<code>Entities</code>æ¼”ç¤ºæä¾›äº†å®æ—¶ä»£ç ç¤ºä¾‹ï¼Œä»¥å¸®åŠ©é˜æ˜å¦‚ä½•ä½¿ç”¨å®ä½“ä»¥åŠå®ƒä»¬çš„å†…ç½®è¡Œä¸ºã€‚</p><p><a href="https://draftjs.org/docs/api-reference-entity.html" target="_blank" rel="noopener">Entity API Reference</a>æä¾›äº†æœ‰å…³åœ¨åˆ›å»ºï¼Œæ£€ç´¢æˆ–æ›´æ–°å®ä½“å¯¹è±¡æ—¶ä½¿ç”¨çš„é™æ€æ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>æœ‰å…³Entity APIæœ€è¿‘æ›´æ”¹çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•æ›´æ–°åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„<a href="https://draftjs.org/docs/v0-10-api-migration.html#content" target="_blank" rel="noopener">v0.10 APIè¿ç§»æŒ‡å—</a>ã€‚<br><a id="more"></a></p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p><code>Entity</code>æ˜¯è¡¨ç¤º<code>Draft</code>ç¼–è¾‘å™¨ä¸­ä¸€ç³»åˆ—æ–‡æœ¬çš„å…ƒæ•°æ®çš„å¯¹è±¡ã€‚å®ƒæœ‰ä¸‰ä¸ªå±æ€§ï¼š</p><ul><li>type: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä»€ä¹ˆç±»å‹çš„å®ä½“ï¼Œä¾‹å¦‚â€™LINKâ€™ï¼Œâ€™MENTIONâ€™ï¼Œâ€™PHOTOâ€™ã€‚</li><li>mutability: ä¸è¦ä¸ä¸å˜æ€§çš„<code>immutable-js</code>æ··æ·†ï¼Œæ­¤å±æ€§è¡¨ç¤ºåœ¨ç¼–è¾‘å™¨ä¸­ç¼–è¾‘æ–‡æœ¬èŒƒå›´æ—¶ä½¿ç”¨æ­¤å®ä½“å¯¹è±¡æ³¨é‡Šçš„ä¸€ç³»åˆ—æ–‡æœ¬çš„è¡Œä¸ºã€‚è¿™å°†åœ¨ä¸‹é¢æ›´è¯¦ç»†åœ°è§£å†³ã€‚</li><li>data: åŒ…å«å®ä½“å…ƒæ•°æ®çš„å¯é€‰å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œ<code>LINK</code>å®ä½“å¯èƒ½åŒ…å«ä¸€ä¸ªåŒ…å«è¯¥é“¾æ¥çš„<code>href</code>å€¼çš„æ•°æ®å¯¹è±¡ã€‚</li></ul><p>æ‰€æœ‰<code>Entities</code>éƒ½å­˜å‚¨åœ¨<code>ContentState</code>è®°å½•ä¸­ã€‚<code>ContentState</code>ä¸­çš„é”®å¼•ç”¨<code>Entities</code>ï¼Œç”¨äºè£…é¥°å¸¦æ³¨é‡Šçš„èŒƒå›´çš„Reactç»„ä»¶ã€‚</p><p>ä½¿ç”¨è£…é¥°å™¨æˆ–è‡ªå®šä¹‰å—ç»„ä»¶ï¼Œæ‚¨å¯ä»¥æ ¹æ®<code>Entities</code>å…ƒæ•°æ®å‘ç¼–è¾‘å™¨æ·»åŠ ä¸°å¯Œçš„æ¸²æŸ“ã€‚</p><h2 id="åˆ›å»ºå’Œå›æ”¶-Entities"><a href="#åˆ›å»ºå’Œå›æ”¶-Entities" class="headerlink" title="åˆ›å»ºå’Œå›æ”¶ Entities"></a>åˆ›å»ºå’Œå›æ”¶ Entities</h2><p>åº”ä½¿ç”¨<code>contentState.createEntity</code>åˆ›å»º<code>Entities</code>ï¼Œå®ƒæ¥å—ä¸Šé¢çš„ä¸‰ä¸ªå±æ€§ä½œä¸ºå‚æ•°ã€‚æ­¤æ–¹æ³•è¿”å›æ›´æ–°çš„<code>ContentState</code>è®°å½•ä»¥åŒ…å«æ–°åˆ›å»ºçš„å®ä½“ï¼Œç„¶åæ‚¨å¯ä»¥è°ƒç”¨<code>contentState.getLastCreatedEntityKey</code>æ¥è·å–æ–°åˆ›å»ºçš„<code>Entities</code>è®°å½•çš„å¯†é’¥ã€‚</p><p>æ­¤é”®æ˜¯å°†<code>Entities</code>åº”ç”¨äºå†…å®¹æ—¶åº”ä½¿ç”¨çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>Modifier</code>æ¨¡å—åŒ…å«<code>applyEntity</code>æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> contentState = editorState.getCurrentContent();</span><br><span class="line"><span class="keyword">const</span> contentStateWithEntity = contentState.createEntity(</span><br><span class="line">  <span class="string">'LINK'</span>,</span><br><span class="line">  <span class="string">'MUTABLE'</span>,</span><br><span class="line">  &#123;<span class="attr">url</span>: <span class="string">'http://www.zombo.com'</span>&#125;</span><br><span class="line">);</span><br><span class="line"><span class="keyword">const</span> entityKey = contentStateWithEntity.getLastCreatedEntityKey();</span><br><span class="line"><span class="keyword">const</span> contentStateWithLink = Modifier.applyEntity(</span><br><span class="line">  contentStateWithEntity,</span><br><span class="line">  selectionState,</span><br><span class="line">  entityKey</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>å¯¹äºç»™å®šçš„æ–‡æœ¬èŒƒå›´ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨<code>ContentBlock</code>å¯¹è±¡ä¸Šä½¿ç”¨<code>getEntityAt()</code>æ–¹æ³•æå–å…¶å…³è”çš„å®ä½“é”®ï¼Œå¹¶ä¼ å…¥ç›®æ ‡åç§»å€¼ã€‚</p><h2 id="Mutability"><a href="#Mutability" class="headerlink" title="Mutability"></a>Mutability</h2><p><code>Entities</code>å¯ä»¥å…·æœ‰ä¸‰ä¸ªâ€œMutabilityâ€å€¼ä¸­çš„ä¸€ä¸ªã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºç”¨æˆ·å¯¹å…¶è¿›è¡Œç¼–è¾‘æ—¶çš„è¡Œä¸ºæ–¹å¼ã€‚</p><p><code>SelectionState</code>å¯¹è±¡çš„æœ€å¸¸è§ç”¨é€”æ˜¯é€šè¿‡<code>EditorState.getSelection()</code>ï¼Œå®ƒæä¾›å½“å‰åœ¨ç¼–è¾‘å™¨ä¸­å‘ˆç°çš„<code>SelectionState</code>ã€‚</p><p>ç”±äº<code>Draft</code>ä½¿ç”¨<code>ContentBlock</code>å¯¹è±¡ç»´æŠ¤ç¼–è¾‘å™¨çš„å†…å®¹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ¨¡å‹æ¥è¡¨ç¤ºè¿™äº›ç‚¹ã€‚å› æ­¤ï¼Œé€‰æ‹©ç‚¹è¢«è·Ÿè¸ªä¸ºé”®/åç§»å¯¹ï¼Œå…¶ä¸­é”®å€¼æ˜¯ä½äºè¯¥ç‚¹çš„<code>ContentBlock</code>çš„é”®ï¼Œå¹¶ä¸”åç§»å€¼æ˜¯å—å†…çš„å­—ç¬¦åç§»ã€‚</p><h2 id="Start-End-vs-Anchor-Focus"><a href="#Start-End-vs-Anchor-Focus" class="headerlink" title="Start/End vs. Anchor/Focus"></a>Start/End vs. Anchor/Focus</h2><p>å½“å®é™…åœ¨æµè§ˆå™¨ä¸­å‘ˆç°é€‰æ‹©çŠ¶æ€æ—¶ï¼Œ<code>anchor</code>å’Œ<code>focus</code>çš„æ¦‚å¿µéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®éœ€è¦ä½¿ç”¨å‘å‰å’Œå‘åé€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå¯¹äºç¼–è¾‘æ“ä½œï¼Œé€‰æ‹©çš„æ–¹å‘æ— å…³ç´§è¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè€ƒè™‘<code>start</code>å’Œ<code>end</code>æ›´åˆé€‚ã€‚</p><p>å› æ­¤ï¼Œ<code>SelectionState</code>ä¼šå…¬å¼€<code>anchor</code>/<code>focus</code>å€¼å’Œ<code>start</code>/<code>end</code>å€¼ã€‚ç®¡ç†é€‰æ‹©è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨<code>anchor</code>å’Œ<code>focus</code>å€¼æ¥ç»´æŠ¤é€‰æ‹©æ–¹å‘ã€‚ä½†æ˜¯ï¼Œåœ¨ç®¡ç†å†…å®¹æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨<code>start</code>å’Œ<code>end</code>å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“åŸºäº<code>SelectionState</code>ä»å—ä¸­æå–æ–‡æœ¬åˆ‡ç‰‡æ—¶ï¼Œé€‰æ‹©æ˜¯å¦å‘åæ˜¯æ— å…³ç´§è¦çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ar selectionState = editorState.getSelection();</span><br><span class="line"><span class="keyword">var</span> anchorKey = selectionState.getAnchorKey();</span><br><span class="line"><span class="keyword">var</span> currentContent = editorState.getCurrentContent();</span><br><span class="line"><span class="keyword">var</span> currentContentBlock = currentContent.getBlockForKey(anchorKey);</span><br><span class="line"><span class="keyword">var</span> start = selectionState.getStartOffset();</span><br><span class="line"><span class="keyword">var</span> end = selectionState.getEndOffset();</span><br><span class="line"><span class="keyword">var</span> selectedText = currentContentBlock.getText().slice(start, end);</span><br></pre></td></tr></table></figure><p>è¯·æ³¨æ„ï¼Œ<code>SelectionState</code>æœ¬èº«ä»…è·Ÿè¸ªé”šç‚¹å’Œç„¦ç‚¹å€¼ã€‚å¯¼å‡ºèµ·å§‹å€¼å’Œç»“æŸå€¼ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Draftâ€”â€”Entities&quot;&gt;&lt;a href=&quot;#Draftâ€”â€”Entities&quot; class=&quot;headerlink&quot; title=&quot;Draftâ€”â€”Entities&quot;&gt;&lt;/a&gt;Draftâ€”â€”Entities&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡è®¨è®ºå®ä½“ç³»ç»Ÿï¼Œ&lt;code&gt;Draft&lt;/code&gt; ç”¨äºä½¿ç”¨å…ƒæ•°æ®æ³¨é‡Šæ–‡æœ¬èŒƒå›´ã€‚&lt;code&gt;Entities&lt;/code&gt;å¼•å…¥äº†è¶…å‡ºæ ·å¼æ–‡æœ¬çš„ä¸°å¯Œç¨‹åº¦ã€‚é“¾æ¥(Link)ï¼Œå‘è¨€(mentions)å’ŒåµŒå…¥å†…å®¹(embedded)éƒ½å¯ä»¥ä½¿ç”¨å®ä½“æ¥&lt;code&gt;Entities&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;Draft&lt;/code&gt;å­˜å‚¨åº“ä¸­ï¼Œ&lt;a href=&quot;https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/link&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é“¾æ¥ç¼–è¾‘å™¨&lt;/a&gt;å’Œ&lt;code&gt;Entities&lt;/code&gt;æ¼”ç¤ºæä¾›äº†å®æ—¶ä»£ç ç¤ºä¾‹ï¼Œä»¥å¸®åŠ©é˜æ˜å¦‚ä½•ä½¿ç”¨å®ä½“ä»¥åŠå®ƒä»¬çš„å†…ç½®è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://draftjs.org/docs/api-reference-entity.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Entity API Reference&lt;/a&gt;æä¾›äº†æœ‰å…³åœ¨åˆ›å»ºï¼Œæ£€ç´¢æˆ–æ›´æ–°å®ä½“å¯¹è±¡æ—¶ä½¿ç”¨çš„é™æ€æ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³Entity APIæœ€è¿‘æ›´æ”¹çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•æ›´æ–°åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„&lt;a href=&quot;https://draftjs.org/docs/v0-10-api-migration.html#content&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;v0.10 APIè¿ç§»æŒ‡å—&lt;/a&gt;ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Draft" scheme="http://xuzihao.fun/categories/Draft/"/>
    
    
      <category term="React" scheme="http://xuzihao.fun/tags/React/"/>
    
      <category term="Draft.js" scheme="http://xuzihao.fun/tags/Draft-js/"/>
    
  </entry>
  
  <entry>
    <title>Draft â€”â€” Rich Styling</title>
    <link href="http://xuzihao.fun/Draft-RichUtils.html"/>
    <id>http://xuzihao.fun/Draft-RichUtils.html</id>
    <published>2018-07-06T13:02:00.000Z</published>
    <updated>2018-07-06T13:02:52.464Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨æˆ‘ä»¬å·²ç»å»ºç«‹äº†é¡¶çº§APIçš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œç ”ç©¶å¦‚ä½•å°†åŸºæœ¬çš„ä¸°å¯Œæ ·å¼æ·»åŠ åˆ°<code>Dragt</code>ç¼–è¾‘å™¨ä¸­ã€‚</p><p>A <a href="https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/rich" target="_blank" rel="noopener">richTextExample</a> is also available to follow along.</p><h2 id="EditorState-Yours-to-Command"><a href="#EditorState-Yours-to-Command" class="headerlink" title="EditorState: Yours to Command"></a>EditorState: Yours to Command</h2><p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†<code>EditorState</code>å¯¹è±¡ä½œä¸ºç¼–è¾‘å™¨å®Œæ•´çŠ¶æ€çš„å¿«ç…§,ç”±<code>Editor</code>æ ¸å¿ƒé€šè¿‡<code>onChange props</code>ç»™çš„.</p><p>ä½†æ˜¯ï¼Œç”±äºæœ€é¡¶å±‚çš„Reactç»„ä»¶è´Ÿè´£ç»´æŠ¤çŠ¶æ€ï¼Œå› æ­¤æ‚¨è¿˜å¯ä»¥ä»¥ä»»ä½•æ‚¨è®¤ä¸ºåˆé€‚çš„æ–¹å¼è‡ªç”±åœ°å°†æ›´æ”¹åº”ç”¨äºè¯¥<code>EditorState</code>å¯¹è±¡ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äºå†…è”å’Œå—æ ·å¼è¡Œä¸ºï¼Œ<code>RichUtils</code> æ¨¡å—æä¾›äº†è®¸å¤šæœ‰ç”¨çš„å‡½æ•°æ¥å¸®åŠ©æ“ä½œçŠ¶æ€ã€‚</p><p>åŒæ ·ï¼Œ<a href="https://draftjs.org/docs/api-reference-modifier.html" target="_blank" rel="noopener">Modifier</a> æ¨¡å—è¿˜æä¾›äº†è®¸å¤šå…è®¸æ‚¨åº”ç”¨ç¼–è¾‘çš„å¸¸ç”¨æ“ä½œï¼ŒåŒ…æ‹¬å¯¹æ–‡æœ¬ï¼Œæ ·å¼ç­‰æ›´æ”¹ã€‚è¯¥æ¨¡å—æ˜¯ä¸€å¥—ç¼–è¾‘å‡½æ•°ï¼Œå®ƒä»¬ç»„æˆæ›´ç®€å•ï¼Œæ›´å°çš„ç¼–è¾‘å‡½æ•°ï¼Œä»¥è¿”å›æ‰€éœ€çš„<code>EditorState</code>å¯¹è±¡ã€‚</p><p>å¯¹äºæ­¤ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†åšæŒä½¿ç”¨<code>RichUtils</code>æ¥æ¼”ç¤ºå¦‚ä½•åœ¨æœ€é¡¶å±‚ç»„ä»¶ä¸­åº”ç”¨åŸºæœ¬çš„ä¸°å¯Œæ ·å¼ã€‚</p><a id="more"></a><h2 id="RichUtils-and-Key-Commands"><a href="#RichUtils-and-Key-Commands" class="headerlink" title="RichUtils and Key Commands"></a>RichUtils and Key Commands</h2><p><code>RichUtils</code> åŒ…å«æœ‰å…³Webç¼–è¾‘å™¨å¯ç”¨çš„æ ¸å¿ƒé”®å‘½ä»¤çš„ä¿¡æ¯ï¼Œä¾‹å¦‚<code>Cmd + Bï¼ˆç²—ä½“ï¼‰</code>ï¼Œ<code>Cmd + Iï¼ˆæ–œä½“ï¼‰</code>ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>handleKeyCommand</code> <code>prop</code>è§‚å¯Ÿå’Œå¤„ç†å…³é”®å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬æŒ‚é’©åˆ°<code>RichUtils</code>ä¸­ä»¥åº”ç”¨æˆ–åˆ é™¤æ‰€éœ€çš„æ ·å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;Editor, EditorState, RichUtils&#125; <span class="keyword">from</span> <span class="string">'draft-js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEditor</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">editorState</span>: EditorState.createEmpty()&#125;;</span><br><span class="line">    <span class="keyword">this</span>.onChange = <span class="function">(<span class="params">editorState</span>) =&gt;</span> <span class="keyword">this</span>.setState(&#123;editorState&#125;);</span><br><span class="line">    <span class="keyword">this</span>.handleKeyCommand = <span class="keyword">this</span>.handleKeyCommand.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  handleKeyCommand(command, editorState) &#123;</span><br><span class="line">    <span class="keyword">const</span> newState = RichUtils.handleKeyCommand(editorState, command);</span><br><span class="line">    <span class="keyword">if</span> (newState) &#123;</span><br><span class="line">      <span class="keyword">this</span>.onChange(newState);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'handled'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'not-handled'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Editor</span><br><span class="line">        editorState=&#123;<span class="keyword">this</span>.state.editorState&#125;</span><br><span class="line">        handleKeyCommand=&#123;<span class="keyword">this</span>.handleKeyCommand&#125;</span><br><span class="line">        onChange=&#123;<span class="keyword">this</span>.onChange&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>handleKeyCommand  </p><p>æä¾›ç»™<code>handleKeyCommand</code>çš„å‘½ä»¤å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œå³è¦æ‰§è¡Œçš„å‘½ä»¤çš„åç§°ã€‚è¿™æ˜¯ä»DOMé”®äº‹ä»¶æ˜ å°„çš„ã€‚<code>editorState</code>å‚æ•°è¡¨ç¤ºæœ€æ–°çš„ç¼–è¾‘å™¨çŠ¶æ€ï¼Œå› ä¸ºåœ¨å¤„ç†å¯†é’¥æ—¶å®ƒå¯èƒ½ä¼šè¢«<code>Draft</code>å†…éƒ¨æ›´æ”¹ã€‚åœ¨<code>handleKeyCommand</code>ä¸­ä½¿ç”¨ç¼–è¾‘å™¨çŠ¶æ€çš„è¿™ä¸ªå®ä¾‹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://draftjs.org/docs/advanced-topics-key-bindings.html" target="_blank" rel="noopener"> Advanced Topics - Key Binding</a>ï¼Œä»¥åŠæœ‰å…³å‡½æ•°è¿”å›å¤„ç†æˆ–æœªå¤„ç†çš„è¯¦ç»†ä¿¡æ¯ã€‚  </p></blockquote><h2 id="Styling-Controls-in-UI"><a href="#Styling-Controls-in-UI" class="headerlink" title="Styling Controls in UI"></a>Styling Controls in UI</h2><p>åœ¨Reactç»„ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æ·»åŠ æŒ‰é’®æˆ–å…¶ä»–æ§ä»¶ä»¥å…è®¸ç”¨æˆ·åœ¨ç¼–è¾‘å™¨ä¸­ä¿®æ”¹æ ·å¼ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å·²çŸ¥çš„é”®å‘½ä»¤ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ·»åŠ æ›´å¤æ‚çš„UIæ¥æä¾›è¿™äº›ä¸°å¯Œçš„åŠŸèƒ½ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªè¶…çº§åŸºæœ¬çš„ä¾‹å­ï¼Œå¸¦æœ‰ä¸€ä¸ªâ€œç²—ä½“â€æŒ‰é’®æ¥åˆ‡æ¢BOLDé£æ ¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEditor</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// â€¦</span></span><br><span class="line"></span><br><span class="line">  _onBoldClick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.onChange(RichUtils.toggleInlineStyle(<span class="keyword">this</span>.state.editorState, <span class="string">'BOLD'</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>._onBoldClick.bind(<span class="keyword">this</span>)&#125;&gt;Bold&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Editor</span></span><br><span class="line"><span class="regexp">          editorState=&#123;this.state.editorState&#125;</span></span><br><span class="line"><span class="regexp">          handleKeyCommand=&#123;this.handleKeyCommand&#125;</span></span><br><span class="line"><span class="regexp">          onChange=&#123;this.onChange&#125;</span></span><br><span class="line"><span class="regexp">        /</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»å»ºç«‹äº†é¡¶çº§APIçš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œç ”ç©¶å¦‚ä½•å°†åŸºæœ¬çš„ä¸°å¯Œæ ·å¼æ·»åŠ åˆ°&lt;code&gt;Dragt&lt;/code&gt;ç¼–è¾‘å™¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;A &lt;a href=&quot;https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/rich&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;richTextExample&lt;/a&gt; is also available to follow along.&lt;/p&gt;
&lt;h2 id=&quot;EditorState-Yours-to-Command&quot;&gt;&lt;a href=&quot;#EditorState-Yours-to-Command&quot; class=&quot;headerlink&quot; title=&quot;EditorState: Yours to Command&quot;&gt;&lt;/a&gt;EditorState: Yours to Command&lt;/h2&gt;&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†&lt;code&gt;EditorState&lt;/code&gt;å¯¹è±¡ä½œä¸ºç¼–è¾‘å™¨å®Œæ•´çŠ¶æ€çš„å¿«ç…§,ç”±&lt;code&gt;Editor&lt;/code&gt;æ ¸å¿ƒé€šè¿‡&lt;code&gt;onChange props&lt;/code&gt;ç»™çš„.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œç”±äºæœ€é¡¶å±‚çš„Reactç»„ä»¶è´Ÿè´£ç»´æŠ¤çŠ¶æ€ï¼Œå› æ­¤æ‚¨è¿˜å¯ä»¥ä»¥ä»»ä½•æ‚¨è®¤ä¸ºåˆé€‚çš„æ–¹å¼è‡ªç”±åœ°å°†æ›´æ”¹åº”ç”¨äºè¯¥&lt;code&gt;EditorState&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¯¹äºå†…è”å’Œå—æ ·å¼è¡Œä¸ºï¼Œ&lt;code&gt;RichUtils&lt;/code&gt; æ¨¡å—æä¾›äº†è®¸å¤šæœ‰ç”¨çš„å‡½æ•°æ¥å¸®åŠ©æ“ä½œçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·ï¼Œ&lt;a href=&quot;https://draftjs.org/docs/api-reference-modifier.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Modifier&lt;/a&gt; æ¨¡å—è¿˜æä¾›äº†è®¸å¤šå…è®¸æ‚¨åº”ç”¨ç¼–è¾‘çš„å¸¸ç”¨æ“ä½œï¼ŒåŒ…æ‹¬å¯¹æ–‡æœ¬ï¼Œæ ·å¼ç­‰æ›´æ”¹ã€‚è¯¥æ¨¡å—æ˜¯ä¸€å¥—ç¼–è¾‘å‡½æ•°ï¼Œå®ƒä»¬ç»„æˆæ›´ç®€å•ï¼Œæ›´å°çš„ç¼–è¾‘å‡½æ•°ï¼Œä»¥è¿”å›æ‰€éœ€çš„&lt;code&gt;EditorState&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ­¤ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†åšæŒä½¿ç”¨&lt;code&gt;RichUtils&lt;/code&gt;æ¥æ¼”ç¤ºå¦‚ä½•åœ¨æœ€é¡¶å±‚ç»„ä»¶ä¸­åº”ç”¨åŸºæœ¬çš„ä¸°å¯Œæ ·å¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Draft" scheme="http://xuzihao.fun/categories/Draft/"/>
    
    
      <category term="React" scheme="http://xuzihao.fun/tags/React/"/>
    
      <category term="Draft.js" scheme="http://xuzihao.fun/tags/Draft-js/"/>
    
  </entry>
  
  <entry>
    <title>Draft.js â€”â€” API Basics</title>
    <link href="http://xuzihao.fun/Draft.js%20%E2%80%94%E2%80%94API%20Basics.html"/>
    <id>http://xuzihao.fun/Draft.js â€”â€”API Basics.html</id>
    <published>2018-07-05T12:49:00.000Z</published>
    <updated>2018-07-05T12:50:47.002Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Draft-js-â€”â€”API-Basics"><a href="#Draft-js-â€”â€”API-Basics" class="headerlink" title="Draft.js â€”â€”API Basics"></a>Draft.js â€”â€”API Basics</h1><h2 id="API-Basics"><a href="#API-Basics" class="headerlink" title="API Basics"></a>API Basics</h2><p>Reactç»„ä»¶<code>Editor</code>æ˜¯ä½œä¸ºHTML5çš„<code>ContentEditable</code>å…ƒç´ å¹¶ä»¥å—æ§ç»„ä»¶æ¥æ„å»ºçš„ï¼Œå…¶ç›®æ ‡æ˜¯æä¾›ä»¥ç†Ÿæ‚‰çš„Reactæ§åˆ¶è¾“å…¥APIä¸ºæ¨¡å‹çš„é¡¶çº§APIã€‚</p><p>ç®€è¦å›é¡¾ï¼Œå—æ§è¾“å…¥æ¶‰åŠä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š</p><ol><li>ä¸€ä¸ª<code>state</code> ä»£è¡¨è¾“å…¥<code>value</code>çš„å€¼ã€‚</li><li><code>onChange</code>å‡½æ•°ç”¨äºæ¥å—è¾“å…¥çš„å€¼å¹¶æ›´æ–°ã€‚</li></ol><p>è¿™ç§æ–¹æ³•å…è®¸ç»„æˆè¾“å…¥çš„ç»„ä»¶ä¸¥æ ¼æ§åˆ¶è¾“å…¥çš„çŠ¶æ€ï¼ŒåŒæ—¶ä»ç„¶å…è®¸æ›´æ–°<code>DOM</code>ä»¥æä¾›æœ‰å…³ç”¨æˆ·ç¼–å†™çš„æ–‡æœ¬çš„ä¿¡æ¯ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">value</span>: <span class="string">''</span>&#125;;</span><br><span class="line">    <span class="keyword">this</span>.onChange = <span class="function">(<span class="params">evt</span>) =&gt;</span> <span class="keyword">this</span>.setState(&#123;<span class="attr">value</span>: evt.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&#123;this.state.value&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.onChange&#125;</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure></p><p>é¡¶çº§ç»„ä»¶å¯ä»¥é€šè¿‡æ­¤å€¼stateå±æ€§ä¿æŒå¯¹è¾“å…¥çŠ¶æ€çš„æ§åˆ¶ã€‚<br><a id="more"></a></p><h2 id="å—æ§å¯Œæ–‡æœ¬"><a href="#å—æ§å¯Œæ–‡æœ¬" class="headerlink" title="å—æ§å¯Œæ–‡æœ¬"></a>å—æ§å¯Œæ–‡æœ¬</h2><p>åœ¨Reactå¯Œæ–‡æœ¬æ–¹æ¡ˆä¸­ï¼Œæœ‰ä¸¤ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼š</p><ol><li>ä¸€ä¸²å­—ç¬¦ä¸²çº¯æ–‡æœ¬ä¸è¶³ä»¥è¡¨ç¤ºå¯Œç¼–è¾‘å™¨çš„å¤æ‚çŠ¶æ€</li><li>HTML5çš„ <code>ContentEditable</code>å…ƒç´ æ²¡æœ‰å¯ç”¨çš„<code>onChange</code>äº‹ä»¶ã€‚</li></ol><p><code>State</code> å› æ­¤å°±è¢«ä½œä¸ºä¸€ä¸ªå•ä¸ªä¸å¯å˜çš„<code>EditorState</code>å¯¹è±¡ï¼Œå¹¶ä¸”å’Œ<code>onChange</code>ä¸€èµ·åœ¨<code>Editor</code>æ ¸å¿ƒä¸­å®ç°ï¼Œä»¥å°†æ­¤çŠ¶æ€å€¼æä¾›ç»™é¡¶éƒ¨ã€‚</p><p><code>EditorState</code>å¯¹è±¡æ˜¯ç¼–è¾‘å™¨çŠ¶æ€çš„å®Œæ•´å¿«ç…§ï¼ŒåŒ…å«å†…å®¹(contents)ï¼Œå…‰æ ‡(cursor)ï¼Œå’Œæ’¤æ¶ˆ(undo)/é‡åš(redo)çš„å†å²è®°å½•ã€‚å¯¹å†…å®¹çš„æ‰€æœ‰æ”¹å˜å’Œç¼–è¾‘å™¨ä¸­çš„é€‰æ‹©éƒ½å°†åˆ›å»ºæ–°çš„<code>EditorState</code>å¯¹è±¡ã€‚<br>æ³¨æ„ï¼šç”±äºæ¨ªè¿‡ä¸å¯å˜å¯¹è±¡çš„æ•°æ®æŒä¹…æ€§ï¼Œè¿™ä»ç„¶æœ‰æ•ˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;Editor, EditorState&#125; <span class="keyword">from</span> <span class="string">'draft-js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEditor</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">editorState</span>: EditorState.createEmpty()&#125;;</span><br><span class="line">    <span class="keyword">this</span>.onChange = <span class="function">(<span class="params">editorState</span>) =&gt;</span> <span class="keyword">this</span>.setState(&#123;editorState&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Editor</span> <span class="attr">editorState</span>=<span class="string">&#123;this.state.editorState&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.onChange&#125;</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºç¼–è¾‘å™¨DOMä¸­å‘ç”Ÿçš„ä»»ä½•ç¼–è¾‘æˆ–é€‰æ‹©æ›´æ”¹ï¼Œ<code>onChange</code>å¤„ç†ç¨‹åºå°†æ ¹æ®è¿™äº›æ›´æ”¹ä½¿ç”¨æœ€æ–°çš„<code>EditorState</code>å¯¹è±¡æ‰§è¡Œã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Draft-js-â€”â€”API-Basics&quot;&gt;&lt;a href=&quot;#Draft-js-â€”â€”API-Basics&quot; class=&quot;headerlink&quot; title=&quot;Draft.js â€”â€”API Basics&quot;&gt;&lt;/a&gt;Draft.js â€”â€”API Basics&lt;/h1&gt;&lt;h2 id=&quot;API-Basics&quot;&gt;&lt;a href=&quot;#API-Basics&quot; class=&quot;headerlink&quot; title=&quot;API Basics&quot;&gt;&lt;/a&gt;API Basics&lt;/h2&gt;&lt;p&gt;Reactç»„ä»¶&lt;code&gt;Editor&lt;/code&gt;æ˜¯ä½œä¸ºHTML5çš„&lt;code&gt;ContentEditable&lt;/code&gt;å…ƒç´ å¹¶ä»¥å—æ§ç»„ä»¶æ¥æ„å»ºçš„ï¼Œå…¶ç›®æ ‡æ˜¯æä¾›ä»¥ç†Ÿæ‚‰çš„Reactæ§åˆ¶è¾“å…¥APIä¸ºæ¨¡å‹çš„é¡¶çº§APIã€‚&lt;/p&gt;
&lt;p&gt;ç®€è¦å›é¡¾ï¼Œå—æ§è¾“å…¥æ¶‰åŠä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ª&lt;code&gt;state&lt;/code&gt; ä»£è¡¨è¾“å…¥&lt;code&gt;value&lt;/code&gt;çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;onChange&lt;/code&gt;å‡½æ•°ç”¨äºæ¥å—è¾“å…¥çš„å€¼å¹¶æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•å…è®¸ç»„æˆè¾“å…¥çš„ç»„ä»¶ä¸¥æ ¼æ§åˆ¶è¾“å…¥çš„çŠ¶æ€ï¼ŒåŒæ—¶ä»ç„¶å…è®¸æ›´æ–°&lt;code&gt;DOM&lt;/code&gt;ä»¥æä¾›æœ‰å…³ç”¨æˆ·ç¼–å†™çš„æ–‡æœ¬çš„ä¿¡æ¯ã€‚&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyInput&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;React&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;(props) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.state = &amp;#123;&lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.onChange = &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;evt&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setState(&amp;#123;&lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;: evt.target.value&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  render() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;#123;this.state.value&amp;#125;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onChange&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;#123;this.onChange&amp;#125;&lt;/span&gt; /&amp;gt;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é¡¶çº§ç»„ä»¶å¯ä»¥é€šè¿‡æ­¤å€¼stateå±æ€§ä¿æŒå¯¹è¾“å…¥çŠ¶æ€çš„æ§åˆ¶ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Draft" scheme="http://xuzihao.fun/categories/Draft/"/>
    
    
      <category term="React" scheme="http://xuzihao.fun/tags/React/"/>
    
      <category term="Draft.js" scheme="http://xuzihao.fun/tags/Draft-js/"/>
    
  </entry>
  
  <entry>
    <title>Webpack-dev-serveré…åˆreact-router4</title>
    <link href="http://xuzihao.fun/Webpack-dev-server%E9%85%8D%E5%90%88react-router4.html"/>
    <id>http://xuzihao.fun/Webpack-dev-serveré…åˆreact-router4.html</id>
    <published>2018-06-30T13:28:00.000Z</published>
    <updated>2018-06-30T13:28:43.245Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Webpack-dev-serveré…åˆreact-router4"><a href="#Webpack-dev-serveré…åˆreact-router4" class="headerlink" title="Webpack-dev-serveré…åˆreact-router4"></a>Webpack-dev-serveré…åˆreact-router4</h1><p>åœ¨React-router4ä¸‹ï¼Œç”¨ <code>BrowserRouter</code> è·¯ç”±åˆ°ä¸€ä¸ªç»„ä»¶ã€‚æ¯”å¦‚è¯´</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/exampledashboard.jpg" alt=""><br>æˆ‘åˆ·æ–°ä¹‹åå°±ä¼šæ˜¾ç¤º <code>Cannot GET /dashboard</code>ï¼ï¼Ÿ<br>åŸæ¥devServeéœ€è¦ä»¥ä¸‹è®¾ç½®ï¼š<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/devServer.jpg" alt=""><br><a id="more"></a><br>å¯¹äºå•é¡µé¢ç¨‹åºï¼Œæµè§ˆå™¨çš„<code>brower histroy</code>å¯ä»¥è®¾ç½®æˆ<code>html5 history api</code>æˆ–è€…<code>hash</code>ï¼Œè€Œè®¾ç½®ä¸º<code>html5 api</code>çš„.<br>å¦‚æœåˆ·æ–°æµè§ˆå™¨ä¼šå‡ºç°404 not foundï¼ŒåŸå› æ˜¯å®ƒé€šè¿‡è¿™ä¸ªè·¯å¾„ï¼ˆæ¯”å¦‚ï¼š /activities/2/ques/2ï¼‰æ¥è®¿é—®åå°.<br>æ‰€ä»¥ä¼šå‡ºç°404ï¼Œè€ŒæŠŠhistoryApiFallbackè®¾ç½®ä¸ºtrueé‚£ä¹ˆæ‰€æœ‰çš„è·¯å¾„éƒ½æ‰§è¡Œindex.htmlã€‚<br>å¹¶ä¸”React-routerçš„<code>BrowserRouter</code>å°±æ˜¯åŸºäº<code>browerhistroy</code>ã€‚</p><h2 id="è¿˜æ²¡å®Œ"><a href="#è¿˜æ²¡å®Œ" class="headerlink" title="è¿˜æ²¡å®Œ?"></a>è¿˜æ²¡å®Œ?</h2><p>å¦‚æœä½ å‘ç°ä½ è¿™æ ·è®¾ç½®äº†è¿˜æ˜¯æŠ¥<code>Cannot GET /dashboard</code> é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥è¿™æ ·è®¾ç½®<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/webpackPublicPath.jpg" alt=""><br>æ²¡è®¾ç½®æ˜¯è¿™æ ·<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E6%97%A0:%E7%9A%84.jpg" alt=""></p><p>å¦‚æ­¤æ“ä½œä¹‹åæˆ‘ä»¬å°±ä¼šå‘ç°</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E6%9C%89:%E7%9A%84.jpg" alt=""><br>å¦¥äº†ï¼Œéšæ„åˆ·æ–°å§</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Webpack-dev-serveré…åˆreact-router4&quot;&gt;&lt;a href=&quot;#Webpack-dev-serveré…åˆreact-router4&quot; class=&quot;headerlink&quot; title=&quot;Webpack-dev-serveré…åˆreact-router4&quot;&gt;&lt;/a&gt;Webpack-dev-serveré…åˆreact-router4&lt;/h1&gt;&lt;p&gt;åœ¨React-router4ä¸‹ï¼Œç”¨ &lt;code&gt;BrowserRouter&lt;/code&gt; è·¯ç”±åˆ°ä¸€ä¸ªç»„ä»¶ã€‚æ¯”å¦‚è¯´&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/exampledashboard.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;æˆ‘åˆ·æ–°ä¹‹åå°±ä¼šæ˜¾ç¤º &lt;code&gt;Cannot GET /dashboard&lt;/code&gt;ï¼ï¼Ÿ&lt;br&gt;åŸæ¥devServeéœ€è¦ä»¥ä¸‹è®¾ç½®ï¼š&lt;br&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/devServer.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Webpack" scheme="http://xuzihao.fun/categories/Webpack/"/>
    
    
      <category term="Webpack" scheme="http://xuzihao.fun/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰</title>
    <link href="http://xuzihao.fun/%E5%BE%AE%E4%BF%A1%E5%AE%A2%E6%9C%8D%E6%B6%88%E6%81%AF%E5%8A%9F%E8%83%BD%E5%85%A8%E8%A7%A3.html"/>
    <id>http://xuzihao.fun/å¾®ä¿¡å®¢æœæ¶ˆæ¯åŠŸèƒ½å…¨è§£.html</id>
    <published>2018-06-29T15:19:00.000Z</published>
    <updated>2018-07-04T05:06:17.042Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰"><a href="#å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰"></a>å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰</h1><p>å°ç¨‹åºæ¥å…¥å®¢æœï¼Œæˆ‘ä»¬å°±éœ€è¦è°ƒç”¨å¾®ä¿¡å®¢æœåŠŸèƒ½ã€‚å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨é¡µé¢ä¸­ä½¿ç”¨ <code>&lt;button open-type=&quot;contact&quot; /&gt;</code> å¯ä»¥æ˜¾ç¤ºè¿›å…¥å®¢æœä¼šè¯æŒ‰é’®ã€‚<br>ç„¶åæˆ‘ä»¬å°±èƒ½ç™»å½•ç½‘é¡µç‰ˆçš„å¾®ä¿¡å…¬ä¼—å¹³å°çš„å®¢æœé¡µé¢è¿›å»å›å¤å„ç§åƒå¥‡ç™¾æ€ªçš„é—®é¢˜äº†ã€‚<br>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¦‚ä½•åšåˆ°è‡ªåŠ¨å›å¤å‘¢ï¼Ÿ<br>é‚£ä¹ˆå°±éœ€è¦é€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨å»é€šè¿‡å¾®ä¿¡ç«¯è¯·æ±‚æœåŠ¡ï¼Œå®Œæˆè¿™é¡¹å·¥ä½œã€‚<br><a href="https://developers.weixin.qq.com/miniprogram/dev/api/custommsg/callback_help.html" target="_blank" rel="noopener">æ¥å…¥æŒ‡å¼• Â· å°ç¨‹åº</a>é™„ä¸Šå®˜ç½‘æ¥å…¥æŒ‡å—ï¼Œè¿™å¯æ˜¯ç›¸å½“çš„ç®€æ´ã€‚</p><h2 id="First"><a href="#First" class="headerlink" title="First"></a>First</h2><p>å¡«å†™æœåŠ¡å™¨é…ç½®çš„å›¾ï¼š<br><img src="https://mp.weixin.qq.com/debug/wxadoc/dev/image/callback_help.png?t=2018626" alt=""><br><a id="more"></a><br>åœ¨è¿™é‡Œå¡«å†™çš„åŒæ—¶æˆ‘ä»¬éœ€è¦åœ¨åå°å†™<code>get</code>è¯·æ±‚éªŒè¯ã€‚<br>å®˜æ–¹æä¾›äº†ä¸€ä¸ªéå¸¸ç®€æ´çš„ä¸€ä¸ªphpä»£ç ã€‚ã€‚é‚£æ˜¯ç›¸å½“çš„å‘çˆ¹å•Šã€‚<br>è¿™é‡Œæˆ‘æ˜¯ç”¨<code>express</code>å†™å¾—æä¾›ä¸€ä¸ªä¾‹å­<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSignature</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> key = [params.token, params.timestamp, params.nonce].sort().join(<span class="string">''</span>);</span><br><span class="line">    <span class="keyword">var</span> sha1 = crypto.createHash(<span class="string">'sha1'</span>);</span><br><span class="line">    sha1.update(key);</span><br><span class="line">    <span class="keyword">return</span> sha1.digest(<span class="string">'hex'</span>) === params.signature;</span><br><span class="line">  &#125;</span><br><span class="line">app.get(<span class="string">'/wxlalalala'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> token = <span class="string">'xxxxx'</span>; <span class="comment">// å¡«å†™æœåŠ¡å™¨é…ç½®ä¸Šæ‰€å¡«çš„token</span></span><br><span class="line">    <span class="keyword">let</span> isCheck = checkSignature(&#123;</span><br><span class="line">      signature: req.query.signature,</span><br><span class="line">      timestamp: req.query.timestamp,</span><br><span class="line">      nonce: req.query.nonce,</span><br><span class="line">      token: token,</span><br><span class="line">    &#125;);</span><br><span class="line">    req.body = req.query.echostr;</span><br><span class="line">    res.send(req.body);</span><br><span class="line">    <span class="keyword">return</span> req.body;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p><p>ç„¶åæˆ‘ä»¬å°±å®Œæˆäº†æœ€å…³é”®çš„ä¸€æ­¥ã€‚ä¹‹åå°±å¯ä»¥å»å†™ï¼Œå®¢æˆ·å‘äº†ä»€ä¹ˆæˆ‘ä»¬å°±è‡ªåŠ¨å›å•¥çš„é€»è¾‘ã€‚</p><h2 id="Second"><a href="#Second" class="headerlink" title="Second"></a>Second</h2><p>å½“æˆ‘ä»¬å»æ¥å—å®¢æˆ·å‘çš„æ¶ˆæ¯å’Œäº‹ä»¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å»é€šè¿‡ä¸€ä¸ªpostå»æ¥å—ã€‚<br>å½“ç„¶ç¬¬ä¸€æˆ‘ä»¬éœ€è¦å…ˆå»æ‹¿<code>access_token</code>ã€‚æ²¡æœ‰è¿™ä¸ªæˆ‘ä»¬å•¥äº‹æƒ…éƒ½åšä¸äº†ã€‚<br>ç»™ä¸Šä¸€ä¸ªå®˜æ–¹ç½‘ç«™ï¼š<br><a href="https://developers.weixin.qq.com/miniprogram/dev/api/token.html#%E8%8E%B7%E5%8F%96-access_token" target="_blank" rel="noopener">æ¥å£è°ƒç”¨å‡­è¯ Â· å°ç¨‹åº</a>ï¼Œä½†æ˜¯æ¯«æ— ä»£ç ç¤ºä¾‹ï¼Œç®—äº†è¿˜åœ¨è‡ªå·±æ’¸å§ã€‚<br>ä»¥ä¸‹è‡ªå·±çš„code:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> access_token = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getAccessToken = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (access_token !== <span class="string">''</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> access_token;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> URL =</span><br><span class="line">      <span class="string">'https://api.weixin.qq.com/cgi-bin/token?grant_type= client_credential&amp;appid=xxxx&amp;secret=sssss'</span>; <span class="comment">// grant_typeä¸€å®šè¦å¡«client_credential.</span></span><br><span class="line">    <span class="keyword">let</span> options = &#123;</span><br><span class="line">      method: <span class="string">'GET'</span>,</span><br><span class="line">      url: URL,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      request(options, <span class="function"><span class="keyword">function</span>(<span class="params">err, res, body</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res) &#123;</span><br><span class="line">          access_token = <span class="built_in">JSON</span>.parse(body).access_token;</span><br><span class="line">          <span class="keyword">let</span> expires_in = <span class="built_in">parseInt</span>(<span class="built_in">JSON</span>.parse(body).expires_in) - <span class="number">10</span>;</span><br><span class="line">          setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            access_token = <span class="string">''</span>;</span><br><span class="line">            <span class="comment">//getAccessToken();</span></span><br><span class="line">          &#125;, expires_in * <span class="number">1000</span>);</span><br><span class="line">          resolve(access_token);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(err);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure></p><p>å› ä¸ºtokenæœ‰7200sçš„è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥å°±å­˜åœ¨å†…å­˜é‡Œäº†ã€‚<br>Okè¿™ä¸ªæˆ‘ä»¬å°±æœ‰<code>access_token</code>èƒ½å»åšå®¢æœè‡ªåŠ¨å›å¤å•¦ï¼</p><h2 id="Third"><a href="#Third" class="headerlink" title="Third"></a>Third</h2><p>å†æ¥ä¸€ä¸ªå®˜æ–¹å®¢æœå‘é€æ¶ˆæ¯çš„æ–‡æ¡£ï¼š<br><a href="https://developers.weixin.qq.com/miniprogram/dev/api/custommsg/conversation.html" target="_blank" rel="noopener">å‘é€å®¢æœæ¶ˆæ¯ Â· å°ç¨‹åº</a>ï¼Œå‘ç°åˆæ˜¯å•¥éƒ½æ²¡ç”¨ã€‚ã€‚ã€‚<br>è¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå§ã€‚ã€‚æ¯•ç«Ÿé‚£ä¹ˆç²¾ç˜¦çš„æ–‡æ¡£ã€‚ã€‚T T.é‚£å°±å†™ä¸€ä¸ªå›å¤æ–‡æœ¬æ¶ˆæ¯çš„å§ï¼å…¶ä»–çš„ç±»ä¼¼è‡ªå·±æ‰©å±•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postJson = <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> options = &#123;</span><br><span class="line">    url: param.url,</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: param.body,</span><br><span class="line">    json: <span class="literal">true</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  request(options, <span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">error, response, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!error &amp;&amp; response.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">      param.success(response.errcode);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      param.error(error);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sendTextMessage</span>(<span class="params">content, data, access_token</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> postJson(&#123;</span><br><span class="line">    url:</span><br><span class="line">      <span class="string">'https://api.weixin.qq.com/cgi-bin/message/custom/send?access_token='</span> +</span><br><span class="line">      access_token,</span><br><span class="line">    body: &#123;</span><br><span class="line">      touser: data.FromUserName,</span><br><span class="line">      msgtype: <span class="string">'text'</span>,</span><br><span class="line">      text: &#123;</span><br><span class="line">        content: content,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res, <span class="string">'send successed!1'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    error: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Last"><a href="#Last" class="headerlink" title="Last"></a>Last</h2><p>å›å¤çš„å‡½æ•°ä¹Ÿå†™å¥½äº†ï¼Œæ¥åˆ°æœ€åæ ¹æ®å®¢æˆ·å‘æ¥çš„æ¶ˆæ¯æˆ‘ä»¬ä½œä¸ºæ™ºèƒ½å®¢æœå»å›æ¶ˆæ¯å•¦ï¼ä¸å¤šè¯´ç›´æ¥ä¸Šcodeã€‚æ–‡æ¡£ã€‚ã€‚ã€‚å°±ç®—äº†åªèƒ½çœ‹çœ‹å‚æ•°å•¥çš„ã€‚ã€‚å“<br><a href="https://developers.weixin.qq.com/miniprogram/dev/api/custommsg/receive.html#%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF%E5%92%8C%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener">å®¢æœæ¶ˆæ¯ Â· å°ç¨‹åº</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">app.post(<span class="string">'/wxlallalal'</span>, (req, res, next) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> token = <span class="string">'xxxxx'</span>;<span class="comment">// å¡«å†™æœåŠ¡å™¨é…ç½®é‚£çš„token</span></span><br><span class="line">    <span class="keyword">let</span> reqBody = req.body;</span><br><span class="line">    <span class="keyword">let</span> isCheck = checkSignature(&#123;</span><br><span class="line">      signature: req.query.signature,</span><br><span class="line">      timestamp: req.query.timestamp,</span><br><span class="line">      nonce: req.query.nonce,</span><br><span class="line">      token: token,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">if</span> (isCheck) &#123;</span><br><span class="line">      <span class="keyword">let</span> welcome= <span class="string">'æ¬¢è¿'</span>;</span><br><span class="line">         <span class="keyword">switch</span> (reqBody.MsgType) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'text'</span>: &#123;</span><br><span class="line">          <span class="comment">//æ–‡æœ¬æ¶ˆæ¯</span></span><br><span class="line">          sendTextMessage(<span class="string">'æ‚¨å¥½ï¼Œã€'</span>+reqBody.Content+<span class="string">'ã€‘æ˜¯æœªçŸ¥å‘½ä»¤ï¼Œå·²è½¬å‘ç»™äººå·¥å¤„ç†ã€‚\n'</span>+welcomeTips, reqBody, getAccessToken());</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'image'</span>: &#123;</span><br><span class="line">          <span class="comment">//ç”¨æˆ·åœ¨å®¢æœä¼šè¯ä¸­å‘é€å›¾ç‰‡æ¶ˆæ¯</span></span><br><span class="line">          sendImageMessage(<span class="string">'xxxxxxx'</span>, reqBody, getAccessToken());</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'event'</span>: &#123;</span><br><span class="line">            sendTextMessage(welcome, reqBody, getAccessToken());</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.send(<span class="string">'success'</span>);</span><br><span class="line">    next();</span><br><span class="line">    res.end();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p><p>å®Œæˆå•¦æ„‰å¿«çš„ä½¿ç”¨è‡ªåŠ¨å®¢æœå›å¤ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰&quot;&gt;&lt;a href=&quot;#å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰&quot;&gt;&lt;/a&gt;å¾®ä¿¡å°ç¨‹åºå®¢æœè‡ªåŠ¨å›å¤æ¶ˆæ¯åŠŸèƒ½é‡‡å‘ï¼ˆå®Œï¼‰&lt;/h1&gt;&lt;p&gt;å°ç¨‹åºæ¥å…¥å®¢æœï¼Œæˆ‘ä»¬å°±éœ€è¦è°ƒç”¨å¾®ä¿¡å®¢æœåŠŸèƒ½ã€‚å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨é¡µé¢ä¸­ä½¿ç”¨ &lt;code&gt;&amp;lt;button open-type=&amp;quot;contact&amp;quot; /&amp;gt;&lt;/code&gt; å¯ä»¥æ˜¾ç¤ºè¿›å…¥å®¢æœä¼šè¯æŒ‰é’®ã€‚&lt;br&gt;ç„¶åæˆ‘ä»¬å°±èƒ½ç™»å½•ç½‘é¡µç‰ˆçš„å¾®ä¿¡å…¬ä¼—å¹³å°çš„å®¢æœé¡µé¢è¿›å»å›å¤å„ç§åƒå¥‡ç™¾æ€ªçš„é—®é¢˜äº†ã€‚&lt;br&gt;ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¦‚ä½•åšåˆ°è‡ªåŠ¨å›å¤å‘¢ï¼Ÿ&lt;br&gt;é‚£ä¹ˆå°±éœ€è¦é€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨å»é€šè¿‡å¾®ä¿¡ç«¯è¯·æ±‚æœåŠ¡ï¼Œå®Œæˆè¿™é¡¹å·¥ä½œã€‚&lt;br&gt;&lt;a href=&quot;https://developers.weixin.qq.com/miniprogram/dev/api/custommsg/callback_help.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ¥å…¥æŒ‡å¼• Â· å°ç¨‹åº&lt;/a&gt;é™„ä¸Šå®˜ç½‘æ¥å…¥æŒ‡å—ï¼Œè¿™å¯æ˜¯ç›¸å½“çš„ç®€æ´ã€‚&lt;/p&gt;
&lt;h2 id=&quot;First&quot;&gt;&lt;a href=&quot;#First&quot; class=&quot;headerlink&quot; title=&quot;First&quot;&gt;&lt;/a&gt;First&lt;/h2&gt;&lt;p&gt;å¡«å†™æœåŠ¡å™¨é…ç½®çš„å›¾ï¼š&lt;br&gt;&lt;img src=&quot;https://mp.weixin.qq.com/debug/wxadoc/dev/image/callback_help.png?t=2018626&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="å°ç¨‹åº" scheme="http://xuzihao.fun/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
      <category term="å°ç¨‹åº" scheme="http://xuzihao.fun/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>Sasså°ç¬”è®°</title>
    <link href="http://xuzihao.fun/Sass%E5%B0%8F%E7%AC%94%E8%AE%B0.html"/>
    <id>http://xuzihao.fun/Sasså°ç¬”è®°.html</id>
    <published>2018-06-21T13:26:00.000Z</published>
    <updated>2018-07-12T12:55:07.653Z</updated>
    
    <content type="html"><![CDATA[<h2 id="çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦-amp"><a href="#çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦-amp" class="headerlink" title="çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦&amp;"></a>çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦&amp;</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">article</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  &amp;:hover &#123; <span class="attribute">color</span>: red &#125;</span><br><span class="line">&#125;</span><br><span class="line">-&gt; </span><br><span class="line">article a &#123; color: blue &#125;</span><br><span class="line">article a:hover &#123; color: red &#125;</span><br></pre></td></tr></table></figure><h2 id="åµŒå¥—å±æ€§"><a href="#åµŒå¥—å±æ€§" class="headerlink" title="åµŒå¥—å±æ€§"></a>åµŒå¥—å±æ€§</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">  style: solid;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">-&gt;</span><br><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="mixin"><a href="#mixin" class="headerlink" title="@mixin"></a>@mixin</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">mixin</span> rounded-corners &#123;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line">notice &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#00aa00</span>;</span><br><span class="line">  @<span class="keyword">include</span> rounded-corners;</span><br><span class="line">&#125;</span><br><span class="line">-&gt;</span><br><span class="line"><span class="selector-class">.notice</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#00aa00</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="mixinä¼ å‚"><a href="#mixinä¼ å‚" class="headerlink" title="@mixinä¼ å‚"></a>@mixinä¼ å‚</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">mixin</span> link-colors(<span class="variable">$normal</span>, <span class="variable">$hover</span>, <span class="variable">$visited</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$normal</span>;</span><br><span class="line">  &amp;:hover &#123; <span class="attribute">color</span>: <span class="variable">$hover</span>; &#125;</span><br><span class="line">  &amp;:visited &#123; <span class="attribute">color</span>: <span class="variable">$visited</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  @<span class="keyword">include</span> link-colors(blue, red, green);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Sassæœ€ç»ˆç”Ÿæˆçš„æ˜¯ï¼š</span></span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">color</span>: blue; &#125;</span><br><span class="line"><span class="selector-tag">a</span>:hover &#123; <span class="attribute">color</span>: red; &#125;</span><br><span class="line"><span class="selector-tag">a</span>:visited &#123; <span class="attribute">color</span>: green; &#125;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡é€‰æ‹©å™¨ç»§æ‰¿ç»§æ‰¿æ ·å¼</span></span><br><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> .error;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦-amp&quot;&gt;&lt;a href=&quot;#çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦-amp&quot; class=&quot;headerlink&quot; title=&quot;çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦&amp;amp;&quot;&gt;&lt;/a&gt;çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦&amp;amp;&lt;/h2&gt;&lt;figure class=&quot;highlight scss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;article&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: blue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;amp;:hover &amp;#123; &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: red &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;article a &amp;#123; color: blue &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;article a:hover &amp;#123; color: red &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;åµŒå¥—å±æ€§&quot;&gt;&lt;a href=&quot;#åµŒå¥—å±æ€§&quot; class=&quot;headerlink&quot; title=&quot;åµŒå¥—å±æ€§&quot;&gt;&lt;/a&gt;åµŒå¥—å±æ€§&lt;/h2&gt;&lt;figure class=&quot;highlight scss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;nav&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;border&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  style: solid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#ccc&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;nav&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;border-style&lt;/span&gt;: solid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;border-width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;border-color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#ccc&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="CSS" scheme="http://xuzihao.fun/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://xuzihao.fun/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>ç©Denoé‡åˆ°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</title>
    <link href="http://xuzihao.fun/%E7%8E%A9Deno%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html"/>
    <id>http://xuzihao.fun/ç©Denoé‡åˆ°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ.html</id>
    <published>2018-06-02T07:30:00.000Z</published>
    <updated>2018-08-26T12:07:13.132Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æœ‰ä¸ªæ–°çš„Denoé¡¹ç›®æ˜¯ç”±nodeåŸä½œè€…ryå‘èµ·çš„ï¼Œç¬é—´ç«çˆ†ï¼Œstaræ•°é£èµ·ã€‚<br>ä½†æ˜¯åœ¨æ­å»ºç¯å¢ƒçš„è¿‡ç¨‹ä¸­è¿˜æ˜¯æœ‰äº›å°é—®é¢˜ï¼Œä½†æ˜¯åœ¨å‹å¥½çš„issueä¸‹éƒ½å¾—åˆ°äº†è§£å†³ï¼<br>å†æ­¤æ€»ç»“ï¼Œå¹¶å¯¹é‚£äº›åœ¨issueé‡Œæ— ç§è´¡çŒ®è‡ªå·±è§£å†³æ–¹æ¡ˆçš„äººç‚¹èµï¼å¼€æºç¤¾åŒºçš„å’Œè°éœ€è¦å¤§å®¶å»ä¸€èµ·åŠªåŠ›ã€‚</p><p>é™„ä¸Šé¡¹ç›®åœ°å€:<br><a href="https://github.com/ry/deno" target="_blank" rel="noopener">GitHub - ry/deno: A secure TypeScript runtime on V8</a></p><a id="more"></a><h2 id="Step1"><a href="#Step1" class="headerlink" title="Step1"></a>Step1</h2><p>åœ¨å¼€å§‹ä¹‹å‰è¯·å‡†å¤‡å¥½v<em>p</em>n*ã€‚<br>å¤§å®¶éœ€è¦å»å®‰è£… <code>Go</code> ç¯å¢ƒ.å¹¶ä¸”å» <code>export</code> å„ç§Goç›¸å…³çš„ç¯å¢ƒå˜é‡.</p><p>ä»¥ä¸‹æ˜¯æ–¹æ­£å¤§ä½¬ç»™æˆ‘æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¾ˆæ„Ÿè°¢ã€‚<br><a href="https://github.com/ry/deno/issues/92" target="_blank" rel="noopener">https://github.com/ry/deno/issues/92</a><br>Mac OSå¯ä»¥å‚è€ƒä»¥ä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export GOROOT=/usr/local/go # where your `go` sitting, usually here ( Mac )</span><br><span class="line">export GOPATH=$HOME/go # means `~/go` </span><br><span class="line">export PATH=$PATH:$HOME/go/bin:$GOPATH/bin</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ˜¯Macçš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å»å®‰è£…<code>xcode-select</code><br> <a href="http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/" target="_blank" rel="noopener">http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/</a> </p><p>æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…Protobuf ã€‚Ubuntuä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">wget https://github.com/google/protobuf/releases/download/v3.1.0/protoc-3.1.0-linux-x86_64.zip</span><br><span class="line">unzip protoc-3.1.0-linux-x86_64.zip</span><br><span class="line">export PATH=$HOME/bin:$PATH</span><br></pre></td></tr></table></figure></p><p>Macä¸‹ç®€å•ç²—æš´ï¼š<br><code>brew install protobuf</code><br>å†æ¥è£…ä¸€ä¸ª<code>README</code>ä¸­æ²¡æåŠçš„<br><code>brew install pkg-config</code></p><h2 id="Step2"><a href="#Step2" class="headerlink" title="Step2"></a>Step2</h2><p>Okä»¥ä¸Šä¸€åˆ‡æ­£å¸¸ï¼Œæ²¡å‡ºå•¥å¹ºè›¾å­ã€‚<br>æˆ‘ä»¬ç»§ç»­ï¼Œç°åœ¨éœ€è¦ <code>protoc-gen-go</code>  å’Œ  <code>go-bindata</code>:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/golang/protobuf/protoc-gen-go</span><br><span class="line">go get -u github.com/jteeuwen/go-bindata/...</span><br></pre></td></tr></table></figure></p><p>è¿™æ­¥éœ€è¦ç­‰ä¸€å°ä¼™ï¼Œè®°å¾—ä¸€å®šè¦v<em>p</em>nå•Š!</p><h2 id="Step3"><a href="#Step3" class="headerlink" title="Step3"></a>Step3</h2><p>ç°åœ¨æˆ‘ä»¬æ¥å›°éš¾é‡é‡çš„ <code>v8worker2</code> å•¦ã€‚æˆ‘ä»¬éœ€è¦get ç„¶å build å®ƒã€‚å¤§æ¦‚ä¼šèŠ±30min<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/ry/v8worker2</span><br><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">./build.py --use_ccache</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥å¤§å®¶å¯èƒ½é‡åˆ°çš„æƒ…å†µï¼š<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/go-get.png" alt=""><br>è¿™ç§æƒ…å†µè¯´æ˜æˆ‘ä»¬ <code>clone</code> ä¸‹çš„v8æ˜¯æœ‰æŸåçš„ï¼Œç„¶åæˆ‘ä»¬éœ€è¦åšä»¥ä¸‹æ“ä½œ</p><ol><li><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">rm -rf v8</span><br><span class="line">git clone https://github.com/v8/v8.git</span><br><span class="line">cd v8</span><br><span class="line">git checkout fe12316ec4b4a101923e395791ca55442e62f4cc</span><br></pre></td></tr></table></figure></li></ol><p>æˆ–è€…</p><ol start="2"><li><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:$GOPATH/src/github.com/ry/v8worker2/depot_tools</span><br><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">rm -rf v8</span><br><span class="line">fetch v8</span><br><span class="line">cd v8</span><br><span class="line">git checkout fe12316</span><br></pre></td></tr></table></figure></li></ol><p>å› ä¸ºç”¨ç¬¬ä¸€ç§æ–¹æ³•æˆ‘å‘ç°æˆ‘çš„vpnä¸èƒ½å¿«é€Ÿçš„ä¸‹è½½æ‰€ä»¥å°±å°è¯•äº†ç¬¬äºŒç§æ–¹æ³•ã€‚å¦‚æœä½ é”®å…¥<code>fetch</code>å‘ç°å‘½ä»¤è¡Œå‡ºç°<code>command not found: fetch</code>ã€‚<br>ä½ å¯ä»¥å°è¯•<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">depot_tools/./fetch v8</span><br></pre></td></tr></table></figure></p><p>æ„Ÿè°¢ <a href="https://github.com/ry/deno/issues/92" target="_blank" rel="noopener">go get v8worker2 Direct fetching of that commit failed? Â· Issue #92 Â· ry/deno Â· GitHub</a> ä¸‹é¢ç»™å‡ºè§£å†³æ–¹æ¡ˆçš„äºº@wbgbg ï¼Œ@qti3eï¼Œ@ztplz </p><p>å¦‚æœä½ å‘ç°è‡ªå·±çš„<code>depot_tools</code>æ–‡ä»¶å¤¹ä¸‹å•¥éƒ½æ²¡æœ‰ã€‚ä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">git submodule update --init</span><br></pre></td></tr></table></figure></p><p>ä¹‹åå†å»<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $GOPATH/src/github.com/ry/v8worker2</span><br><span class="line">./build.py</span><br></pre></td></tr></table></figure></p><p>ä½ çœ‹è§äº†ä»¥ä¸‹ï¼Œé‚£ä¹ˆå°±æ­å–œå•¦ï¼ä»–åœ¨ç¼–è¯‘äº†<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/buildv8woker2.png" alt=""></p><h2 id="Step4"><a href="#Step4" class="headerlink" title="Step4"></a>Step4</h2><p>æœ€åä¸€æ­¥<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/ry/deno/...</span><br><span class="line">cd $GOPATH/src/github.com/ry/deno</span><br><span class="line">make # ç¨ç­‰ç‰‡åˆ»</span><br><span class="line">./deno testdata/001_hello.js # Output: Hello World</span><br></pre></td></tr></table></figure></p><p>åˆæ˜¯ç†Ÿæ‚‰çš„Hello Worldï¼<br>åœ¨<code>go get -u github.com/ry/deno/...</code>é‡åˆ°ä»¥ä¸‹é—®é¢˜ä¸è¦æ€¥ï¼Œç›´æ¥<code>make deno</code>èµ°ä½ ï¼<br><a href="https://github.com/ry/deno/issues/71" target="_blank" rel="noopener">deno/dispatch.go:10:26: undefined: BaseMsg Â· Issue #71 Â· ry/deno Â· GitHub</a><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> go get  -u github.com/ry/deno/...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> github.com/ry/deno</span></span><br><span class="line">../deno/dispatch.go:10:26: undefined: BaseMsg</span><br><span class="line">../deno/dispatch.go:30:10: undefined: BaseMsg</span><br><span class="line">../deno/dispatch.go:62:14: undefined: BaseMsg</span><br><span class="line">../deno/dispatch.go:68:34: undefined: Msg</span><br><span class="line">../deno/dispatch.go:119:13: select case must be receive, send or assign recv</span><br><span class="line">../deno/fetch.go:13:11: undefined: Msg</span><br><span class="line">../deno/fetch.go:16:8: undefined: Msg_FETCH_REQ</span><br><span class="line">../deno/fetch.go:29:14: undefined: Msg</span><br><span class="line">../deno/main.go:38:15: undefined: Asset</span><br><span class="line">../deno/main.go:110:19: undefined: Msg</span><br><span class="line">../deno/main.go:110:19: too many errors</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ åœ¨è¿™<code>make deno</code>é‡åˆ°äº†ä»¥ä¸‹é—®é¢˜ï¼Œè¯´æ˜ä½ ç¬¬ä¸€æ­¥æ–¹æ­£å¤§ä½¬ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆè¿˜æ²¡åšã€‚å›å»ä¹–ä¹–é…ç½®å§ï¼<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/makedeno.png" alt=""></p><p>ä¹‹åå†æ¬¡è¿è¡Œ<code>make deno</code>å®Œæˆï¼<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/denowork.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘æœ‰ä¸ªæ–°çš„Denoé¡¹ç›®æ˜¯ç”±nodeåŸä½œè€…ryå‘èµ·çš„ï¼Œç¬é—´ç«çˆ†ï¼Œstaræ•°é£èµ·ã€‚&lt;br&gt;ä½†æ˜¯åœ¨æ­å»ºç¯å¢ƒçš„è¿‡ç¨‹ä¸­è¿˜æ˜¯æœ‰äº›å°é—®é¢˜ï¼Œä½†æ˜¯åœ¨å‹å¥½çš„issueä¸‹éƒ½å¾—åˆ°äº†è§£å†³ï¼&lt;br&gt;å†æ­¤æ€»ç»“ï¼Œå¹¶å¯¹é‚£äº›åœ¨issueé‡Œæ— ç§è´¡çŒ®è‡ªå·±è§£å†³æ–¹æ¡ˆçš„äººç‚¹èµï¼å¼€æºç¤¾åŒºçš„å’Œè°éœ€è¦å¤§å®¶å»ä¸€èµ·åŠªåŠ›ã€‚&lt;/p&gt;
&lt;p&gt;é™„ä¸Šé¡¹ç›®åœ°å€:&lt;br&gt;&lt;a href=&quot;https://github.com/ry/deno&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub - ry/deno: A secure TypeScript runtime on V8&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Node.js" scheme="http://xuzihao.fun/categories/Node-js/"/>
    
    
      <category term="go" scheme="http://xuzihao.fun/tags/go/"/>
    
      <category term="TypeScript" scheme="http://xuzihao.fun/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠCssæƒå¨æŒ‡å—ã€‹</title>
    <link href="http://xuzihao.fun/CSS%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97.html"/>
    <id>http://xuzihao.fun/CSSæƒå¨æŒ‡å—.html</id>
    <published>2018-05-28T12:18:00.000Z</published>
    <updated>2018-05-28T12:18:47.382Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CSSæƒå¨æŒ‡å—"><a href="#CSSæƒå¨æŒ‡å—" class="headerlink" title="CSSæƒå¨æŒ‡å—"></a>CSSæƒå¨æŒ‡å—</h1><h2 id="å€™é€‰æ ·å¼è¡¨"><a href="#å€™é€‰æ ·å¼è¡¨" class="headerlink" title="å€™é€‰æ ·å¼è¡¨"></a>å€™é€‰æ ·å¼è¡¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"alternate stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.css"</span> <span class="attr">title</span>=<span class="string">"Big Text"</span>/&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>å€™é€‰æ ·å¼è¡¨åœ¨å¤§å¤šæ•°<code>Gecko</code>çš„æµè§ˆå™¨ä¸­å¾—åˆ°æ”¯æŒï¼Œå¦‚ï¼šFirefoxã€Netscapeä»¥åŠOpera 7.<br>æˆ–è€…è®¾ç½®åŒæ ·çš„<code>title</code>å±æ€§ï¼Œä¹‹åè®¾ç½®ä¸åŒçš„<code>media</code>å±æ€§ï¼Œåœ¨å„ç§åœºæ™¯ä¼šä½¿ç”¨å¯¹åº”çš„<code>css</code>æ–‡ä»¶</p><h2 id="import"><a href="#import" class="headerlink" title="@import"></a>@import</h2><p>@importä¹Ÿå¯ä»¥åº”ç”¨åª’ä½“ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@import url(styles.css) all;</span><br><span class="line">@import url(styles1.css) print;</span><br><span class="line">@import url(styles2.css) print, screen;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;CSSæƒå¨æŒ‡å—&quot;&gt;&lt;a href=&quot;#CSSæƒå¨æŒ‡å—&quot; class=&quot;headerlink&quot; title=&quot;CSSæƒå¨æŒ‡å—&quot;&gt;&lt;/a&gt;CSSæƒå¨æŒ‡å—&lt;/h1&gt;&lt;h2 id=&quot;å€™é€‰æ ·å¼è¡¨&quot;&gt;&lt;a href=&quot;#å€™é€‰æ ·å¼è¡¨&quot; class=&quot;headerlink&quot; title=&quot;å€™é€‰æ ·å¼è¡¨&quot;&gt;&lt;/a&gt;å€™é€‰æ ·å¼è¡¨&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;alternate stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/css&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;styles.css&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;title&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Big Text&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å¤©æ€»çŸ¥ä¹liveå°ç»“</title>
    <link href="http://xuzihao.fun/%E5%A4%A9%E6%80%BB%E7%9F%A5%E4%B9%8Elive%E5%B0%8F%E7%BB%93.html"/>
    <id>http://xuzihao.fun/å¤©æ€»çŸ¥ä¹liveå°ç»“.html</id>
    <published>2018-05-24T05:27:00.000Z</published>
    <updated>2018-05-25T12:16:57.490Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ"><a href="#è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ" class="headerlink" title="è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ"></a>è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ</h2><p>å¦‚æœä½ æ˜¯ä¸€ä¸ªå¯¹æ•°å­¦æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œæˆ–è®¸å¯ä»¥ä» Cè¯­è¨€ï¼Œå†è‡ªå­¦ä¸€äº›æ•°æ®ç»“æ„å’Œç®—æ³•ä¸­æ‰¾åˆ°ä¹è¶£ï¼›å¦‚æœä½ æ˜¯ä¸€ä¸ªå¸Œæœ›å¿«é€Ÿçœ‹åˆ°æˆæœçš„äººï¼Œå¯èƒ½ HTML + CSS ä¼šæˆä¸ºä½ å…¥é—¨çš„æœ€å¥½ä¼´ä¾£ã€‚</p><a id="more"></a><h2 id="ä»‹ç»æŸç«¯è¯­è¨€"><a href="#ä»‹ç»æŸç«¯è¯­è¨€" class="headerlink" title="ä»‹ç»æŸç«¯è¯­è¨€"></a>ä»‹ç»æŸç«¯è¯­è¨€</h2><p>å‰ç«¯æ¯«æ— ç–‘é—®ï¼ŒHTML+CSS+JavaScriptï¼Œå¯ä»¥é€‰ä¿® TypeScript ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼Œå½“ç„¶ï¼Œéšç€å¯¹å‰ç«¯çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œä½ å¯èƒ½è¿˜è¦å­¦ä¸€ä¸‹ Node.js</p><p>åç«¯ï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡çš„æ˜¯æœåŠ¡ç«¯å¼€å‘ï¼Œæ›´ä¸»æµçš„è¿˜æ˜¯ä½¿ç”¨ Javaï¼Œå¦‚æœä½ æœ‰åå¥½çš„è¯ï¼ŒPython / Ruby / Node / PHP / Go éƒ½å¯ä»¥æˆä¸ºä½ çš„é€‰æ‹©ã€‚</p><p>å¤§æ•°æ®ï¼Œä»è¯­è¨€ä¸Šæ¥è¯´å¤§æ•°æ®çš„å·¥å…·éƒ½æ˜¯ç”¨ Java å®ç°çš„ï¼Œä¹Ÿä¼šæœ‰æ¯”è¾ƒå¤šçš„äººç”¨ Javaï¼Œæˆ–è€…python</p><p>æ¸¸æˆå¼€å‘ï¼Œæ¸¸æˆå¼€å‘é™¤äº†é¡µæ¸¸æœ‰ PHP çš„ä»¥å¤–ï¼ŒPCç«¯æ¸¸éƒ½æ˜¯ C++ çš„ï¼Œè€Œæ‰‹æœºæ¸¸æˆåŒç§»åŠ¨ç«¯å¼€å‘ï¼ŒAndroid å’Œ iOS å°±æ˜¯é‚£ç‚¹ï¼ŒJavaï¼ŒKotlinï¼ŒObjective C å’Œ Swiftã€‚</p><p>ç¡¬ä»¶å¼€å‘ï¼Œé™¤äº†ç©å…·çº§çš„ Ruff ä½¿ç”¨çš„æ˜¯è‡ªå·±å°è£…çš„ JavaScript ä»¥å¤–ï¼ŒC / C++ ç»å¯¹æ˜¯ä¸äºŒçš„é€‰æ‹©ã€‚</p><p>æœºå™¨å­¦ä¹ ï¼Œè™½ç„¶å¾ˆå¤šè¯­è¨€éƒ½æœ‰æœºå™¨å­¦ä¹ çš„åº“ï¼Œä¸è¿‡ Python å‡­å€Ÿç€åº“å¤šè€Œå–èƒœï¼Œå°¤å…¶æ˜¯ä»Šå¹´æœºå™¨å­¦ä¹ å¤§çƒ­å¹´ï¼Œè¶Šæ¥è¶Šå¤šçš„ Python + æœºå™¨å­¦ä¹ åŸ¹è®­ç­å†’äº†å‡ºæ¥ï¼Œå¤§å®¶è¶‹ä¹‹è‹¥é¹œã€‚</p><p>è¿ç»´çš„è¯Linux å’Œ Shell è„šæœ¬è‚¯å®šæ˜¯å¿…é¡»çš„ï¼ŒPython å­¦ä¼šè‡ªç„¶æ˜¯æ›´å¥½çš„</p><h2 id="å¦‚ä½•å­¦ä¹ "><a href="#å¦‚ä½•å­¦ä¹ " class="headerlink" title="å¦‚ä½•å­¦ä¹ "></a>å¦‚ä½•å­¦ä¹ </h2><p>ä¸€äº›å®è·µå¹³å°å’Œå­¦ä¹ å¹³å°å¯èƒ½æ˜¯ä½ æœ€å¥½çš„ä¼´ä¾£â€”â€”æ¯”å¦‚ï¼šCodeCademy / FreeCodeCamp / Coursera ç­‰ç­‰ï¼Œå›½å†…çš„æ¯”å¦‚æ…•è¯¾ç½‘ï¼Œç½‘æ˜“äº‘è¯¾å ‚ï¼Œè®¡è’œå®¢ç­‰ç­‰ã€‚æ­¤å¤–ï¼Œå¯¹äºæœ‰ä¸€äº›åŸºç¡€çš„åŒå­¦ï¼Œä¹Ÿå¯ä»¥å»ä¸€äº›å›½å†…çš„æŠ€æœ¯äº¤æµç¤¾åŒºï¼Œåˆ·åˆ· GitHubï¼ŒStackOverflowï¼Œå¦‚æœè‹±æ–‡ä¸å¤Ÿå¥½ï¼Œè¿˜å¯ä»¥å» SegmentFaultï¼Œç¨€åœŸæ˜é‡‘çœ‹çœ‹ï¼ŒåŒæ ·ä¹Ÿä¸ä¹å…¥é—¨åˆ°ç²¾é€šçš„æ•™ç¨‹ã€‚æ­¤å¤–ï¼Œè¯»ä¹¦å’Œå®è·µä»ç„¶æ˜¯ä½ æœ€å¥½çš„æ–¹å¼ã€‚</p><h2 id="å­¦ä¹ æ•ˆç‡å¦‚ä½•æé«˜ã€‚"><a href="#å­¦ä¹ æ•ˆç‡å¦‚ä½•æé«˜ã€‚" class="headerlink" title="å­¦ä¹ æ•ˆç‡å¦‚ä½•æé«˜ã€‚"></a>å­¦ä¹ æ•ˆç‡å¦‚ä½•æé«˜ã€‚</h2><p>ä½ ä¼šå‘ç°ï¼Œçœ‹äº†è¿™ä¹ˆå¤šä¹¦ï¼Œä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œè¯¥ä¸ä¼šçš„è¿˜æ˜¯ä¸ä¼šã€‚è€Œå¦‚æœä½ å…‰ä½ç€å¤´å†™ä»£ç è€Œä¸çœ‹ä¹¦ã€æ–‡æ¡£æˆ–è€…æ˜¯å…¶ä»–æ¯”è¾ƒæƒå¨çš„å†…å®¹ï¼Œå°±ä¼šå‘ç°ï¼Œå†™äº†è¿™ä¹ˆå¤šä»£ç ï¼Œä¼¼ä¹éƒ½å·®ä¸å¤šï¼Œå¯¹è‡ªå·±å¹¶æ²¡æœ‰ä»€ä¹ˆå®é™…çš„æå‡ã€‚</p><p>å¾ˆå¤šäººéƒ½åœ¨æ€è€ƒçš„å†…å®¹ï¼Œä¸ºä»€ä¹ˆå­¦ä¹ çš„å†…å®¹å¥½åƒè¶Šæ¥è¶Šå¤šï¼Œå­¦éƒ½å­¦ä¸å®Œï¼Œè€Œä¸”æ¯ä¸ªä¸œè¥¿çš„å­¦ä¹ æˆæœ¬ä¼¼ä¹éƒ½æ²¡æœ‰ä¸‹é™ï¼Œä¾æ—§è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´è¿›è¡Œå­¦ä¹ ã€‚å…¶å®è®¡ç®—æœºè¿™ç§ä¸œè¥¿ï¼Œæˆ‘ä»ç„¶è®¤ä¸ºï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œè€Œä¸”æ¦‚å¿µè¿™ç§ä¸œè¥¿å°¤å…¶å¦‚æ­¤ï¼Œå˜åŒ–æœ€å¤šæœ€è®©äººåæ§½çš„å‰ç«¯ï¼Œå…¶å®æŠ„æ¥æŠ„å»ï¼Œè¿˜æ˜¯æŠŠåç«¯å¾ˆä¹…ä»¥å‰çš„ä¸œè¥¿æ‹¿è¿‡æ¥ç”¨ç”¨ï¼Œå˜æˆäº†è‡ªå·±çš„ï¼Œåªæ˜¯å› ä¸ºè¿‡å»çš„å‰ç«¯æ²¡ç”¨å—åˆ°è¶³å¤Ÿçš„é‡è§†ï¼ŒæŠ€æœ¯æ¯”è¾ƒè½åè€Œå·²ã€‚è€Œåç«¯çš„å¾ˆå¤šæ¦‚å¿µå‘¢ï¼Œåˆ™æ˜¯æŒªç”¨ä¸€äº›åŸºç¡€çš„æ€æƒ³è¿›è¡Œæ¼”åŒ–ï¼Œæ¢å¥è¯è¯´ï¼Œåªè¦è®¡ç®—æœºåŸºç¡€å¤Ÿæ‰å®ï¼Œé‚£ä¹ˆå¾ˆå¤šä¸œè¥¿å¯¹ä½ è€Œè¨€å¹¶ä¸æ˜¯ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ã€‚</p><h2 id="è¡¥"><a href="#è¡¥" class="headerlink" title="è¡¥"></a>è¡¥</h2><h3 id="C-C"><a href="#C-C" class="headerlink" title="C / C++"></a>C / C++</h3><p>ä¸»è¦æ˜¯å› ä¸ºï¼Œå­¦ä¹ äº†è¿™ä¸ªï¼Œå¯¹äºå…¶ä»–è¯­è¨€è€Œè¨€æ›´å®¹æ˜“æŒæ¡ï¼Œä½ å¯ä»¥æ›´å¥½çš„ç†è§£åº•å±‚å†…å­˜çš„å·¥ä½œï¼Œå°¤å…¶æ˜¯æŒ‡é’ˆï¼Œå¼•ç”¨å€¼å’Œå¼•ç”¨åœ°å€çš„åŒºåˆ«ä¸€æ¸…äºŒæ¥šã€‚</p><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><p>å³ä½¿å¤ªéš¾çš„ä½ æŒæ¡ä¸äº†ï¼Œæˆ‘è§‰å¾—ï¼Œæ‡‚å“ˆå¸Œçš„å’Œä¸æ‡‚å“ˆå¸Œçš„è¿˜æ˜¯ä¸¤ç§äººï¼›æ‡‚æ ‘çš„å’Œä¸æ‡‚æ ‘çš„ä¹Ÿæ˜¯ä¸¤ç§äººï¼Œæ‡‚æ’åºç®—æ³•å’Œä¸æ‡‚æ’åºç®—æ³•çš„ä¹Ÿæ˜¯ä¸¤ç§äººã€‚</p><h3 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h3><p>ç®—æ³•å¯¹äºä¸€äº›æ•°æ®ç»“æ„éƒ½æ²¡æœ‰å­¦å¥½çš„äººè€Œè¨€å¯èƒ½ç®—æ˜¯å¾ˆéš¾ç†è§£çš„ï¼Œä½†æ˜¯ç†è§£æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦çš„å’Œä¸ç†è§£æ—¶ç©ºå¤æ‚åº¦çš„ä¹Ÿä¸ä¸€æ ·ï¼ŒçŸ¥é“åˆ†æ²»æ³•ä¹Ÿæ˜¯ä¸€ä»¶å—ç›Šçš„äº‹æƒ…ã€‚</p><h3 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h3><p>å…ˆä¸è¯´åº”ç”¨å±‚çš„ HTTPï¼ŒçŸ¥é“ TCP çš„å¸¸è§é—®é¢˜å’Œä¸‰æ¬¡æ¡æ‰‹ï¼Œåˆ°ç‰©ç†å±‚çš„ç½‘çº¿â€”â€”ä¹Ÿæ˜¯å¦ä¸€ä¸ªæ”¶ç›Šã€‚ï¼ˆçŸ¥é“å¦‚ä½•ä¹°ç½‘çº¿å’Œä¿®ç½‘çº¿ï¼‰</p><h3 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h3><p>FIFO å’Œ LRUï¼Œæ­»é”é—®é¢˜ï¼Œç”Ÿäº§è€…æ¶ˆè´¹è€…ï¼Œé“¶è¡Œå®¶é—®é¢˜ï¼Œå“²å­¦å®¶è¿›é¤é—®é¢˜ç­‰ç­‰ï¼Œå¸®ä½ æ›´å¥½çš„äº†è§£ç³»ç»Ÿï¼Œä»è€Œå°†ç³»ç»Ÿä¸­çš„è§£å†³æ–¹æ¡ˆç”¨äºè‡ªå·±çš„åº”ç”¨æˆ–è€…æœåŠ¡ä¸­ã€‚</p><h3 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h3><p>æ•°æ®åº“çœ‹èµ·æ¥å¹¶ä¸å¤ªé‡è¦ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒæä¾›äº† SQL é‡Œçš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä½ è‡³å°‘å¯ä»¥äº†è§£åŸºç¡€çš„èŒƒå¼ã€‚</p><h2 id="ä¹¦ç±æ¨è"><a href="#ä¹¦ç±æ¨è" class="headerlink" title="ä¹¦ç±æ¨è"></a>ä¹¦ç±æ¨è</h2><p>ä»ã€ŠHeading Firstã€‹ç³»åˆ—åˆ°ã€ŠXX æ˜¯æ€æ · XX çš„ã€‹ï¼ˆæ¯”å¦‚ã€Šç½‘ç»œæ˜¯æ€æ ·è¿æ¥ã€‹ï¼‰ï¼Œè¿˜æœ‰æ—¥æœ¬äººçš„ã€Šå›¾è§£XXXXã€‹ç³»åˆ—éƒ½æ˜¯å…¥é—¨é‡Œæ¯”è¾ƒåŸºç¡€å’Œç§‘æ™®çº§åˆ«çš„ä¹¦ã€‚åŠ¨ç‰©ä¹¦ç³»åˆ—æœ‰å¾ˆå¤šå¯ä»¥æ·±å…¥çš„ä¹¦ï¼Œè€Œå„ç±»é»‘çš®ä¹¦å¾€å¾€åƒæ•™ç§‘ä¹¦ä¸€æ ·å¯ä»¥è®©ä½ æ›´å¥½çš„å…¨é¢ç†è§£ï¼ˆæ¯”å¦‚ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ã€Šç®—æ³•å¯¼è®ºã€‹ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ&quot;&gt;&lt;a href=&quot;#è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ&quot;&gt;&lt;/a&gt;è¯¯å…¥æ­§é€”æ€ä¹ˆå¯¹ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Ÿ&lt;/h2&gt;&lt;p&gt;å¦‚æœä½ æ˜¯ä¸€ä¸ªå¯¹æ•°å­¦æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œæˆ–è®¸å¯ä»¥ä» Cè¯­è¨€ï¼Œå†è‡ªå­¦ä¸€äº›æ•°æ®ç»“æ„å’Œç®—æ³•ä¸­æ‰¾åˆ°ä¹è¶£ï¼›å¦‚æœä½ æ˜¯ä¸€ä¸ªå¸Œæœ›å¿«é€Ÿçœ‹åˆ°æˆæœçš„äººï¼Œå¯èƒ½ HTML + CSS ä¼šæˆä¸ºä½ å…¥é—¨çš„æœ€å¥½ä¼´ä¾£ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ—¥å¸¸" scheme="http://xuzihao.fun/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
      <category term="ç”Ÿæ´»" scheme="http://xuzihao.fun/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ</title>
    <link href="http://xuzihao.fun/%E7%95%85%E8%AF%BB%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F.html"/>
    <id>http://xuzihao.fun/ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ.html</id>
    <published>2018-05-16T13:53:01.000Z</published>
    <updated>2018-05-23T12:50:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ"><a href="#ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ" class="headerlink" title="ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ"></a>ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ</h1><h2 id="ç¬¬ä¸€ç« "><a href="#ç¬¬ä¸€ç« " class="headerlink" title="ç¬¬ä¸€ç« "></a>ç¬¬ä¸€ç« </h2><p>ç¨‹åºä¸º0å’Œ1ç»„æˆçš„ä½ã€‚<br>8ä¸ªä½ç»„æˆä¸€èµ·ä¸ºå­—èŠ‚ã€‚<br>æ¯ä¸ªå­—èŠ‚è¡¨ç¤ºç¨‹åºä¸­çš„æŸäº›å­—ç¬¦ã€‚</p><p>åªç”± <code>ASCII</code> å­—ç¬¦æ„æˆçš„æ–‡ä»¶ä¸ºâ€”â€”æ–‡æœ¬æ–‡ä»¶<br>å…¶ä»–æ–‡ä»¶ä¸ºâ€”â€”â€”äºŒè¿›åˆ¶æ–‡ä»¶</p><p>ç¼–è¯‘ä¸€ä¸ªå¯æ‰§è¡Œçš„ <code>hello world</code>  éœ€è¦4ä¸ªæ­¥éª¤:<br>hello.c -&gt; é¢„å¤„ç†å™¨(cpp) -&gt; hello.i -&gt; ç¼–è¯‘å™¨(ccl) -&gt; hello.s -&gt; æ±‡ç¼–å™¨(as) -&gt; hello.o -&gt; é“¾æ¥å™¨(ld) -&gt; helloå¯æ‰§è¡Œæ–‡ä»¶<br><a id="more"></a></p><h3 id="ç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ"><a href="#ç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ" class="headerlink" title="ç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ"></a>ç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ</h3><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%84%E6%88%90.jpg" alt=""></p><ol><li>æ€»çº¿</li><li>I/Oè®¾å¤‡</li><li>ä¸»å­˜</li><li>å¤„ç†å™¨<h3 id="å­˜å‚¨å™¨è®¿é—®é€Ÿåº¦"><a href="#å­˜å‚¨å™¨è®¿é—®é€Ÿåº¦" class="headerlink" title="å­˜å‚¨å™¨è®¿é—®é€Ÿåº¦"></a>å­˜å‚¨å™¨è®¿é—®é€Ÿåº¦</h3></li></ol><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E5%AD%98%E5%82%A8%E5%99%A8%E8%AF%BB%E5%86%99%E9%80%9F%E5%BA%A6.jpg" alt=""></p><h3 id="æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶"><a href="#æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶" class="headerlink" title="æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶"></a>æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶</h3><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E7%A1%AC%E4%BB%B6.jpg" alt=""></p><p><strong>æ–‡ä»¶</strong> æ˜¯å¯¹  <code>I/O</code> è®¾å¤‡çš„æŠ½è±¡è¡¨ç¤º,<br><strong>è™šæ‹Ÿå†…å­˜</strong> æ˜¯ å¯¹ä¸»å­˜å’Œç£ç›˜çš„<code>I/O</code>è®¾å¤‡çš„æŠ½è±¡è¡¨ç¤º<br><strong>è¿›ç¨‹</strong> åˆ™æ˜¯å¯¹ å¤„ç†å™¨ã€ä¸»å­˜å’Œ<code>I/O</code>è®¾å¤‡çš„æŠ½è±¡è¡¨ç¤º</p><h3 id="è™šæ‹Ÿåœ°å€ç©ºé—´"><a href="#è™šæ‹Ÿåœ°å€ç©ºé—´" class="headerlink" title="è™šæ‹Ÿåœ°å€ç©ºé—´"></a>è™šæ‹Ÿåœ°å€ç©ºé—´</h3><p>ç¨‹åºä»£ç å’Œæ•°æ® -&gt; å † -&gt; å…±äº«åº“ -&gt; æ ˆ -&gt; å†…æ ¸è™šæ‹Ÿå†…å­˜ </p><p>ç½‘ç»œå°±æ˜¯ä¸€ç§I/Oè®¾å¤‡</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&quot;&gt;&lt;a href=&quot;#ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&quot;&gt;&lt;/a&gt;ç•…è¯»æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&lt;/h1&gt;&lt;h2 id=&quot;ç¬¬ä¸€ç« &quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç« &quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç« &quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç« &lt;/h2&gt;&lt;p&gt;ç¨‹åºä¸º0å’Œ1ç»„æˆçš„ä½ã€‚&lt;br&gt;8ä¸ªä½ç»„æˆä¸€èµ·ä¸ºå­—èŠ‚ã€‚&lt;br&gt;æ¯ä¸ªå­—èŠ‚è¡¨ç¤ºç¨‹åºä¸­çš„æŸäº›å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;åªç”± &lt;code&gt;ASCII&lt;/code&gt; å­—ç¬¦æ„æˆçš„æ–‡ä»¶ä¸ºâ€”â€”æ–‡æœ¬æ–‡ä»¶&lt;br&gt;å…¶ä»–æ–‡ä»¶ä¸ºâ€”â€”â€”äºŒè¿›åˆ¶æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘ä¸€ä¸ªå¯æ‰§è¡Œçš„ &lt;code&gt;hello world&lt;/code&gt;  éœ€è¦4ä¸ªæ­¥éª¤:&lt;br&gt;hello.c -&amp;gt; é¢„å¤„ç†å™¨(cpp) -&amp;gt; hello.i -&amp;gt; ç¼–è¯‘å™¨(ccl) -&amp;gt; hello.s -&amp;gt; æ±‡ç¼–å™¨(as) -&amp;gt; hello.o -&amp;gt; é“¾æ¥å™¨(ld) -&amp;gt; helloå¯æ‰§è¡Œæ–‡ä»¶&lt;br&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Apollo-server-graphql</title>
    <link href="http://xuzihao.fun/Apollo-server-graphql.html"/>
    <id>http://xuzihao.fun/Apollo-server-graphql.html</id>
    <published>2018-05-08T13:37:10.225Z</published>
    <updated>2018-05-08T13:47:34.978Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Apollo-server-graphql"><a href="#Apollo-server-graphql" class="headerlink" title="Apollo-server-graphql"></a>Apollo-server-graphql</h1><p>ç© <code>graphql</code> çš„è‚¯å®šå¬è¿‡å§ <code>apollo</code> ç­‰ç­‰ï¼Ÿæ²¡æœ‰ï¼Ÿ<br>ä¸Šæœˆçƒçš„é‚£ä¸ª <code>apollo</code>ä¹Ÿæ²¡å¬è¿‡å—ï¼Ÿï¼Ÿ</p><h2 id="apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ"><a href="#apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ" class="headerlink" title="apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ"></a>apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ</h2><p>å®ƒèƒ½è½»æ¾å°†æ‚¨çš„åç«¯è½¬æ¢ä¸º <code>GraphQL</code> æ¶æ„ã€‚<br>ä½ è¯´ä½ ä»¬ä»¥å‰éƒ½æ˜¯ <code>rest</code> ï¼Ÿ<br>æ²¡äº‹ï¼Œæœ€æ–°ç‰ˆçš„ <code>apollo</code> èƒ½å¤Ÿè®©ä½ ï¼Œ<br>åœ¨ç°æœ‰çš„ <code>REST API</code> ä¹‹ä¸Šæ„å»ºé€šç”¨çš„ <code>GraphQL API</code>ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥å¿«é€Ÿå‘å¸ƒæ–°çš„åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œæ— éœ€ç­‰å¾…åç«¯æ›´æ”¹ã€‚</p><a id="more"></a><h2 id="Goï¼"><a href="#Goï¼" class="headerlink" title="Goï¼"></a>Goï¼</h2><p>æˆ‘ç”¨ <code>TypeScript</code> å’Œ <code>Koa</code> å»ç© <code>graphql</code> ã€‚å¬èµ·æ¥å°±å¾ˆæ£’ï¼</p><blockquote><p>yarn add koa koa-router apollo-server-koa graphql-tools koa-bodyparser<br>&amp;&amp; yarn add  @types/graphql @types/koa @types/koa-bodyparser @types/koa-router  typescript -D<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Koa <span class="keyword">from</span> <span class="string">'koa'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> koaRouter <span class="keyword">from</span> <span class="string">'koa-router'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> koaBody <span class="keyword">from</span> <span class="string">'koa-bodyparser'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; graphiqlKoa,graphqlKoa &#125; <span class="keyword">from</span> <span class="string">'apollo-server-koa'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; makeExecutableSchema &#125; <span class="keyword">from</span> <span class="string">'graphql-tools'</span>;</span><br><span class="line"><span class="keyword">import</span> env <span class="keyword">from</span> <span class="string">'./env'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> koaRouter();</span><br><span class="line"><span class="keyword">const</span> port: <span class="built_in">number</span> = <span class="number">4040</span>;</span><br><span class="line"></span><br><span class="line">app.use(koaBody());</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±ä¸­é—´ä»¶</span></span><br><span class="line">app.use(router.routes()).use(router.allowedMethods());</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> books = [</span><br><span class="line">  &#123;title: <span class="string">"hdiahida"</span>, author: <span class="string">'dhiahdia'</span>&#125;,</span><br><span class="line">  &#123;title: <span class="string">"dbfb"</span>, author: <span class="string">'dahdiahi'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typeDefs = <span class="string">`</span></span><br><span class="line"><span class="string">  type Query &#123; books: [Book]&#125;</span></span><br><span class="line"><span class="string">  type Book &#123; title: String, author: String&#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> resolvers = &#123;</span><br><span class="line">  Query: &#123; books: <span class="function"><span class="params">()</span> =&gt;</span> books&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = makeExecutableSchema(&#123;</span><br><span class="line">  typeDefs,</span><br><span class="line">  resolvers</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.post(</span><br><span class="line">  <span class="string">'/graphql'</span>,</span><br><span class="line">  graphqlKoa(&#123;</span><br><span class="line">    schema,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// graphiql</span></span><br><span class="line">router.get(</span><br><span class="line">  <span class="string">'/graphiql'</span>,</span><br><span class="line">  graphiqlKoa(&#123;</span><br><span class="line">    endpointURL: <span class="string">'/graphql'</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/404'</span>, <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">  ctx.body = <span class="string">'404!!!'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ğŸŒ =&gt; server is open loaclhost:'</span> + port)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Apollo-server-graphql&quot;&gt;&lt;a href=&quot;#Apollo-server-graphql&quot; class=&quot;headerlink&quot; title=&quot;Apollo-server-graphql&quot;&gt;&lt;/a&gt;Apollo-server-graphql&lt;/h1&gt;&lt;p&gt;ç© &lt;code&gt;graphql&lt;/code&gt; çš„è‚¯å®šå¬è¿‡å§ &lt;code&gt;apollo&lt;/code&gt; ç­‰ç­‰ï¼Ÿæ²¡æœ‰ï¼Ÿ&lt;br&gt;ä¸Šæœˆçƒçš„é‚£ä¸ª &lt;code&gt;apollo&lt;/code&gt;ä¹Ÿæ²¡å¬è¿‡å—ï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot;&gt;&lt;a href=&quot;#apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot;&gt;&lt;/a&gt;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&lt;/h2&gt;&lt;p&gt;å®ƒèƒ½è½»æ¾å°†æ‚¨çš„åç«¯è½¬æ¢ä¸º &lt;code&gt;GraphQL&lt;/code&gt; æ¶æ„ã€‚&lt;br&gt;ä½ è¯´ä½ ä»¬ä»¥å‰éƒ½æ˜¯ &lt;code&gt;rest&lt;/code&gt; ï¼Ÿ&lt;br&gt;æ²¡äº‹ï¼Œæœ€æ–°ç‰ˆçš„ &lt;code&gt;apollo&lt;/code&gt; èƒ½å¤Ÿè®©ä½ ï¼Œ&lt;br&gt;åœ¨ç°æœ‰çš„ &lt;code&gt;REST API&lt;/code&gt; ä¹‹ä¸Šæ„å»ºé€šç”¨çš„ &lt;code&gt;GraphQL API&lt;/code&gt;ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥å¿«é€Ÿå‘å¸ƒæ–°çš„åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œæ— éœ€ç­‰å¾…åç«¯æ›´æ”¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="GraphQL" scheme="http://xuzihao.fun/categories/GraphQL/"/>
    
    
      <category term="GraphQL" scheme="http://xuzihao.fun/tags/GraphQL/"/>
    
  </entry>
  
  <entry>
    <title>Mongooseå°è¯•ç‰›åˆ€</title>
    <link href="http://xuzihao.fun/Mongoose%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80.html"/>
    <id>http://xuzihao.fun/Mongooseå°è¯•ç‰›åˆ€.html</id>
    <published>2018-05-07T11:32:51.537Z</published>
    <updated>2018-05-08T13:49:29.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mongooseå°è¯•ç‰›åˆ€"><a href="#Mongooseå°è¯•ç‰›åˆ€" class="headerlink" title="Mongooseå°è¯•ç‰›åˆ€"></a>Mongooseå°è¯•ç‰›åˆ€</h1><h2 id="è®¤è¯†ä¸‹Mongodbï¼š"><a href="#è®¤è¯†ä¸‹Mongodbï¼š" class="headerlink" title="è®¤è¯†ä¸‹Mongodbï¼š"></a>è®¤è¯†ä¸‹Mongodbï¼š</h2><ul><li>æ–‡æ¡£(document)<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/mongodb-Document.png" alt=""></li><li>é›†åˆï¼ˆCollectionï¼‰<ul><li>documentå­˜äºcollection</li></ul></li><li>æ•°æ®åº“ï¼ˆdatabaseï¼‰<ul><li>é‡Œé¢æœ‰å¾ˆå¤šcollection</li></ul></li></ul><a id="more"></a><h2 id="åœ¨mongooseä¸­ï¼š"><a href="#åœ¨mongooseä¸­ï¼š" class="headerlink" title="åœ¨mongooseä¸­ï¼š"></a>åœ¨mongooseä¸­ï¼š</h2><ul><li>Schema -&gt; collectionï¼Œä¸å…·å¤‡æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›</li><li>Model -&gt; ç”±Schemaç”Ÿæˆçš„æ¨¡å‹ï¼Œèƒ½æ“ä½œæ•°æ®åº“</li><li>Entity -&gt; ç”±Modelåˆ›å»ºçš„å®ä¾‹ï¼Œä¹Ÿèƒ½æ“ä½œæ•°æ®åº“</li></ul><h2 id="åˆ›å»ºschema"><a href="#åˆ›å»ºschema" class="headerlink" title="åˆ›å»ºschema"></a>åˆ›å»ºschema</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UserType <span class="keyword">extends</span> mongoose.Document &#123;</span><br><span class="line">  name: <span class="built_in">String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> userSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">  name: <span class="built_in">String</span>,</span><br><span class="line">&#125;, &#123;collection: <span class="string">'user'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> User = mongoose.model&lt;UserType&gt;(<span class="string">'User'</span>, userSchema)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ·»åŠ <code>collections: &#39;user&#39;</code>ä¹‹åä¼šå‘ç°ä¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>users</code> çš„ <code>collection</code> çš„è¡¨åã€‚<br>è¿˜æœ‰ä¸ªæ–¹æ³•è‡ªå®šä¹‰ <code>collection</code> åï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> User = mongoose.model&lt;UserType&gt;(<span class="string">'User'</span>, userSchema, <span class="string">'user'</span>)</span><br></pre></td></tr></table></figure></p><p>äºŒé€‰ä¸€ï¼</p><h2 id="åˆ›å»ºmodel"><a href="#åˆ›å»ºmodel" class="headerlink" title="åˆ›å»ºmodel"></a>åˆ›å»ºmodel</h2><ol><li><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> User, &#123; UserType &#125; <span class="keyword">from</span> <span class="string">'../schemas/User'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> UserModel = <span class="keyword">new</span> User(&#123;name: <span class="string">"xzh"</span>&#125;);</span><br><span class="line">UserModel.save(<span class="function">(<span class="params">(<span class="params">err: <span class="built_in">any</span>, product: UserType </span>)=&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">if</span>(<span class="params">err</span>) <span class="keyword">return</span> <span class="built_in">console</span>.error(<span class="params">err</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="built_in">console</span>.log(<span class="params">product, 'ç»“æœ'</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">&#125;</span>))</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="params">export</span> <span class="params">default</span> <span class="params">UserModel</span>;</span></span><br></pre></td></tr></table></figure></li></ol><p>è¿™æœ‰ä¸ªå°æ’æ›²ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å®šä¹‰ä¸€ä¸ª <code>UserModel</code> å»å‘æ•°æ®åº“å†™å…¥æ•°æ®ï¼š</p><ol start="2"><li><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> User, &#123; UserType &#125; <span class="keyword">from</span> <span class="string">'../schemas/User'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User.create(&#123;name: <span class="string">"xzh"</span>&#125;, <span class="function">(<span class="params">err: <span class="built_in">any</span>, res: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'ç»“æœ'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>å› ä¸ºå‰é¢ä¹Ÿæåˆ°äº†åœ¨ <code>mongoose</code> ä¸­è¿˜æœ‰ä¸ª <code>Entity</code> çš„å­˜åœ¨ã€‚<br>ç¬¬1ç§æ˜¯ <code>entity</code> ä¿å­˜æ–¹æ³•ã€‚<br>ç¬¬2ç§æ˜¯ <code>model</code> ä¿å­˜æ–¹æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Mongooseå°è¯•ç‰›åˆ€&quot;&gt;&lt;a href=&quot;#Mongooseå°è¯•ç‰›åˆ€&quot; class=&quot;headerlink&quot; title=&quot;Mongooseå°è¯•ç‰›åˆ€&quot;&gt;&lt;/a&gt;Mongooseå°è¯•ç‰›åˆ€&lt;/h1&gt;&lt;h2 id=&quot;è®¤è¯†ä¸‹Mongodbï¼š&quot;&gt;&lt;a href=&quot;#è®¤è¯†ä¸‹Mongodbï¼š&quot; class=&quot;headerlink&quot; title=&quot;è®¤è¯†ä¸‹Mongodbï¼š&quot;&gt;&lt;/a&gt;è®¤è¯†ä¸‹Mongodbï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ–‡æ¡£(document)&lt;br&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/mongodb-Document.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;é›†åˆï¼ˆCollectionï¼‰&lt;ul&gt;
&lt;li&gt;documentå­˜äºcollection&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“ï¼ˆdatabaseï¼‰&lt;ul&gt;
&lt;li&gt;é‡Œé¢æœ‰å¾ˆå¤šcollection&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="Mongodb" scheme="http://xuzihao.fun/tags/Mongodb/"/>
    
  </entry>
  
  <entry>
    <title>vscodeå¿«æ·é”®æå‡æ•ˆç‡</title>
    <link href="http://xuzihao.fun/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87.html"/>
    <id>http://xuzihao.fun/vscodeå¿«æ·é”®æå‡æ•ˆç‡.html</id>
    <published>2018-05-03T08:47:14.000Z</published>
    <updated>2018-05-05T02:27:32.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vscodeå¿«æ·é”®æå‡æ•ˆç‡"><a href="#vscodeå¿«æ·é”®æå‡æ•ˆç‡" class="headerlink" title="vscodeå¿«æ·é”®æå‡æ•ˆç‡"></a>vscodeå¿«æ·é”®æå‡æ•ˆç‡</h1><p>windowsï¼š cmd = ctrl, option = alt</p><ul><li>é‡å¼€ä¸€è¡Œ<ul><li>ä¸åœ¨è¡Œå°¾å‘ä¸‹ï¼š cmd + enter</li><li>ä¸åœ¨è¡Œå°¾å‘ä¸Šï¼š shift + cmd + enter</li></ul></li><li>åˆ é™¤ä¸€è¡Œ<ul><li>cmd + x</li><li>shift + cmd + k</li></ul></li><li>ç§»åŠ¨æ¢ä½<ul><li>option + â†‘</li><li>option + â†“</li></ul></li><li>å¤åˆ¶ä¸€è¡Œ<ul><li>shift + option + â†‘</li><li>shift + option + â†“</li></ul></li><li>é€‰ä¸€ä¸ªè¯<ul><li>cmd + d</li></ul></li><li>æœç´¢<ul><li>cmd + f</li><li>cmd + option + f æ›¿æ¢</li><li>cmd + shift + f é¡¹ç›®ä¸­æ›¿æ¢</li></ul></li><li>ä½¿ç”¨é¼ æ ‡é”®é€‰æ‹©åˆ— v1.23<ul><li>æŒ‰ä½shift + option ä¹‹åé€šè¿‡é¼ æ ‡å»é€‰æ‹©</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot;&gt;&lt;a href=&quot;#vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot; class=&quot;headerlink&quot; title=&quot;vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot;&gt;&lt;/a&gt;vscodeå¿«æ·é”®æå‡æ•ˆç‡&lt;/h1&gt;&lt;p&gt;windowsï¼š cmd = ctrl, optio
      
    
    </summary>
    
      <category term="å‰ç«¯å·¥å…·" scheme="http://xuzihao.fun/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="å‰ç«¯å·¥å…·" scheme="http://xuzihao.fun/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å¾®å¾®å­¦ä¹ Docker</title>
    <link href="http://xuzihao.fun/%E5%BE%AE%E5%BE%AE%E5%AD%A6%E4%B9%A0%20Docker.html"/>
    <id>http://xuzihao.fun/å¾®å¾®å­¦ä¹  Docker.html</id>
    <published>2018-05-01T12:24:00.000Z</published>
    <updated>2018-05-12T13:03:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¾®å¾®å­¦ä¹ -Docker"><a href="#å¾®å¾®å­¦ä¹ -Docker" class="headerlink" title="å¾®å¾®å­¦ä¹  Docker"></a>å¾®å¾®å­¦ä¹  Docker</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">è·‘é•œåƒ</span><br><span class="line">docker run -it imageName bash</span><br><span class="line"></span><br><span class="line">åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½†ä¸å¯åŠ¨</span><br><span class="line">docker create</span><br><span class="line"></span><br><span class="line">æ”¹é•œåƒå</span><br><span class="line">docker tag ca1b6b825289 registry.cn-hangzhou.aliyuncs.com/xxxxxxx:v1.0</span><br><span class="line"></span><br><span class="line">commitå®¹å™¨</span><br><span class="line">docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</span><br><span class="line"></span><br><span class="line">noneå°±éšä¾¿åˆ å‘—</span><br><span class="line">docker image prune</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="Docker-file"><a href="#Docker-file" class="headerlink" title="Docker file"></a>Docker file</h2><ul><li>FROM  æ‹‰é•œåƒ</li><li>MAINTAINER  æŒ‡å®šåˆ›å»ºé•œåƒçš„ç”¨æˆ·</li><li>RUN  åœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒ</li><li>CMD  å¯åŠ¨å®¹å™¨æ—¶æä¾›ä¸€ä¸ªé»˜è®¤çš„å‘½ä»¤æ‰§è¡Œé€‰é¡¹</li><li>EXPOSE  å‘Šè¯‰ Docker æœåŠ¡ç«¯å®¹å™¨å¯¹å¤–æ˜ å°„çš„æœ¬åœ°ç«¯å£ï¼Œéœ€è¦åœ¨ docker run çš„æ—¶å€™ä½¿ç”¨-pæˆ–è€…-Pé€‰é¡¹ç”Ÿæ•ˆã€‚</li><li>ENV  æŒ‡å®šä¸€ä¸ªç¯èŠ‚å˜é‡ï¼Œä¼šè¢«åç»­RUNæŒ‡ä»¤ä½¿ç”¨ï¼Œå¹¶åœ¨å®¹å™¨è¿è¡Œæ—¶ä¿ç•™</li><li>ADD  å¤åˆ¶æœ¬åœ°ä¸»æœºæ–‡ä»¶ã€ç›®å½•æˆ–è€…è¿œç¨‹æ–‡ä»¶ URLS ä» å¹¶ä¸”æ·»åŠ åˆ°å®¹å™¨æŒ‡å®šè·¯å¾„ä¸­</li><li>COPY  å¤åˆ¶æ–°æ–‡ä»¶æˆ–è€…ç›®å½•ä» å¹¶ä¸”æ·»åŠ åˆ°å®¹å™¨æŒ‡å®šè·¯å¾„ä¸­ ã€‚ç”¨æ³•åŒADDï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯ä¸èƒ½æŒ‡å®šè¿œç¨‹æ–‡ä»¶ URLS</li><li>ENTRYPOINT  é…ç½®å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸å¯è¢« docker run æä¾›çš„å‚æ•°è¦†ç›–ï¼Œè€ŒCMDæ˜¯å¯ä»¥è¢«è¦†ç›–çš„ã€‚</li><li>VOLUME  åˆ›å»ºä¸€ä¸ªå¯ä»¥ä»æœ¬åœ°ä¸»æœºæˆ–å…¶ä»–å®¹å™¨æŒ‚è½½çš„æŒ‚è½½ç‚¹</li><li>USER æŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ– UIDï¼Œåç»­çš„æ“ä½œä¹Ÿä¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·</li><li>WORKDIR  ä¸ºåç»­çš„RUNã€CMDã€ENTRYPOINTæŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•ã€‚</li><li>ONBUILD  é…ç½®å½“æ‰€åˆ›å»ºçš„é•œåƒä½œä¸ºå…¶å®ƒæ–°åˆ›å»ºé•œåƒçš„åŸºç¡€é•œåƒæ—¶</li></ul><hr><h2 id="docker-machine"><a href="#docker-machine" class="headerlink" title="docker-machine"></a>docker-machine</h2><p>åˆ›å»ºä¸€å°dockerä¸»æœº<br>docker-machine create -d virtualbox test</p><p><code>docker-machine node ls</code></p><p>scale mytestæœåŠ¡çš„taskæ•°é‡ä»2åˆ°4ï¼š<br>docker service scale Name=4</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¾®å¾®å­¦ä¹ -Docker&quot;&gt;&lt;a href=&quot;#å¾®å¾®å­¦ä¹ -Docker&quot; class=&quot;headerlink&quot; title=&quot;å¾®å¾®å­¦ä¹  Docker&quot;&gt;&lt;/a&gt;å¾®å¾®å­¦ä¹  Docker&lt;/h1&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è·‘é•œåƒ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker run -it imageName bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½†ä¸å¯åŠ¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker create&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æ”¹é•œåƒå&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker tag ca1b6b825289 registry.cn-hangzhou.aliyuncs.com/xxxxxxx:v1.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commitå®¹å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;noneå°±éšä¾¿åˆ å‘—&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker image prune&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="docker" scheme="http://xuzihao.fun/categories/docker/"/>
    
    
      <category term="docker" scheme="http://xuzihao.fun/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡</title>
    <link href="http://xuzihao.fun/%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8BDocker%E6%9C%8D%E5%8A%A1.html"/>
    <id>http://xuzihao.fun/é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡.html</id>
    <published>2018-04-30T04:00:00.000Z</published>
    <updated>2018-05-06T15:51:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡"><a href="#é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡"></a>é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡</h1><p>é˜¿é‡Œäº‘æœç´¢å®¹å™¨é•œåƒæœåŠ¡ã€‚<a href="https://cr.console.aliyun.com/" target="_blank" rel="noopener">ç½‘å€åœ°å€</a></p><p>å…·ä½“æ“ä½œçœ‹åˆ«äººçš„åšæ–‡:<a href="https://yq.aliyun.com/articles/70756" target="_blank" rel="noopener">åšæ–‡åœ°å€</a><br>ä¸‹é¢è®²ä¸€ç‚¹ä½¿ç”¨dockeræ³¨æ„äº‹é¡¹å’Œä¸Šä¼ è‡³é˜¿é‡Œäº‘<br><a id="more"></a></p><h2 id="ä¿å­˜å®¹å™¨"><a href="#ä¿å­˜å®¹å™¨" class="headerlink" title="ä¿å­˜å®¹å™¨"></a>ä¿å­˜å®¹å™¨</h2><p>æˆ‘ä»¬è¿›åˆ°å®¹å™¨é‡Œä¸€é¡¿<code>apt update &amp;&amp; apt install å·´æ‹‰å·´æ‹‰</code><br>ä½†æ˜¯åªè¦<code>exit</code>ä¸€<code>pull</code>å°±å‘ç°æ‰€æœ‰åšçš„éƒ½æ²¡äº†ã€‚<br>åŸæ¥æˆ‘æ˜¯æ²¡<code>commit</code><br>å‘½ä»¤å¦‚ä¸‹ï¼š<br><code>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></p><p>OPTIONS:</p><ul><li>â€“author , -a ä½œè€…</li><li>â€“change , -c å°†Docker fileæŒ‡ä»¤åº”ç”¨äºåˆ›å»ºçš„æ˜ åƒ</li><li>â€“message , -m æäº¤ä¿¡æ¯</li><li>â€“pause , -p åœ¨æäº¤æœŸé—´æš‚åœå®¹å™¨<h2 id="å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š"><a href="#å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š" class="headerlink" title="å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š"></a>å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š</h2><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/dockerpusherror.png" alt="docker-push"><br>å¦‚æœå‡ºç°è¿™ç§æƒ…å†µé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥pullè¯¥é•œåƒå³å¯</li></ul><p>ä¸ºä»€ä¹ˆè¦æœ‰Docker fileï¼Ÿ<br>ä»–å¯ä»¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„Dockeré•œåƒã€‚<br>å…·ä½“å°±æ˜¯èƒ½è®©æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªé•œåƒä¸ä¼šç»™åˆ«äººæ„Ÿè§‰æ˜¯é»‘ç®±æ“ä½œã€‚æˆ‘ä»¬ä»»ä½•RUNæ“ä½œéƒ½æ˜¯å¤§å®¶çœ‹çš„è§çš„ã€‚ä»–ä»¬çŸ¥é“æˆ‘ä»¬è¿™ä¸ªé•œåƒé‡Œè£…äº†ä»€ä¹ˆä¸œè¥¿ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬æ‰€æƒ³è¦çš„é€æ˜å—ï¼<br>Dockerfileå®˜ç½‘çš„æœ€ä½³å®è·µï¼š<a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/" target="_blank" rel="noopener">æœ€ä½³å®è·µ</a></p><h2 id="é…ç½®mongoé•œåƒ"><a href="#é…ç½®mongoé•œåƒ" class="headerlink" title="é…ç½®mongoé•œåƒ"></a>é…ç½®mongoé•œåƒ</h2><p>æ­¥éª¤å¾ˆç®€å•</p><ol><li>docker pull mongo</li><li>docker tag mongo registry.cn-hangzhou.aliyuncs.com/xxxxxxx</li><li>docker run -t â€“name database â€“net networkName -p 49155:27017 -v /data/db:/data/db â€“log-opt max-size=64m â€“log-opt max-file=10 registry.cn-hangzhou.aliyuncs.com/xxxxx<br>å½“ç„¶ä½ å¯èƒ½ä¼šé—®é‚£ä¸ª<code>--net</code> æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿ã€‚<br>è¿™å¯æ˜¯ä¸ªå®è´å“‡ã€‚<br>å½“æˆ‘ä»¬æœ‰å¤šä¸ªå®¹å™¨äº’ç›¸éœ€è¦è¿æ¥æ—¶ï¼Œåœ¨ä»¥å‰çš„<code>docker</code> æˆ‘ä»¬æ˜¯ç”¨ <code>link</code> ç°åœ¨æˆ‘ä»¬åªéœ€è¦<code>docker create network networkName</code><br>ä¹‹åæˆ‘ä»¬åªè¦runç›¸äº’ä¹‹é—´æœ‰å…³è”çš„å®¹å™¨åŠ ä¸Š<code>--net networkName</code> å°±okå•¦ï¼<br><strong>å½“ç„¶ä½ æœ‰å¤šä¸ªå®¹å™¨ä¹‹é—´éœ€è¦äº’ç›¸è¿æ¥ï¼Œæ¨èä½¿ç”¨ Docker Composeã€‚</strong><h2 id="è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ"><a href="#è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ" class="headerlink" title="è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ"></a>è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ</h2>æˆ‘ä»¬å°±è‡ªå®šä¹‰ä¸€ä¸ªè·‘åç«¯çš„å§</li><li>docker pull node:8.9.4-alpine   //è¯¥é•œåƒä½“ç§¯å¾ˆå°</li><li>docker tag node registry.cn-hangzhou.aliyuncs.com/xxxxxxx</li><li><p>å†™ä¸ªDockerfileå§ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FROM registry.cn-hangzhou.aliyuncs.com/xxxxx</span><br><span class="line"></span><br><span class="line">RUN mkdir -p /usr/src/app</span><br><span class="line"></span><br><span class="line">COPY . /usr/src/app</span><br><span class="line"></span><br><span class="line">WORKDIR /usr/src/app</span><br><span class="line"></span><br><span class="line">CMD npm run start:server</span><br><span class="line"></span><br><span class="line">EXPOSE 4040</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åå†™ç‚¹<code>docker run balbalbal</code>å•Šä¹‹ç±»çš„è„šæœ¬è¿™æ ·æˆ‘ä»¬å°±èƒ½å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨å•¦ã€‚</p><h2 id="é‡åˆ°çš„ä¸€äº›å°é—®é¢˜"><a href="#é‡åˆ°çš„ä¸€äº›å°é—®é¢˜" class="headerlink" title="é‡åˆ°çš„ä¸€äº›å°é—®é¢˜"></a>é‡åˆ°çš„ä¸€äº›å°é—®é¢˜</h2><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/docker-mongo-url.png" alt="image:12467E92-6292-4307-AFAA-5085E0CF5E43-737-000068B410D30946/docker-mongo-url.png"><br>è¿™ç§æƒ…å†µæˆ‘å»Stack Overflowä¸Šç…äº†ç…ã€‚å°±æ˜¯ä¸€å¤©ï¼ï¼ï¼ï¼<br>å‘ç°ä¸€ä¸ª0èµçš„ç­”æ¡ˆã€‚ã€‚ã€‚æˆ‘æŠŠã€‚ã€‚ã€‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'mongodb://127.0.0.1:27017'</span></span><br><span class="line">to</span><br><span class="line"><span class="string">'mongodb://database:27017'</span></span><br><span class="line"><span class="comment">// å®¹å™¨å</span></span><br></pre></td></tr></table></figure></li></ol><p>ä»–å±…ç„¶å°±workäº†ã€‚ã€‚ã€‚ã€‚<br>æˆ‘çœŸçš„æ˜¯ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot;&gt;&lt;a href=&quot;#é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot;&gt;&lt;/a&gt;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&lt;/h1&gt;&lt;p&gt;é˜¿é‡Œäº‘æœç´¢å®¹å™¨é•œåƒæœåŠ¡ã€‚&lt;a href=&quot;https://cr.console.aliyun.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç½‘å€åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“æ“ä½œçœ‹åˆ«äººçš„åšæ–‡:&lt;a href=&quot;https://yq.aliyun.com/articles/70756&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åšæ–‡åœ°å€&lt;/a&gt;&lt;br&gt;ä¸‹é¢è®²ä¸€ç‚¹ä½¿ç”¨dockeræ³¨æ„äº‹é¡¹å’Œä¸Šä¼ è‡³é˜¿é‡Œäº‘&lt;br&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘æœåŠ¡çš„ä½¿ç”¨ã€docker" scheme="http://xuzihao.fun/categories/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%81docker/"/>
    
    
      <category term="docker" scheme="http://xuzihao.fun/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Typescripté…ç½®é‡‡å‘ä¹‹è·¯</title>
    <link href="http://xuzihao.fun/Typescript%E9%85%8D%E7%BD%AE%E9%87%87%E5%9D%91%E4%B9%8B%E8%B7%AF.html"/>
    <id>http://xuzihao.fun/Typescripté…ç½®é‡‡å‘ä¹‹è·¯.html</id>
    <published>2018-04-27T16:03:52.000Z</published>
    <updated>2018-05-07T12:17:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tscNodeError.png" alt=""></p><blockquote><p>è¿™æ˜¯æ²¡æœ‰@typesc/nodeå¯¼è‡´çš„ã€‚ä½†æ˜¯å®‰è£…æœ€æ–°çš„10.0.0ä¹Ÿä¸è¡Œã€‚æˆ‘å°±å®‰è£…äº†@types/node@8</p></blockquote><a id="more"></a><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsconfigComm.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œmoduleâ€: â€œcommonjsâ€, </p></blockquote><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsconfigLib.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œlibâ€: [â€œes2015â€]</p></blockquote><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsgraphql.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œlibâ€: [â€œesnextâ€]</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tscNodeError.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯æ²¡æœ‰@typesc/nodeå¯¼è‡´çš„ã€‚ä½†æ˜¯å®‰è£…æœ€æ–°çš„10.0.0ä¹Ÿä¸è¡Œã€‚æˆ‘å°±å®‰è£…äº†@types/node@8&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Typescript" scheme="http://xuzihao.fun/categories/Typescript/"/>
    
    
      <category term="Typescript" scheme="http://xuzihao.fun/tags/Typescript/"/>
    
  </entry>
  
</feed>
