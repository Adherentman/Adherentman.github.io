<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å£®å£®-Technology</title>
  
  <subtitle>å® è¾±ä¸æƒŠï¼Œé—²çœ‹åº­å‰èŠ±è½èŠ±å¼€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xuzihao.fun/"/>
  <updated>2018-05-08T13:47:34.978Z</updated>
  <id>http://xuzihao.fun/</id>
  
  <author>
    <name>XuZiHao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Apollo-server-graphql</title>
    <link href="http://xuzihao.fun/Apollo-server-graphql.html"/>
    <id>http://xuzihao.fun/Apollo-server-graphql.html</id>
    <published>2018-05-08T13:37:10.225Z</published>
    <updated>2018-05-08T13:47:34.978Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Apollo-server-graphql"><a href="#Apollo-server-graphql" class="headerlink" title="Apollo-server-graphql"></a>Apollo-server-graphql</h1><p>ç© <code>graphql</code> çš„è‚¯å®šå¬è¿‡å§ <code>apollo</code> ç­‰ç­‰ï¼Ÿæ²¡æœ‰ï¼Ÿ<br>ä¸Šæœˆçƒçš„é‚£ä¸ª <code>apollo</code>ä¹Ÿæ²¡å¬è¿‡å—ï¼Ÿï¼Ÿ</p><h2 id="apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ"><a href="#apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ" class="headerlink" title="apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ"></a>apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ</h2><p>å®ƒèƒ½è½»æ¾å°†æ‚¨çš„åç«¯è½¬æ¢ä¸º <code>GraphQL</code> æ¶æ„ã€‚<br>ä½ è¯´ä½ ä»¬ä»¥å‰éƒ½æ˜¯ <code>rest</code> ï¼Ÿ<br>æ²¡äº‹ï¼Œæœ€æ–°ç‰ˆçš„ <code>apollo</code> èƒ½å¤Ÿè®©ä½ ï¼Œ<br>åœ¨ç°æœ‰çš„ <code>REST API</code> ä¹‹ä¸Šæ„å»ºé€šç”¨çš„ <code>GraphQL API</code>ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥å¿«é€Ÿå‘å¸ƒæ–°çš„åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œæ— éœ€ç­‰å¾…åç«¯æ›´æ”¹ã€‚</p><a id="more"></a><h2 id="Goï¼"><a href="#Goï¼" class="headerlink" title="Goï¼"></a>Goï¼</h2><p>æˆ‘ç”¨ <code>TypeScript</code> å’Œ <code>Koa</code> å»ç© <code>graphql</code> ã€‚å¬èµ·æ¥å°±å¾ˆæ£’ï¼</p><blockquote><p>yarn add koa koa-router apollo-server-koa graphql-tools koa-bodyparser<br>&amp;&amp; yarn add  @types/graphql @types/koa @types/koa-bodyparser @types/koa-router  typescript -D<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Koa <span class="keyword">from</span> <span class="string">'koa'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> koaRouter <span class="keyword">from</span> <span class="string">'koa-router'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> koaBody <span class="keyword">from</span> <span class="string">'koa-bodyparser'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; graphiqlKoa,graphqlKoa &#125; <span class="keyword">from</span> <span class="string">'apollo-server-koa'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; makeExecutableSchema &#125; <span class="keyword">from</span> <span class="string">'graphql-tools'</span>;</span><br><span class="line"><span class="keyword">import</span> env <span class="keyword">from</span> <span class="string">'./env'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> koaRouter();</span><br><span class="line"><span class="keyword">const</span> port: <span class="built_in">number</span> = <span class="number">4040</span>;</span><br><span class="line"></span><br><span class="line">app.use(koaBody());</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±ä¸­é—´ä»¶</span></span><br><span class="line">app.use(router.routes()).use(router.allowedMethods());</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> books = [</span><br><span class="line">  &#123;title: <span class="string">"hdiahida"</span>, author: <span class="string">'dhiahdia'</span>&#125;,</span><br><span class="line">  &#123;title: <span class="string">"dbfb"</span>, author: <span class="string">'dahdiahi'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typeDefs = <span class="string">`</span></span><br><span class="line"><span class="string">  type Query &#123; books: [Book]&#125;</span></span><br><span class="line"><span class="string">  type Book &#123; title: String, author: String&#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> resolvers = &#123;</span><br><span class="line">  Query: &#123; books: <span class="function"><span class="params">()</span> =&gt;</span> books&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = makeExecutableSchema(&#123;</span><br><span class="line">  typeDefs,</span><br><span class="line">  resolvers</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.post(</span><br><span class="line">  <span class="string">'/graphql'</span>,</span><br><span class="line">  graphqlKoa(&#123;</span><br><span class="line">    schema,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// graphiql</span></span><br><span class="line">router.get(</span><br><span class="line">  <span class="string">'/graphiql'</span>,</span><br><span class="line">  graphiqlKoa(&#123;</span><br><span class="line">    endpointURL: <span class="string">'/graphql'</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/404'</span>, <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">  ctx.body = <span class="string">'404!!!'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ğŸŒ =&gt; server is open loaclhost:'</span> + port)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Apollo-server-graphql&quot;&gt;&lt;a href=&quot;#Apollo-server-graphql&quot; class=&quot;headerlink&quot; title=&quot;Apollo-server-graphql&quot;&gt;&lt;/a&gt;Apollo-server-graphql&lt;/h1&gt;&lt;p&gt;ç© &lt;code&gt;graphql&lt;/code&gt; çš„è‚¯å®šå¬è¿‡å§ &lt;code&gt;apollo&lt;/code&gt; ç­‰ç­‰ï¼Ÿæ²¡æœ‰ï¼Ÿ&lt;br&gt;ä¸Šæœˆçƒçš„é‚£ä¸ª &lt;code&gt;apollo&lt;/code&gt;ä¹Ÿæ²¡å¬è¿‡å—ï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot;&gt;&lt;a href=&quot;#apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&quot;&gt;&lt;/a&gt;apollo-serverä¸»è¦æ˜¯åšä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ&lt;/h2&gt;&lt;p&gt;å®ƒèƒ½è½»æ¾å°†æ‚¨çš„åç«¯è½¬æ¢ä¸º &lt;code&gt;GraphQL&lt;/code&gt; æ¶æ„ã€‚&lt;br&gt;ä½ è¯´ä½ ä»¬ä»¥å‰éƒ½æ˜¯ &lt;code&gt;rest&lt;/code&gt; ï¼Ÿ&lt;br&gt;æ²¡äº‹ï¼Œæœ€æ–°ç‰ˆçš„ &lt;code&gt;apollo&lt;/code&gt; èƒ½å¤Ÿè®©ä½ ï¼Œ&lt;br&gt;åœ¨ç°æœ‰çš„ &lt;code&gt;REST API&lt;/code&gt; ä¹‹ä¸Šæ„å»ºé€šç”¨çš„ &lt;code&gt;GraphQL API&lt;/code&gt;ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥å¿«é€Ÿå‘å¸ƒæ–°çš„åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œæ— éœ€ç­‰å¾…åç«¯æ›´æ”¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="GraphQL" scheme="http://xuzihao.fun/categories/GraphQL/"/>
    
    
      <category term="GraphQL" scheme="http://xuzihao.fun/tags/GraphQL/"/>
    
  </entry>
  
  <entry>
    <title>Mongooseå°è¯•ç‰›åˆ€</title>
    <link href="http://xuzihao.fun/Mongoose%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80.html"/>
    <id>http://xuzihao.fun/Mongooseå°è¯•ç‰›åˆ€.html</id>
    <published>2018-05-07T11:32:51.537Z</published>
    <updated>2018-05-08T13:49:29.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mongooseå°è¯•ç‰›åˆ€"><a href="#Mongooseå°è¯•ç‰›åˆ€" class="headerlink" title="Mongooseå°è¯•ç‰›åˆ€"></a>Mongooseå°è¯•ç‰›åˆ€</h1><h2 id="è®¤è¯†ä¸‹Mongodbï¼š"><a href="#è®¤è¯†ä¸‹Mongodbï¼š" class="headerlink" title="è®¤è¯†ä¸‹Mongodbï¼š"></a>è®¤è¯†ä¸‹Mongodbï¼š</h2><ul><li>æ–‡æ¡£(document)<br><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/mongodb-Document.png" alt=""></li><li>é›†åˆï¼ˆCollectionï¼‰<ul><li>documentå­˜äºcollection</li></ul></li><li>æ•°æ®åº“ï¼ˆdatabaseï¼‰<ul><li>é‡Œé¢æœ‰å¾ˆå¤šcollection</li></ul></li></ul><a id="more"></a><h2 id="åœ¨mongooseä¸­ï¼š"><a href="#åœ¨mongooseä¸­ï¼š" class="headerlink" title="åœ¨mongooseä¸­ï¼š"></a>åœ¨mongooseä¸­ï¼š</h2><ul><li>Schema -&gt; collectionï¼Œä¸å…·å¤‡æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›</li><li>Model -&gt; ç”±Schemaç”Ÿæˆçš„æ¨¡å‹ï¼Œèƒ½æ“ä½œæ•°æ®åº“</li><li>Entity -&gt; ç”±Modelåˆ›å»ºçš„å®ä¾‹ï¼Œä¹Ÿèƒ½æ“ä½œæ•°æ®åº“</li></ul><h2 id="åˆ›å»ºschema"><a href="#åˆ›å»ºschema" class="headerlink" title="åˆ›å»ºschema"></a>åˆ›å»ºschema</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UserType <span class="keyword">extends</span> mongoose.Document &#123;</span><br><span class="line">  name: <span class="built_in">String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> userSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">  name: <span class="built_in">String</span>,</span><br><span class="line">&#125;, &#123;collection: <span class="string">'user'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> User = mongoose.model&lt;UserType&gt;(<span class="string">'User'</span>, userSchema)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ·»åŠ <code>collections: &#39;user&#39;</code>ä¹‹åä¼šå‘ç°ä¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>users</code> çš„ <code>collection</code> çš„è¡¨åã€‚<br>è¿˜æœ‰ä¸ªæ–¹æ³•è‡ªå®šä¹‰ <code>collection</code> åï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> User = mongoose.model&lt;UserType&gt;(<span class="string">'User'</span>, userSchema, <span class="string">'user'</span>)</span><br></pre></td></tr></table></figure></p><p>äºŒé€‰ä¸€ï¼</p><h2 id="åˆ›å»ºmodel"><a href="#åˆ›å»ºmodel" class="headerlink" title="åˆ›å»ºmodel"></a>åˆ›å»ºmodel</h2><ol><li><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> User, &#123; UserType &#125; <span class="keyword">from</span> <span class="string">'../schemas/User'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> UserModel = <span class="keyword">new</span> User(&#123;name: <span class="string">"xzh"</span>&#125;);</span><br><span class="line">UserModel.save(<span class="function">(<span class="params">(<span class="params">err: <span class="built_in">any</span>, product: UserType </span>)=&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">if</span>(<span class="params">err</span>) <span class="keyword">return</span> <span class="built_in">console</span>.error(<span class="params">err</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="built_in">console</span>.log(<span class="params">product, 'ç»“æœ'</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">&#125;</span>))</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="params">export</span> <span class="params">default</span> <span class="params">UserModel</span>;</span></span><br></pre></td></tr></table></figure></li></ol><p>è¿™æœ‰ä¸ªå°æ’æ›²ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å®šä¹‰ä¸€ä¸ª <code>UserModel</code> å»å‘æ•°æ®åº“å†™å…¥æ•°æ®ï¼š</p><ol start="2"><li><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> User, &#123; UserType &#125; <span class="keyword">from</span> <span class="string">'../schemas/User'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User.create(&#123;name: <span class="string">"xzh"</span>&#125;, <span class="function">(<span class="params">err: <span class="built_in">any</span>, res: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'ç»“æœ'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>å› ä¸ºå‰é¢ä¹Ÿæåˆ°äº†åœ¨ <code>mongoose</code> ä¸­è¿˜æœ‰ä¸ª <code>Entity</code> çš„å­˜åœ¨ã€‚<br>ç¬¬1ç§æ˜¯ <code>entity</code> ä¿å­˜æ–¹æ³•ã€‚<br>ç¬¬2ç§æ˜¯ <code>model</code> ä¿å­˜æ–¹æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Mongooseå°è¯•ç‰›åˆ€&quot;&gt;&lt;a href=&quot;#Mongooseå°è¯•ç‰›åˆ€&quot; class=&quot;headerlink&quot; title=&quot;Mongooseå°è¯•ç‰›åˆ€&quot;&gt;&lt;/a&gt;Mongooseå°è¯•ç‰›åˆ€&lt;/h1&gt;&lt;h2 id=&quot;è®¤è¯†ä¸‹Mongodbï¼š&quot;&gt;&lt;a href=&quot;#è®¤è¯†ä¸‹Mongodbï¼š&quot; class=&quot;headerlink&quot; title=&quot;è®¤è¯†ä¸‹Mongodbï¼š&quot;&gt;&lt;/a&gt;è®¤è¯†ä¸‹Mongodbï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ–‡æ¡£(document)&lt;br&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/mongodb-Document.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;é›†åˆï¼ˆCollectionï¼‰&lt;ul&gt;
&lt;li&gt;documentå­˜äºcollection&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“ï¼ˆdatabaseï¼‰&lt;ul&gt;
&lt;li&gt;é‡Œé¢æœ‰å¾ˆå¤šcollection&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="æ•°æ®åº“" scheme="http://xuzihao.fun/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="Mongodb" scheme="http://xuzihao.fun/tags/Mongodb/"/>
    
  </entry>
  
  <entry>
    <title>vscodeå¿«æ·é”®æå‡æ•ˆç‡</title>
    <link href="http://xuzihao.fun/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87.html"/>
    <id>http://xuzihao.fun/vscodeå¿«æ·é”®æå‡æ•ˆç‡.html</id>
    <published>2018-05-03T08:47:14.000Z</published>
    <updated>2018-05-05T02:27:32.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vscodeå¿«æ·é”®æå‡æ•ˆç‡"><a href="#vscodeå¿«æ·é”®æå‡æ•ˆç‡" class="headerlink" title="vscodeå¿«æ·é”®æå‡æ•ˆç‡"></a>vscodeå¿«æ·é”®æå‡æ•ˆç‡</h1><p>windowsï¼š cmd = ctrl, option = alt</p><ul><li>é‡å¼€ä¸€è¡Œ<ul><li>ä¸åœ¨è¡Œå°¾å‘ä¸‹ï¼š cmd + enter</li><li>ä¸åœ¨è¡Œå°¾å‘ä¸Šï¼š shift + cmd + enter</li></ul></li><li>åˆ é™¤ä¸€è¡Œ<ul><li>cmd + x</li><li>shift + cmd + k</li></ul></li><li>ç§»åŠ¨æ¢ä½<ul><li>option + â†‘</li><li>option + â†“</li></ul></li><li>å¤åˆ¶ä¸€è¡Œ<ul><li>shift + option + â†‘</li><li>shift + option + â†“</li></ul></li><li>é€‰ä¸€ä¸ªè¯<ul><li>cmd + d</li></ul></li><li>æœç´¢<ul><li>cmd + f</li><li>cmd + option + f æ›¿æ¢</li><li>cmd + shift + f é¡¹ç›®ä¸­æ›¿æ¢</li></ul></li><li>ä½¿ç”¨é¼ æ ‡é”®é€‰æ‹©åˆ— v1.23<ul><li>æŒ‰ä½shift + option ä¹‹åé€šè¿‡é¼ æ ‡å»é€‰æ‹©</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot;&gt;&lt;a href=&quot;#vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot; class=&quot;headerlink&quot; title=&quot;vscodeå¿«æ·é”®æå‡æ•ˆç‡&quot;&gt;&lt;/a&gt;vscodeå¿«æ·é”®æå‡æ•ˆç‡&lt;/h1&gt;&lt;p&gt;windowsï¼š cmd = ctrl, optio
      
    
    </summary>
    
      <category term="å‰ç«¯å·¥å…·" scheme="http://xuzihao.fun/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="å‰ç«¯å·¥å…·" scheme="http://xuzihao.fun/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å¾®å¾®å­¦ä¹ Docker</title>
    <link href="http://xuzihao.fun/%E5%BE%AE%E5%BE%AE%E5%AD%A6%E4%B9%A0%20Docker.html"/>
    <id>http://xuzihao.fun/å¾®å¾®å­¦ä¹  Docker.html</id>
    <published>2018-05-01T12:24:00.000Z</published>
    <updated>2018-05-02T01:24:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¾®å¾®å­¦ä¹ -Docker"><a href="#å¾®å¾®å­¦ä¹ -Docker" class="headerlink" title="å¾®å¾®å­¦ä¹  Docker"></a>å¾®å¾®å­¦ä¹  Docker</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">è·‘é•œåƒ</span><br><span class="line">docker run -it imageName bash</span><br><span class="line"></span><br><span class="line">åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½†ä¸å¯åŠ¨</span><br><span class="line">docker create</span><br><span class="line"></span><br><span class="line">æ”¹é•œåƒå</span><br><span class="line">docker tag ca1b6b825289 registry.cn-hangzhou.aliyuncs.com/xxxxxxx:v1.0</span><br><span class="line"></span><br><span class="line">commitå®¹å™¨</span><br><span class="line">docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</span><br><span class="line"></span><br><span class="line">noneå°±éšä¾¿åˆ å‘—</span><br><span class="line">docker image prune</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="Docker-file"><a href="#Docker-file" class="headerlink" title="Docker file"></a>Docker file</h2><ul><li>FROM  æ‹‰é•œåƒ</li><li>MAINTAINER  æŒ‡å®šåˆ›å»ºé•œåƒçš„ç”¨æˆ·</li><li>RUN  åœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒ</li><li>CMD  å¯åŠ¨å®¹å™¨æ—¶æä¾›ä¸€ä¸ªé»˜è®¤çš„å‘½ä»¤æ‰§è¡Œé€‰é¡¹</li><li>EXPOSE  å‘Šè¯‰ Docker æœåŠ¡ç«¯å®¹å™¨å¯¹å¤–æ˜ å°„çš„æœ¬åœ°ç«¯å£ï¼Œéœ€è¦åœ¨ docker run çš„æ—¶å€™ä½¿ç”¨-pæˆ–è€…-Pé€‰é¡¹ç”Ÿæ•ˆã€‚</li><li>ENV  æŒ‡å®šä¸€ä¸ªç¯èŠ‚å˜é‡ï¼Œä¼šè¢«åç»­RUNæŒ‡ä»¤ä½¿ç”¨ï¼Œå¹¶åœ¨å®¹å™¨è¿è¡Œæ—¶ä¿ç•™</li><li>ADD  å¤åˆ¶æœ¬åœ°ä¸»æœºæ–‡ä»¶ã€ç›®å½•æˆ–è€…è¿œç¨‹æ–‡ä»¶ URLS ä» å¹¶ä¸”æ·»åŠ åˆ°å®¹å™¨æŒ‡å®šè·¯å¾„ä¸­</li><li>COPY  å¤åˆ¶æ–°æ–‡ä»¶æˆ–è€…ç›®å½•ä» å¹¶ä¸”æ·»åŠ åˆ°å®¹å™¨æŒ‡å®šè·¯å¾„ä¸­ ã€‚ç”¨æ³•åŒADDï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯ä¸èƒ½æŒ‡å®šè¿œç¨‹æ–‡ä»¶ URLS</li><li>ENTRYPOINT  é…ç½®å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸å¯è¢« docker run æä¾›çš„å‚æ•°è¦†ç›–ï¼Œè€ŒCMDæ˜¯å¯ä»¥è¢«è¦†ç›–çš„ã€‚</li><li>VOLUME  åˆ›å»ºä¸€ä¸ªå¯ä»¥ä»æœ¬åœ°ä¸»æœºæˆ–å…¶ä»–å®¹å™¨æŒ‚è½½çš„æŒ‚è½½ç‚¹</li><li>USER æŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ– UIDï¼Œåç»­çš„æ“ä½œä¹Ÿä¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·</li><li>WORKDIR  ä¸ºåç»­çš„RUNã€CMDã€ENTRYPOINTæŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•ã€‚</li><li>ONBUILD  é…ç½®å½“æ‰€åˆ›å»ºçš„é•œåƒä½œä¸ºå…¶å®ƒæ–°åˆ›å»ºé•œåƒçš„åŸºç¡€é•œåƒæ—¶</li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¾®å¾®å­¦ä¹ -Docker&quot;&gt;&lt;a href=&quot;#å¾®å¾®å­¦ä¹ -Docker&quot; class=&quot;headerlink&quot; title=&quot;å¾®å¾®å­¦ä¹  Docker&quot;&gt;&lt;/a&gt;å¾®å¾®å­¦ä¹  Docker&lt;/h1&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è·‘é•œåƒ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker run -it imageName bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½†ä¸å¯åŠ¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker create&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æ”¹é•œåƒå&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker tag ca1b6b825289 registry.cn-hangzhou.aliyuncs.com/xxxxxxx:v1.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commitå®¹å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;noneå°±éšä¾¿åˆ å‘—&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker image prune&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="docker" scheme="http://xuzihao.fun/categories/docker/"/>
    
    
      <category term="docker" scheme="http://xuzihao.fun/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡</title>
    <link href="http://xuzihao.fun/%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8BDocker%E6%9C%8D%E5%8A%A1.html"/>
    <id>http://xuzihao.fun/é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡.html</id>
    <published>2018-04-30T04:00:00.000Z</published>
    <updated>2018-05-06T15:51:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡"><a href="#é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡"></a>é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡</h1><p>é˜¿é‡Œäº‘æœç´¢å®¹å™¨é•œåƒæœåŠ¡ã€‚<a href="https://cr.console.aliyun.com/" target="_blank" rel="noopener">ç½‘å€åœ°å€</a></p><p>å…·ä½“æ“ä½œçœ‹åˆ«äººçš„åšæ–‡:<a href="https://yq.aliyun.com/articles/70756" target="_blank" rel="noopener">åšæ–‡åœ°å€</a><br>ä¸‹é¢è®²ä¸€ç‚¹ä½¿ç”¨dockeræ³¨æ„äº‹é¡¹å’Œä¸Šä¼ è‡³é˜¿é‡Œäº‘<br><a id="more"></a></p><h2 id="ä¿å­˜å®¹å™¨"><a href="#ä¿å­˜å®¹å™¨" class="headerlink" title="ä¿å­˜å®¹å™¨"></a>ä¿å­˜å®¹å™¨</h2><p>æˆ‘ä»¬è¿›åˆ°å®¹å™¨é‡Œä¸€é¡¿<code>apt update &amp;&amp; apt install å·´æ‹‰å·´æ‹‰</code><br>ä½†æ˜¯åªè¦<code>exit</code>ä¸€<code>pull</code>å°±å‘ç°æ‰€æœ‰åšçš„éƒ½æ²¡äº†ã€‚<br>åŸæ¥æˆ‘æ˜¯æ²¡<code>commit</code><br>å‘½ä»¤å¦‚ä¸‹ï¼š<br><code>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></p><p>OPTIONS:</p><ul><li>â€“author , -a ä½œè€…</li><li>â€“change , -c å°†Docker fileæŒ‡ä»¤åº”ç”¨äºåˆ›å»ºçš„æ˜ åƒ</li><li>â€“message , -m æäº¤ä¿¡æ¯</li><li>â€“pause , -p åœ¨æäº¤æœŸé—´æš‚åœå®¹å™¨<h2 id="å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š"><a href="#å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š" class="headerlink" title="å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š"></a>å› ä¸ºæˆ‘å¾—æ˜¯ç§æœ‰é•œåƒä»“åº“å¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š</h2><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/dockerpusherror.png" alt="docker-push"><br>å¦‚æœå‡ºç°è¿™ç§æƒ…å†µé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥pullè¯¥é•œåƒå³å¯</li></ul><p>ä¸ºä»€ä¹ˆè¦æœ‰Docker fileï¼Ÿ<br>ä»–å¯ä»¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„Dockeré•œåƒã€‚<br>å…·ä½“å°±æ˜¯èƒ½è®©æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªé•œåƒä¸ä¼šç»™åˆ«äººæ„Ÿè§‰æ˜¯é»‘ç®±æ“ä½œã€‚æˆ‘ä»¬ä»»ä½•RUNæ“ä½œéƒ½æ˜¯å¤§å®¶çœ‹çš„è§çš„ã€‚ä»–ä»¬çŸ¥é“æˆ‘ä»¬è¿™ä¸ªé•œåƒé‡Œè£…äº†ä»€ä¹ˆä¸œè¥¿ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬æ‰€æƒ³è¦çš„é€æ˜å—ï¼<br>Dockerfileå®˜ç½‘çš„æœ€ä½³å®è·µï¼š<a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/" target="_blank" rel="noopener">æœ€ä½³å®è·µ</a></p><h2 id="é…ç½®mongoé•œåƒ"><a href="#é…ç½®mongoé•œåƒ" class="headerlink" title="é…ç½®mongoé•œåƒ"></a>é…ç½®mongoé•œåƒ</h2><p>æ­¥éª¤å¾ˆç®€å•</p><ol><li>docker pull mongo</li><li>docker tag mongo registry.cn-hangzhou.aliyuncs.com/xxxxxxx</li><li>docker run -t â€“name database â€“net networkName -p 49155:27017 -v /data/db:/data/db â€“log-opt max-size=64m â€“log-opt max-file=10 registry.cn-hangzhou.aliyuncs.com/xxxxx<br>å½“ç„¶ä½ å¯èƒ½ä¼šé—®é‚£ä¸ª<code>--net</code> æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿ã€‚<br>è¿™å¯æ˜¯ä¸ªå®è´å“‡ã€‚<br>å½“æˆ‘ä»¬æœ‰å¤šä¸ªå®¹å™¨äº’ç›¸éœ€è¦è¿æ¥æ—¶ï¼Œåœ¨ä»¥å‰çš„<code>docker</code> æˆ‘ä»¬æ˜¯ç”¨ <code>link</code> ç°åœ¨æˆ‘ä»¬åªéœ€è¦<code>docker create network networkName</code><br>ä¹‹åæˆ‘ä»¬åªè¦runç›¸äº’ä¹‹é—´æœ‰å…³è”çš„å®¹å™¨åŠ ä¸Š<code>--net networkName</code> å°±okå•¦ï¼<br><strong>å½“ç„¶ä½ æœ‰å¤šä¸ªå®¹å™¨ä¹‹é—´éœ€è¦äº’ç›¸è¿æ¥ï¼Œæ¨èä½¿ç”¨ Docker Composeã€‚</strong><h2 id="è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ"><a href="#è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ" class="headerlink" title="è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ"></a>è‡ªå®šä¹‰è‡ªå·±çš„æœåŠ¡ç«¯é•œåƒ</h2>æˆ‘ä»¬å°±è‡ªå®šä¹‰ä¸€ä¸ªè·‘åç«¯çš„å§</li><li>docker pull node:8.9.4-alpine   //è¯¥é•œåƒä½“ç§¯å¾ˆå°</li><li>docker tag node registry.cn-hangzhou.aliyuncs.com/xxxxxxx</li><li><p>å†™ä¸ªDockerfileå§ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FROM registry.cn-hangzhou.aliyuncs.com/xxxxx</span><br><span class="line"></span><br><span class="line">RUN mkdir -p /usr/src/app</span><br><span class="line"></span><br><span class="line">COPY . /usr/src/app</span><br><span class="line"></span><br><span class="line">WORKDIR /usr/src/app</span><br><span class="line"></span><br><span class="line">CMD npm run start:server</span><br><span class="line"></span><br><span class="line">EXPOSE 4040</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åå†™ç‚¹<code>docker run balbalbal</code>å•Šä¹‹ç±»çš„è„šæœ¬è¿™æ ·æˆ‘ä»¬å°±èƒ½å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨å•¦ã€‚</p><h2 id="é‡åˆ°çš„ä¸€äº›å°é—®é¢˜"><a href="#é‡åˆ°çš„ä¸€äº›å°é—®é¢˜" class="headerlink" title="é‡åˆ°çš„ä¸€äº›å°é—®é¢˜"></a>é‡åˆ°çš„ä¸€äº›å°é—®é¢˜</h2><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/docker-mongo-url.png" alt="image:12467E92-6292-4307-AFAA-5085E0CF5E43-737-000068B410D30946/docker-mongo-url.png"><br>è¿™ç§æƒ…å†µæˆ‘å»Stack Overflowä¸Šç…äº†ç…ã€‚å°±æ˜¯ä¸€å¤©ï¼ï¼ï¼ï¼<br>å‘ç°ä¸€ä¸ª0èµçš„ç­”æ¡ˆã€‚ã€‚ã€‚æˆ‘æŠŠã€‚ã€‚ã€‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'mongodb://127.0.0.1:27017'</span></span><br><span class="line">to</span><br><span class="line"><span class="string">'mongodb://database:27017'</span></span><br><span class="line"><span class="comment">// å®¹å™¨å</span></span><br></pre></td></tr></table></figure></li></ol><p>ä»–å±…ç„¶å°±workäº†ã€‚ã€‚ã€‚ã€‚<br>æˆ‘çœŸçš„æ˜¯ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot;&gt;&lt;a href=&quot;#é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&quot;&gt;&lt;/a&gt;é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨ä¹‹DockeræœåŠ¡&lt;/h1&gt;&lt;p&gt;é˜¿é‡Œäº‘æœç´¢å®¹å™¨é•œåƒæœåŠ¡ã€‚&lt;a href=&quot;https://cr.console.aliyun.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç½‘å€åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“æ“ä½œçœ‹åˆ«äººçš„åšæ–‡:&lt;a href=&quot;https://yq.aliyun.com/articles/70756&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åšæ–‡åœ°å€&lt;/a&gt;&lt;br&gt;ä¸‹é¢è®²ä¸€ç‚¹ä½¿ç”¨dockeræ³¨æ„äº‹é¡¹å’Œä¸Šä¼ è‡³é˜¿é‡Œäº‘&lt;br&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘æœåŠ¡çš„ä½¿ç”¨ã€docker" scheme="http://xuzihao.fun/categories/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%81docker/"/>
    
    
      <category term="docker" scheme="http://xuzihao.fun/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Typescripté…ç½®é‡‡å‘ä¹‹è·¯</title>
    <link href="http://xuzihao.fun/Typescript%E9%85%8D%E7%BD%AE%E9%87%87%E5%9D%91%E4%B9%8B%E8%B7%AF.html"/>
    <id>http://xuzihao.fun/Typescripté…ç½®é‡‡å‘ä¹‹è·¯.html</id>
    <published>2018-04-27T16:03:52.000Z</published>
    <updated>2018-05-07T12:17:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tscNodeError.png" alt=""></p><blockquote><p>è¿™æ˜¯æ²¡æœ‰@typesc/nodeå¯¼è‡´çš„ã€‚ä½†æ˜¯å®‰è£…æœ€æ–°çš„10.0.0ä¹Ÿä¸è¡Œã€‚æˆ‘å°±å®‰è£…äº†@types/node@8</p></blockquote><a id="more"></a><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsconfigComm.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œmoduleâ€: â€œcommonjsâ€, </p></blockquote><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsconfigLib.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œlibâ€: [â€œes2015â€]</p></blockquote><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tsgraphql.png" alt=""></p><blockquote><p>tsconfigæ–‡ä»¶åŠ è¿™æ¡ï¼š    â€œlibâ€: [â€œesnextâ€]</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/tscNodeError.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯æ²¡æœ‰@typesc/nodeå¯¼è‡´çš„ã€‚ä½†æ˜¯å®‰è£…æœ€æ–°çš„10.0.0ä¹Ÿä¸è¡Œã€‚æˆ‘å°±å®‰è£…äº†@types/node@8&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Typescript" scheme="http://xuzihao.fun/categories/Typescript/"/>
    
    
      <category term="Typescript" scheme="http://xuzihao.fun/tags/Typescript/"/>
    
  </entry>
  
  <entry>
    <title>Webpack4é…ç½®æŒ‡å—ï¼Upï¼</title>
    <link href="http://xuzihao.fun/Webpack4%E9%85%8D%E7%BD%AE.html"/>
    <id>http://xuzihao.fun/Webpack4é…ç½®.html</id>
    <published>2018-04-23T08:02:00.000Z</published>
    <updated>2018-04-21T11:42:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="first"><a href="#first" class="headerlink" title="first"></a>first</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir simpleFE &amp;&amp; <span class="built_in">cd</span> simpleFE</span><br><span class="line">npm init -y</span><br><span class="line">npm install webpack webpack-cli --save-dev</span><br><span class="line">or</span><br><span class="line">mkdir simpleFE &amp;&amp; <span class="built_in">cd</span> simpleFE</span><br><span class="line">yarn init -y</span><br><span class="line">yarn add webpack webpack-cli -D</span><br></pre></td></tr></table></figure><p>ä¸è¦é—®ä¸ºä»€ä¹ˆè£…äº†<code>webpack</code> è¿˜è¦è£…<code>webpack-cli</code>ã€‚ã€‚å› ä¸ºä½ ä¸è£…å°±æŠ¥é”™ã€‚ã€‚å®˜æ–¹æç¤ºè¿˜è®©ä½ å»è£…ã€‚ã€‚</p><hr><a id="more"></a><h2 id="é…ç½®Sass"><a href="#é…ç½®Sass" class="headerlink" title="é…ç½®Sass"></a>é…ç½®Sass</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader node-sass sass-loader style-loader --save-dev</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line">yarn add css-loader node-sass sass-loader style-loader -D</span><br></pre></td></tr></table></figure><p> é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æå–cssæ–‡ä»¶æˆå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> extractSass = <span class="keyword">new</span> ExtractTextPlugin(&#123;</span><br><span class="line">  filename: <span class="string">"styles/[name].[hash].css"</span>,</span><br><span class="line">  disable: process.env.NODE_ENV === <span class="string">"development"</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">        use: extractSass.extract(&#123;</span><br><span class="line">          use: [</span><br><span class="line">            &#123;</span><br><span class="line">              loader: <span class="string">"css-loader"</span>, <span class="comment">// å°†CSSç¿»è¯‘æˆCommonJS</span></span><br><span class="line">              options: &#123;</span><br><span class="line">                sourceMap: <span class="literal">true</span> <span class="comment">// ä¼šå¯¼è‡´é€Ÿåº¦å˜æ…¢</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              loader: <span class="string">"sass-loader"</span>, <span class="comment">// å°†Sassç¼–è¯‘æˆCSS</span></span><br><span class="line">              options: &#123;</span><br><span class="line">                sourceMap: <span class="literal">true</span> <span class="comment">// ä¼šå¯¼è‡´é€Ÿåº¦å˜æ…¢</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="comment">// åœ¨devç¯å¢ƒä¸‹é…ç½®è¿™æ¡</span></span><br><span class="line">          fallback: <span class="string">"style-loader"</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [extractSass]</span><br></pre></td></tr></table></figure><p>å®‰è£…<code>extract-text-webpack-plugin</code>è¿™æ˜¯ä¸ºäº†æŠŠcsså‘€è¿™äº›æ–‡ä»¶å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ª</p><p>ä½†æ˜¯ä¼šé‡åˆ°æŠ¥é”™ï¼š</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/extract-text-webpack-plugin.png" alt="extract-text-webpack-plugin"></p><p>ç„¶åæˆ‘ä»¬å»<code>package.json</code>ä¼šå‘ç°ä»–çš„ç‰ˆæœ¬æ‰3.0.2ã€‚ã€‚é‚£ä¹ˆå‡çº§ä¸‹å§å› ä¸ºæˆ‘ä»¬webpackéƒ½4.6äº†ã€‚ã€‚</p><p><code>yarn add extract-text-webpack-plugin@next -D</code></p><h1 id="CommonsChunkPlugin"><a href="#CommonsChunkPlugin" class="headerlink" title="CommonsChunkPlugin"></a>CommonsChunkPlugin</h1><p><a href="https://webpack.js.org/plugins/commons-chunk-plugin" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a>å·²è¢«ç§»é™¤ã€‚ã€‚è¢« <strong>SplitChunksPlugin</strong> å’Œ <strong>runtimeChunk</strong> æ›¿ä»£äº†ã€‚</p><p>CommonsChunkPluginå­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼š</p><ul><li>å®ƒå¯èƒ½å¯¼è‡´æ›´å¤šçš„ä»£ç è¢«ä¸‹è½½</li><li>å®ƒåœ¨å¼‚æ­¥å—ä¸Šæ•ˆç‡ä½ä¸‹ã€‚</li><li>å¾ˆéš¾ç”¨</li><li>å®æ–½éš¾ä»¥ç†è§£</li></ul><p>SplitChunksPluginå¾ˆæ£’çš„åœ°æ–¹ï¼š</p><ul><li>å®ƒå¯¹å¼‚æ­¥å—ä¹Ÿæœ‰æ•ˆ</li><li>å®ƒåœ¨é»˜è®¤æƒ…å†µä¸‹ç”¨äºå¼‚æ­¥å—</li><li>å®ƒå¤„ç†vendorå¹¶æ‹†åˆ†å¤šä¸ªverdorå—</li><li>å®ƒæ›´å®¹æ˜“ä½¿ç”¨</li><li>å®ƒä¸ä¾èµ–chunkå—</li><li>å¤§éƒ¨åˆ†æ˜¯è‡ªåŠ¨çš„</li></ul><p>æˆ‘ä»¬åªè¦æŠŠåŸæœ‰çš„<code>new webpack.optimize.CommonsChunkPlugin(options)</code>åˆ äº†ã€‚åŠ ä¸Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">splitChunks: &#123;</span><br><span class="line">    chunks: <span class="string">"async"</span>,</span><br><span class="line">    minSize: <span class="number">30000</span>,</span><br><span class="line">    minChunks: <span class="number">1</span>,</span><br><span class="line">    maxAsyncRequests: <span class="number">5</span>,</span><br><span class="line">    maxInitialRequests: <span class="number">3</span>,</span><br><span class="line">    automaticNameDelimiter: <span class="string">'~'</span>,</span><br><span class="line">    name: <span class="literal">true</span>,</span><br><span class="line">    cacheGroups: &#123;</span><br><span class="line">        vendors: &#123;</span><br><span class="line">            test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">            priority: <span class="number">-10</span></span><br><span class="line">        &#125;,</span><br><span class="line">    <span class="keyword">default</span>: &#123;</span><br><span class="line">            minChunks: <span class="number">2</span>,</span><br><span class="line">            priority: <span class="number">-20</span>,</span><br><span class="line">            reuseExistingChunk: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;first&quot;&gt;&lt;a href=&quot;#first&quot; class=&quot;headerlink&quot; title=&quot;first&quot;&gt;&lt;/a&gt;first&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mkdir simpleFE &amp;amp;&amp;amp; &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; simpleFE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm init -y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm install webpack webpack-cli --save-dev&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;or&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkdir simpleFE &amp;amp;&amp;amp; &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; simpleFE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yarn init -y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yarn add webpack webpack-cli -D&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸è¦é—®ä¸ºä»€ä¹ˆè£…äº†&lt;code&gt;webpack&lt;/code&gt; è¿˜è¦è£…&lt;code&gt;webpack-cli&lt;/code&gt;ã€‚ã€‚å› ä¸ºä½ ä¸è£…å°±æŠ¥é”™ã€‚ã€‚å®˜æ–¹æç¤ºè¿˜è®©ä½ å»è£…ã€‚ã€‚&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="Webpack" scheme="http://xuzihao.fun/categories/Webpack/"/>
    
    
      <category term="Webpack" scheme="http://xuzihao.fun/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>äº‹ä»¶å¤„ç†</title>
    <link href="http://xuzihao.fun/%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86.html"/>
    <id>http://xuzihao.fun/äº‹ä»¶å¤„ç†.html</id>
    <published>2018-04-18T14:39:15.250Z</published>
    <updated>2018-04-19T13:31:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>äº‹ä»¶ç®€è¦åˆ†æï¼š</p><ul><li>äº‹ä»¶ç±»å‹<ul><li>â€œloadâ€..etc..</li></ul></li><li>äº‹ä»¶ç›®æ ‡<ul><li>å„ç§loadã€loadäº‹ä»¶</li></ul></li><li>äº‹ä»¶å¤„ç†ç¨‹åº</li><li>äº‹ä»¶å¯¹è±¡</li><li>äº‹ä»¶ä¼ æ’­</li></ul><a id="more"></a><h1 id="æ³¨å†Œäº‹ä»¶"><a href="#æ³¨å†Œäº‹ä»¶" class="headerlink" title="æ³¨å†Œäº‹ä»¶"></a>æ³¨å†Œäº‹ä»¶</h1><ul><li><code>addEventListener()</code></li><li>IE9 ä¹‹å‰: <code>attachEvent()</code></li></ul><p>æŒ‰ç…§çº¦å®šï¼Œäº‹ä»¶å¤„ç†ç¨‹åºå±æ€§çš„åå­—ç”±â€onâ€åé¢è·Ÿç€æ—¶é—´åç»„æˆï¼š<code>onclick</code>ã€<code>onchange</code>ã€<code>onload</code>ã€<code>onmouseover</code>.å¹¶ä¸”æ‰€æœ‰éƒ½æ˜¯å°å†™ã€‚</p><p>ä½†æ˜¯åœ¨ <code>addEventListener()</code> ä¸­ç¬¬ä¸€ä¸ªå‚æ•°å´æ˜¯ä¸ç”¨å¸¦<code>on</code>çš„ï¼Œ<code>attachEvent()</code> å´è¦åŠ çš„ã€‚</p><p><a href="https://codepan.net/gist/500a52945c31109d769f0fa4a6bc9cf5" target="_blank" rel="noopener">Demo</a></p><h1 id="äº‹ä»¶è°ƒç”¨é¡ºåº"><a href="#äº‹ä»¶è°ƒç”¨é¡ºåº" class="headerlink" title="äº‹ä»¶è°ƒç”¨é¡ºåº"></a>äº‹ä»¶è°ƒç”¨é¡ºåº</h1><ul><li>é€šè¿‡è®¾ç½®å¯¹è±¡å±æ€§æˆ–è€…HTMLå±æ€§æ³¨å†Œçš„å¤„ç†ç¨‹åºä¸€ç›´ä¼˜å…ˆè°ƒç”¨</li><li>ä½¿ç”¨<code>addEventListener()</code> æ³¨å†Œçš„å¤„ç†ç¨‹åºæŒ‰ç…§å®ƒä»¬çš„æ³¨å†Œé¡ºåºè°ƒç”¨</li><li>ä½¿ç”¨ <code>attachEvent()</code> æ³¨å†Œçš„å¤„ç†ç¨‹åºå¯èƒ½æŒ‰ç…§ä»»ä½•é¡ºåºè°ƒç”¨ï¼Œæ‰€ä»¥ä»£ç ä¸åº”è¯¥ä¾èµ–äºè°ƒç”¨é¡ºåº</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äº‹ä»¶ç®€è¦åˆ†æï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº‹ä»¶ç±»å‹&lt;ul&gt;
&lt;li&gt;â€œloadâ€..etc..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ç›®æ ‡&lt;ul&gt;
&lt;li&gt;å„ç§loadã€loadäº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¯¹è±¡&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ä¼ æ’­&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="http://xuzihao.fun/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Contenteditableä¸å˜æˆè¾“å…¥æ™®é€šæ–‡æœ¬</title>
    <link href="http://xuzihao.fun/contenteditable.html"/>
    <id>http://xuzihao.fun/contenteditable.html</id>
    <published>2018-04-15T11:36:26.000Z</published>
    <updated>2018-04-17T15:44:56.767Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬éœ€è¦å®ç°å¯Œæ–‡æœ¬çš„æ–¹æ³•æœ‰ä¸€ä¸ªå¾ˆæ–¹ä¾¿é‚£å°±æ˜¯åœ¨ä»»æ„å…ƒç´ ä½ éƒ½å¯ä»¥ç»™ä¸ªå±æ€§å«<code>contenteditable</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">contenteditable</span>&gt;</span>æˆ‘æ˜¯ä¸ªå¯Œæ–‡æœ¬å“Ÿï¼<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¾ˆç®€å•è¿™å°±æ˜¯ä¸€ä¸ªå¯Œæ–‡æœ¬å•¦ï¼</p><a id="more"></a><p>ç»è¿‡ç™¾åº¦ä¸€ç•ªï¼Œçœ‹è§å¼ é‘«æ—­å¤§ç¥çš„å¾ˆä¹…ä»¥å‰çš„æ–‡ç« ã€‚ä¸ºäº†å®ç°æ™®é€šè¾“å…¥æ–‡æœ¬æˆ‘ä»¬åªèƒ½å€ŸåŠ©csså•¦ï¼</p><p><strong>user-modify</strong></p><ul><li>user-modify: read-only;<ul><li>åªèƒ½çœ‹</li></ul></li><li>user-modify: read-write;<ul><li>æ”¯æŒå¯Œæ–‡æœ¬</li></ul></li><li><del>user-modify: write-only;</del><ul><li>æ— æ‰€è°“çš„ä¸œè¥¿</li></ul></li><li>user-modify: read-write-plaintext-only;<ul><li>çº¯æ–‡æœ¬</li></ul></li></ul><p>OK~~é—®é¢˜è§£å†³å•¦ã€‚é‚£å°±æ˜¯åªè¦ç»™é‚£ä¸ªå…ƒç´ è®¾ä¸ªcss</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">contenteditable</span> <span class="attr">style</span>=<span class="string">"user-modify:read-write-plaintext-only"</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯çº¯æ–‡æœ¬</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://www.zhangxinxu.com/wordpress/2016/01/contenteditable-plaintext-only/" target="_blank" rel="noopener">å¼ é‘«æ—­å¤§ç¥åšå®¢</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬éœ€è¦å®ç°å¯Œæ–‡æœ¬çš„æ–¹æ³•æœ‰ä¸€ä¸ªå¾ˆæ–¹ä¾¿é‚£å°±æ˜¯åœ¨ä»»æ„å…ƒç´ ä½ éƒ½å¯ä»¥ç»™ä¸ªå±æ€§å«&lt;code&gt;contenteditable&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;contenteditable&lt;/span&gt;&amp;gt;&lt;/span&gt;æˆ‘æ˜¯ä¸ªå¯Œæ–‡æœ¬å“Ÿï¼&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¾ˆç®€å•è¿™å°±æ˜¯ä¸€ä¸ªå¯Œæ–‡æœ¬å•¦ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Html" scheme="http://xuzihao.fun/categories/Html/"/>
    
    
      <category term="Html" scheme="http://xuzihao.fun/tags/Html/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹‹å·¥å‚æ¨¡å¼jså’Œtså®ç°</title>
    <link href="http://xuzihao.fun/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://xuzihao.fun/è®¾è®¡æ¨¡å¼ä¹‹å·¥å‚æ¨¡å¼.html</id>
    <published>2018-04-12T13:21:15.484Z</published>
    <updated>2018-04-12T14:36:45.227Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h1><p>ç®€å•æ¥è¯´å°±æ˜¯ï¼šç”±ä¸€ä¸ªå¯¹è±¡å†³å®šåˆ›å»ºæŸä¸€ç§äº§å“å¯¹è±¡ç±»çš„å®ä¾‹ã€‚</p><p>Js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Book</span>(<span class="params">name, price, type</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    a.name = name;</span><br><span class="line">    a.price = price;</span><br><span class="line">    a.type = type;</span><br><span class="line">    </span><br><span class="line">    a.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">    a.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.price);</span><br><span class="line">    &#125;</span><br><span class="line">    a.getType = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.type)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b = Book(<span class="string">"Js"</span>, <span class="number">14</span>, <span class="string">"è¯­è¨€ä¹¦ç±"</span>);</span><br><span class="line">b.getName();</span><br></pre></td></tr></table></figure><a id="more"></a><p>Ts:</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> BookType&#123;</span><br><span class="line">    Js,</span><br><span class="line">    Ts,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> BookAction&#123;</span><br><span class="line">    read();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> Book <span class="keyword">implements</span> BookAction&#123; <span class="comment">// æŠ½è±¡äº§å“ - ä¹¦</span></span><br><span class="line">    <span class="keyword">abstract</span> read();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> JSbook <span class="keyword">extends</span> Book&#123; <span class="comment">//å…·ä½“äº§å“ - Jsbook</span></span><br><span class="line">    read()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'js book.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Tsbook <span class="keyword">extends</span> Book&#123; <span class="comment">//å…·ä½“äº§å“ - Tsbook</span></span><br><span class="line">    read()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ts book.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> BookFactory&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> createBook(<span class="keyword">type</span>: BookType): Book&#123;</span><br><span class="line">        <span class="keyword">switch</span>(<span class="keyword">type</span>)&#123;</span><br><span class="line">            <span class="keyword">case</span> BookType.Js:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> JSbook();</span><br><span class="line">            <span class="keyword">case</span> BookType.Ts:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Tsbook();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'not support book'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BookFactory.createBook(BookType.Js).read();</span><br><span class="line">BookFactory.createBook(BookType.Ts).read();</span><br></pre></td></tr></table></figure><h1 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h1><p>é€šè¿‡å¯¹äº§å“ç±»çš„æŠ½è±¡ä½¿å…¶åˆ›å»ºä¸šåŠ¡ä¸»è¦è´Ÿè´£ç”¨äºåˆ›å»ºå¤šç±»äº§å“çš„å®ä¾‹ã€‚</p><p>JS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Factory = <span class="function"><span class="keyword">function</span>(<span class="params">type, content</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> s = <span class="keyword">new</span> Factory(type, content)</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Factory.prototype = &#123;</span><br><span class="line">    Book: <span class="function"><span class="keyword">function</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.content)</span><br><span class="line">&#125;,</span><br><span class="line">    Note: <span class="function"><span class="keyword">function</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Factory(<span class="string">'Book'</span>, <span class="string">'Hello, i\'m a book'</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç®€å•å·¥å‚&quot;&gt;&lt;a href=&quot;#ç®€å•å·¥å‚&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•å·¥å‚&quot;&gt;&lt;/a&gt;ç®€å•å·¥å‚&lt;/h1&gt;&lt;p&gt;ç®€å•æ¥è¯´å°±æ˜¯ï¼šç”±ä¸€ä¸ªå¯¹è±¡å†³å®šåˆ›å»ºæŸä¸€ç§äº§å“å¯¹è±¡ç±»çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;Js:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Book&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;name, price, type&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; a = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.name = name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.price = price;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.type = type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.getName = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.getPrice = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.price);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a.getType = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.type)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; a;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; b = Book(&lt;span class=&quot;string&quot;&gt;&quot;Js&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;è¯­è¨€ä¹¦ç±&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;b.getName();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://xuzihao.fun/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://xuzihao.fun/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Reactæ–°ç”Ÿå‘½å‘¨æœŸ</title>
    <link href="http://xuzihao.fun/React%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html"/>
    <id>http://xuzihao.fun/Reactæ–°ç”Ÿå‘½å‘¨æœŸ.html</id>
    <published>2018-04-10T12:39:26.000Z</published>
    <updated>2018-04-11T13:41:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="React16-3-1"><a href="#React16-3-1" class="headerlink" title="React16.3.1"></a>React16.3.1</h1><p>Reactå‘ç”Ÿäº†é‡å¤§çš„å˜åŒ–ã€‚å¹¶ä¸”æ›´æ–°äº†æ–°çš„ç”Ÿå‘½å‘¨æœŸæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ã€‚</p><p>çŒ®ä¸Šä¸€ä¸ªå›¾ï¼</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/react%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt=""></p><blockquote><p>åœ°å€ï¼š<a href="http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener">Reactæ–°ç”Ÿå‘½å‘¨æœŸå›¾</a></p></blockquote><a id="more"></a><h1 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h1><h2 id="Mounting-æŒ‚è½½"><a href="#Mounting-æŒ‚è½½" class="headerlink" title="Mounting/æŒ‚è½½"></a>Mounting/æŒ‚è½½</h2><ul><li>constructor()</li><li>static getDerivedStateFromProps()</li><li>UNSAFE_componentWillMount()</li><li>render()</li><li>componentDidMount()</li></ul><h2 id="Updating-æ›´æ–°"><a href="#Updating-æ›´æ–°" class="headerlink" title="Updating/æ›´æ–°"></a>Updating/æ›´æ–°</h2><ul><li>UNSAFE_componentWillReceiveProps()</li><li>static getDerivedStateFromProps()</li><li>shouldComponentUpdate(prevProps, prevState)</li><li>UNSAFE_componentWillUpdate()</li><li>render()</li><li>getSnapshotBeforeUpdate()</li><li>componentDidUpdate(prevProps, prevState, snapshot)</li></ul><h2 id="Unmounting-å¸è½½"><a href="#Unmounting-å¸è½½" class="headerlink" title="Unmounting/å¸è½½"></a>Unmounting/å¸è½½</h2><ul><li>componentWillUnmount()</li></ul><h1 id="Demo-getDerivedStateFromProps-amp-amp-componentDidUpdate"><a href="#Demo-getDerivedStateFromProps-amp-amp-componentDidUpdate" class="headerlink" title="Demo-getDerivedStateFromProps&amp;&amp;componentDidUpdate:"></a>Demo-getDerivedStateFromProps&amp;&amp;componentDidUpdate:</h1><p>é“¾æ¥ï¼š <a href="https://codesandbox.io/s/2xv69l269j" target="_blank" rel="noopener">å°demoï¼Œäº†è§£ä¸€ä¸‹</a></p><p>componentDidUpdateæ˜¯ä¸ªåšç½‘ç»œè¯·æ±‚çš„å¥½åœ°æ–¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">"react-dom"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;div style=&#123;styles&#125;&gt;</span><br><span class="line">    &lt;Hello name=<span class="string">"CodeSandbox"</span> /&gt;</span><br><span class="line">    &lt;h2&gt;Start editing to see some magic happen &#123;<span class="string">"\u2728"</span>&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;B /</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp">class B extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">  state = &#123;</span></span><br><span class="line"><span class="regexp">    myParentValue: ""</span></span><br><span class="line"><span class="regexp">  &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  componentDidMount() &#123;</span></span><br><span class="line"><span class="regexp">    setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">      this.setState(&#123; myParentValue: "XuZiHao" &#125;);</span></span><br><span class="line"><span class="regexp">    &#125;, 1000);</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return &lt;C foo=&#123;this.state.myParentValue&#125; /</span>&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    foo: <span class="string">""</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> getDerivedStateFromProps(nextProps, prevState) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nextProps.foo === <span class="string">"XuZiHao"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        foo: <span class="string">"bar"</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.state.foo === <span class="string">"bar"</span>) &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123; <span class="attr">foo</span>: <span class="string">"Hello!!!!"</span> &#125;);</span><br><span class="line">      &#125;, <span class="number">4000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Value of `foo` is &#123;this.state.foo&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span>, document.getElementById("root"));</span></span><br></pre></td></tr></table></figure><h1 id="Demo-shouldComponentUpdate-prevProps-prevState"><a href="#Demo-shouldComponentUpdate-prevProps-prevState" class="headerlink" title="Demo-shouldComponentUpdate(prevProps, prevState)"></a>Demo-shouldComponentUpdate(prevProps, prevState)</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      <span class="built_in">Number</span>:<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//è¿™é‡Œè°ƒç”¨äº†setStateä½†æ˜¯å¹¶æ²¡æœ‰æ”¹å˜setStateä¸­çš„å€¼</span></span><br><span class="line">  handleClick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">const</span> preNumber = <span class="keyword">this</span>.state.Number</span><br><span class="line">     <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        <span class="built_in">Number</span>:<span class="keyword">this</span>.state.Number</span><br><span class="line">     &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åœ¨renderå‡½æ•°è°ƒç”¨å‰åˆ¤æ–­ï¼šå¦‚æœå‰åstateä¸­Numberä¸å˜ï¼Œé€šè¿‡return falseé˜»æ­¢renderè°ƒç”¨</span></span><br><span class="line">  shouldComponentUpdate(nextProps,nextState)&#123;</span><br><span class="line">      <span class="keyword">if</span>(nextState.Number == <span class="keyword">this</span>.state.Number)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render()&#123;</span><br><span class="line">    <span class="comment">//å½“renderå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œæ‰“å°å½“å‰çš„Number</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.Number)</span><br><span class="line">    <span class="keyword">return</span>(<span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span> = <span class="string">&#123;this.handleClick&#125;</span> <span class="attr">style</span> =<span class="string">&#123;&#123;margin:30&#125;&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">             &#123;this.state.Number&#125;</span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Demo-getSnapshotBeforeUpdate"><a href="#Demo-getSnapshotBeforeUpdate" class="headerlink" title="Demo-getSnapshotBeforeUpdate()"></a>Demo-getSnapshotBeforeUpdate()</h1><p>å®˜æ–¹ä¾‹å­ï¼š</p><blockquote><p><a href="https://reactjs.org/docs/react-component.html#getsnapshotbeforeupdate" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrollingList</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  listRef = React.createRef();</span><br><span class="line"></span><br><span class="line">  getSnapshotBeforeUpdate(prevProps, prevState) &#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦å°†æ–°é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Ÿ</span></span><br><span class="line">    <span class="comment">// æ•è·åˆ—è¡¨çš„å½“å‰é«˜åº¦ï¼Œä»¥ä¾¿ç¨åè°ƒæ•´æ»šåŠ¨ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (prevProps.list.length &lt; <span class="keyword">this</span>.props.list.length) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.listRef.current.scrollHeight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState, snapshot) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæˆ‘ä»¬æœ‰å¿«ç…§å€¼ï¼Œæˆ‘ä»¬åˆšåˆšæ·»åŠ äº†æ–°items</span></span><br><span class="line">    <span class="comment">// è°ƒæ•´æ»šåŠ¨æ¡ï¼Œä»¥ä¾¿è¿™äº›æ–°itemsä¸ä¼šå°†æ—§çš„æ¨å‡ºè§†å›¾ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (snapshot !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.listRef.current.scrollTop +=</span><br><span class="line">        <span class="keyword">this</span>.listRef.current.scrollHeight - snapshot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div ref=&#123;<span class="keyword">this</span>.listRef&#125;&gt;&#123;<span class="comment">/* ...contents... */</span>&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;React16-3-1&quot;&gt;&lt;a href=&quot;#React16-3-1&quot; class=&quot;headerlink&quot; title=&quot;React16.3.1&quot;&gt;&lt;/a&gt;React16.3.1&lt;/h1&gt;&lt;p&gt;Reactå‘ç”Ÿäº†é‡å¤§çš„å˜åŒ–ã€‚å¹¶ä¸”æ›´æ–°äº†æ–°çš„ç”Ÿå‘½å‘¨æœŸæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;çŒ®ä¸Šä¸€ä¸ªå›¾ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/react%E6%96%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ°å€ï¼š&lt;a href=&quot;http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Reactæ–°ç”Ÿå‘½å‘¨æœŸå›¾&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="React" scheme="http://xuzihao.fun/categories/React/"/>
    
    
      <category term="React" scheme="http://xuzihao.fun/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>RegExpæ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://xuzihao.fun/RegExp.html"/>
    <id>http://xuzihao.fun/RegExp.html</id>
    <published>2018-04-06T13:44:57.528Z</published>
    <updated>2018-04-01T12:21:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»¨æ ‡å¿—"><a href="#ä»¨æ ‡å¿—" class="headerlink" title="ä»¨æ ‡å¿—"></a>ä»¨æ ‡å¿—</h2><ul><li>g<ul><li>å…¨å±€æŸ¥</li></ul></li><li>i<ul><li>å¿½ç•¥å¤§å°å†™</li></ul></li><li>m<ul><li>å¤šè¡ŒæŸ¥</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="regexp">/a/g</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="regexp">/at/i</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="regexp">/.at/gi</span>;</span><br></pre></td></tr></table></figure><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä»¨æ ‡å¿—&quot;&gt;&lt;a href=&quot;#ä»¨æ ‡å¿—&quot; class=&quot;headerlink&quot; title=&quot;ä»¨æ ‡å¿—&quot;&gt;&lt;/a&gt;ä»¨æ ‡å¿—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;g&lt;ul&gt;
&lt;li&gt;å…¨å±€æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;i&lt;ul&gt;
&lt;li&gt;å¿½ç•¥å¤§å°å†™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;m&lt;ul&gt;
&lt;li&gt;å¤šè¡ŒæŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;regexp&quot;&gt;/a/g&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; b = &lt;span class=&quot;regexp&quot;&gt;/at/i&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c = &lt;span class=&quot;regexp&quot;&gt;/.at/gi&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Javascriptä¿®ä»™ä¹‹æ—…" scheme="http://xuzihao.fun/categories/Javascript%E4%BF%AE%E4%BB%99%E4%B9%8B%E6%97%85/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šé«˜æ€§èƒ½JavaScriptã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://xuzihao.fun/%E3%80%8A%E9%AB%98%E6%80%A7%E8%83%BDJavaScript%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html"/>
    <id>http://xuzihao.fun/ã€Šé«˜æ€§èƒ½JavaScriptã€‹è¯»ä¹¦ç¬”è®°.html</id>
    <published>2018-04-02T06:39:00.000Z</published>
    <updated>2018-04-02T06:55:27.424Z</updated>
    
    <content type="html"><![CDATA[<h2 id="First"><a href="#First" class="headerlink" title="First"></a>First</h2><p><code>&lt;script&gt;</code>æ–¹é¢çš„æˆ‘å†™äº†ä¸€ç¯‡åšæ–‡é“¾æ¥åœ°å€ï¼š<a href="http://xuzihao.fun/%E6%B5%85%E8%B0%88script%E6%A0%87%E7%AD%BE.html">æµ…è°ˆscriptæ ‡ç­¾</a></p><h2 id="Second"><a href="#Second" class="headerlink" title="Second"></a>Second</h2><p>æ•°æ®å­˜å‚¨ï¼š</p><ol><li>æŠŠæ•°æ®å­˜åœ¨è®¿é—®å­—é¢é‡å’Œå±€éƒ¨å˜é‡æ˜¯ç„¶åå»è®¿é—®é€Ÿåº¦æœ€å¿«çš„ã€‚</li><li>å…¨å±€å˜é‡æ€»æ˜¯åœ¨ä½œç”¨åŸŸçš„æœ€æœ«ç«¯æ‰€ä»¥è®¿é—®é€Ÿåº¦ä¹Ÿæ˜¯æœ€æ…¢çš„ã€‚</li><li>å¯¹è±¡çš„æ·±åº¦åµŒå¥—æ‹¿å€¼ä¼šå½±å“æ€§èƒ½ã€‚</li></ol><a id="more"></a><p>ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//before</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> getId = <span class="built_in">document</span>.getElementById(<span class="string">"id"</span>);</span><br><span class="line">    <span class="keyword">var</span> getClass = documnent.getElementsByClassName(<span class="string">"class"</span>);</span><br><span class="line">    getId.style.width......</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//after</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> doc = <span class="built_in">document</span>;</span><br><span class="line">        <span class="keyword">var</span> getId = doc.getElementById(<span class="string">"id"</span>);</span><br><span class="line">        <span class="keyword">var</span> getClass = doc.getElementsByClassName(<span class="string">"class"</span>);</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;First&quot;&gt;&lt;a href=&quot;#First&quot; class=&quot;headerlink&quot; title=&quot;First&quot;&gt;&lt;/a&gt;First&lt;/h2&gt;&lt;p&gt;&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;æ–¹é¢çš„æˆ‘å†™äº†ä¸€ç¯‡åšæ–‡é“¾æ¥åœ°å€ï¼š&lt;a href=&quot;http://xuzihao.fun/%E6%B5%85%E8%B0%88script%E6%A0%87%E7%AD%BE.html&quot;&gt;æµ…è°ˆscriptæ ‡ç­¾&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Second&quot;&gt;&lt;a href=&quot;#Second&quot; class=&quot;headerlink&quot; title=&quot;Second&quot;&gt;&lt;/a&gt;Second&lt;/h2&gt;&lt;p&gt;æ•°æ®å­˜å‚¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠæ•°æ®å­˜åœ¨è®¿é—®å­—é¢é‡å’Œå±€éƒ¨å˜é‡æ˜¯ç„¶åå»è®¿é—®é€Ÿåº¦æœ€å¿«çš„ã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€å˜é‡æ€»æ˜¯åœ¨ä½œç”¨åŸŸçš„æœ€æœ«ç«¯æ‰€ä»¥è®¿é—®é€Ÿåº¦ä¹Ÿæ˜¯æœ€æ…¢çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹è±¡çš„æ·±åº¦åµŒå¥—æ‹¿å€¼ä¼šå½±å“æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="http://xuzihao.fun/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>CSSå¸ƒå±€</title>
    <link href="http://xuzihao.fun/CSS%E5%B8%83%E5%B1%80.html"/>
    <id>http://xuzihao.fun/CSSå¸ƒå±€.html</id>
    <published>2018-04-01T06:50:00.000Z</published>
    <updated>2018-04-01T07:28:26.254Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€"><a href="#ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€" class="headerlink" title="ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€"></a>ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€</h2><h2 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// css </span><br><span class="line">.left &#123;</span><br><span class="line">  width: 40px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  background: red;</span><br><span class="line">  float: left</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.right &#123;</span><br><span class="line">  height: 200px;</span><br><span class="line">  margin-left: 40px;</span><br><span class="line">  background: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://codepan.net/gist/9c5dd595475bf4a68adc87c895f6e561" target="_blank" rel="noopener">Demo</a></p><a id="more"></a><h2 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//css</span><br><span class="line">.left &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  height: 200px;</span><br><span class="line">  width: 40px;</span><br><span class="line">  background: red;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">  height: 200px;</span><br><span class="line">  margin-left: 40px;</span><br><span class="line">  background: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://codepan.net/gist/4166718a79e3d3013d43a63bb4220b98" target="_blank" rel="noopener">Demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€&quot;&gt;&lt;a href=&quot;#ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€&quot; class=&quot;headerlink&quot; title=&quot;ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€&quot;&gt;&lt;/a&gt;ä¸¤æ â€”â€”å·¦å›ºå®šå³è‡ªé€‚åº”å¸ƒå±€&lt;/h2&gt;&lt;h2 id=&quot;æ–¹æ³•ä¸€&quot;&gt;&lt;a href=&quot;#æ–¹æ³•ä¸€&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•ä¸€&quot;&gt;&lt;/a&gt;æ–¹æ³•ä¸€&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// css &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.left &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  width: 40px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  height: 200px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  background: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  float: left&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.right &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  height: 200px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  margin-left: 40px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  background: blue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://codepan.net/gist/9c5dd595475bf4a68adc87c895f6e561&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="CSS" scheme="http://xuzihao.fun/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://xuzihao.fun/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>React-Sagaç¬”è®°</title>
    <link href="http://xuzihao.fun/ReduxSaga.html"/>
    <id>http://xuzihao.fun/ReduxSaga.html</id>
    <published>2018-03-31T14:55:00.000Z</published>
    <updated>2018-04-01T06:20:41.513Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç›‘å¬"><a href="#ç›‘å¬" class="headerlink" title="ç›‘å¬"></a>ç›‘å¬</h2><h3 id="takeEvery"><a href="#takeEvery" class="headerlink" title="takeEvery:"></a>takeEvery:</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">watchFetchData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span>* takeEvery(<span class="string">'FETCH_REQUESTED'</span>, fetchData)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…è®¸å¤šä¸ª<code>fetchData</code>åŒæ—¶è¿›è¡Œï¼Œå³ä½¿ä¸Šä¸€ä¸ªè¿˜æ²¡æ‰§è¡Œå®Œæˆã€‚<br><a id="more"></a></p><h3 id="takeLatestï¼š"><a href="#takeLatestï¼š" class="headerlink" title="takeLatestï¼š"></a>takeLatestï¼š</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">watchFetchData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span>* takeLatest(<span class="string">'FETCH_REQUESTED'</span>, fetchData)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å§‹ç»ˆæ‰§è¡Œæœ€æ–°çš„é‚£ä¸ªè¯·æ±‚çš„å“åº”ã€‚</p><p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š</p><p>æˆ‘ä»¬ç–¯ç‹‚ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå®ƒè§¦å‘ä¹Ÿç–¯ç‹‚è§¦å‘äº†å¤šæ¬¡<code>fetchData</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬æ˜¯<code>takeEvery</code>é‚£å°†ä½ ç‚¹å‡»å‡ æ¬¡ä»–æ‰§è¡Œå‡ æ¬¡<code>fetchData</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬æ˜¯<code>takeLatest</code>é‚£å°†åªæ‰§è¡Œä½ æœ€åç‚¹å‡»çš„é‚£ä¸€æ¬¡<code>fetchData</code>ã€‚</p><p>##Effect</p><p>ä» Generator é‡Œ yield çº¯ JavaScript å¯¹è±¡ä»¥è¡¨è¾¾ Saga é€»è¾‘ã€‚ æˆ‘ä»¬ç§°å‘¼é‚£äº›å¯¹è±¡ä¸º <em>Effect</em>ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>redux-saga/effects</code> åŒ…é‡Œ<strong>æä¾›çš„å‡½æ•°</strong>æ¥åˆ›å»º Effectã€‚</p><h3 id="callï¼š"><a href="#callï¼š" class="headerlink" title="callï¼š"></a>callï¼š</h3><p><code>call(fn, ...args)</code> è¿™ä¸ªå‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬ä¸ç«‹å³æ‰§è¡Œå¼‚æ­¥è°ƒç”¨ï¼Œç›¸åï¼Œcall åˆ›å»ºäº†ä¸€æ¡æè¿°ç»“æœçš„ä¿¡æ¯</p><p>ç®€å•æ¥è¯´ï¼Œcallå°±æ˜¯reduxé‡Œçš„Action Creatorã€‚ </p><p>###putï¼š</p><p>è¿™ä¸ªå‡½æ•°ç”¨äºåˆ›å»º dispatch Effectã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//before</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fetchProducts</span>(<span class="params">dispatch</span>)</span></span><br><span class="line"><span class="function">  <span class="title">const</span> <span class="title">products</span> = <span class="title">yield</span> <span class="title">call</span>(<span class="params">Api.fetch, <span class="string">'/products'</span></span>)</span></span><br><span class="line"><span class="function">  <span class="title">dispatch</span>(<span class="params">&#123; type: <span class="string">'PRODUCTS_RECEIVED'</span>, products &#125;</span>)</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">//<span class="title">after</span></span></span><br><span class="line"><span class="function"><span class="title">import</span> </span>&#123; call, put &#125; <span class="keyword">from</span> <span class="string">'redux-saga/effects'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fetchProducts</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> products = <span class="keyword">yield</span> call(Api.fetch, <span class="string">'/products'</span>)</span><br><span class="line">  <span class="comment">// åˆ›å»ºå¹¶ yield ä¸€ä¸ª dispatch Effect</span></span><br><span class="line">  <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: <span class="string">'PRODUCTS_RECEIVED'</span>, products &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="takeï¼š"><a href="#takeï¼š" class="headerlink" title="takeï¼š"></a>takeï¼š</h3><p>å®ƒå°†ä¼šæš‚åœ Generator ç›´åˆ°ä¸€ä¸ªåŒ¹é…çš„ action è¢«å‘èµ·ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">loginFlow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> take(<span class="string">'LOGIN'</span>)</span><br><span class="line">    <span class="comment">// ... perform the login logic</span></span><br><span class="line">    <span class="keyword">yield</span> take(<span class="string">'LOGOUT'</span>)</span><br><span class="line">    <span class="comment">// ... perform the logout logic</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç”¨<code>take</code>å»ç›‘å¬è¿˜æœªå‘ç”Ÿçš„äº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬Loginä¹‹åå¿…å®šè·Ÿç€ä¸€ä¸ªLogoutï¼Œæˆ–è€…è¯´æˆ‘ä»¬Logoutåé¢å¿…å®šè·Ÿç€ä¸€ä¸ªLoginã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç›‘å¬&quot;&gt;&lt;a href=&quot;#ç›‘å¬&quot; class=&quot;headerlink&quot; title=&quot;ç›‘å¬&quot;&gt;&lt;/a&gt;ç›‘å¬&lt;/h2&gt;&lt;h3 id=&quot;takeEvery&quot;&gt;&lt;a href=&quot;#takeEvery&quot; class=&quot;headerlink&quot; title=&quot;takeEvery:&quot;&gt;&lt;/a&gt;takeEvery:&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;title&quot;&gt;watchFetchData&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt;* takeEvery(&lt;span class=&quot;string&quot;&gt;&#39;FETCH_REQUESTED&#39;&lt;/span&gt;, fetchData)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…è®¸å¤šä¸ª&lt;code&gt;fetchData&lt;/code&gt;åŒæ—¶è¿›è¡Œï¼Œå³ä½¿ä¸Šä¸€ä¸ªè¿˜æ²¡æ‰§è¡Œå®Œæˆã€‚&lt;br&gt;
    
    </summary>
    
      <category term="React" scheme="http://xuzihao.fun/categories/React/"/>
    
    
      <category term="React" scheme="http://xuzihao.fun/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>ReactNativeçƒ­æ›´æ–°ä¹‹å¾®è½¯CodePush</title>
    <link href="http://xuzihao.fun/ReactNativeCodePush.html"/>
    <id>http://xuzihao.fun/ReactNativeCodePush.html</id>
    <published>2018-03-28T14:10:23.015Z</published>
    <updated>2018-03-28T14:16:55.432Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¾®è½¯-CodePush-ä½¿ç”¨"><a href="#å¾®è½¯-CodePush-ä½¿ç”¨" class="headerlink" title="å¾®è½¯ CodePush ä½¿ç”¨"></a>å¾®è½¯ CodePush ä½¿ç”¨</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><code>yarn global add code-push-cli</code></p><h2 id="æ³¨å†Œè´¦æˆ·"><a href="#æ³¨å†Œè´¦æˆ·" class="headerlink" title="æ³¨å†Œè´¦æˆ·"></a>æ³¨å†Œè´¦æˆ·</h2><p><code>code-push register</code></p><p>ä¼šå¼¹å‡ºä¸€ä¸ªæµè§ˆå™¨,è®©ä½ æ³¨å†Œ,å¯ä»¥ä½¿ç”¨ github å¸å·å¯¹å…¶è¿›è¡Œæˆæƒ,æˆæƒæˆåŠŸä¼šç»™ä¸€ä¸² Token,ç‚¹å‡»å¤åˆ¶ï¼Œåœ¨æ§åˆ¶è¿›è¡Œç²˜è´´å›è½¦(æˆ–è€…ä½¿ç”¨ code-push login å‘½ä»¤)ã€‚</p><a id="more"></a><h2 id="CodePush-ç™»å½•ç›¸å…³å‘½ä»¤"><a href="#CodePush-ç™»å½•ç›¸å…³å‘½ä»¤" class="headerlink" title="CodePush ç™»å½•ç›¸å…³å‘½ä»¤"></a>CodePush ç™»å½•ç›¸å…³å‘½ä»¤</h2><ul><li>code-push login ç™»é™†</li><li>code-push logout æ³¨é”€</li><li>code-push access-key ls åˆ—å‡ºç™»é™†çš„ token</li><li>code-push access-key rm åˆ é™¤æŸä¸ª access-key</li></ul><h2 id="CodePush-åˆ›å»º-App-ç›¸å…³å‘½ä»¤"><a href="#CodePush-åˆ›å»º-App-ç›¸å…³å‘½ä»¤" class="headerlink" title="CodePush åˆ›å»º App ç›¸å…³å‘½ä»¤"></a>CodePush åˆ›å»º App ç›¸å…³å‘½ä»¤</h2><ul><li>code-push app add<ul><li>å¦‚: code-push app add yimutest-ios ios/android react-native</li></ul></li><li>code-push app add<ul><li>åœ¨è´¦å·é‡Œé¢æ·»åŠ ä¸€ä¸ªæ–°çš„ app</li></ul></li><li>code-push app remove<ul><li>rm åœ¨è´¦å·é‡Œç§»é™¤ä¸€ä¸ª app</li></ul></li><li>code-push app rename<ul><li>é‡å‘½åä¸€ä¸ªå­˜åœ¨ app</li></ul></li><li>code-push app list<ul><li>ls åˆ—å‡ºè´¦å·ä¸‹é¢çš„æ‰€æœ‰ app</li></ul></li><li>code-push app transfer<ul><li>æŠŠ app çš„æ‰€æœ‰æƒè½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªè´¦å·</li></ul></li></ul><h2 id="åœ¨é¡¹ç›®ä¸­-åŠ åŒ…"><a href="#åœ¨é¡¹ç›®ä¸­-åŠ åŒ…" class="headerlink" title="åœ¨é¡¹ç›®ä¸­  åŠ åŒ…"></a>åœ¨é¡¹ç›®ä¸­  åŠ åŒ…</h2><ol><li><code>yarn add react-native-code-push</code></li><li><code>react-native link</code></li></ol><p>ä¹‹åä¼šè®©ä½ å°†åˆšæ‰æ·»åŠ çš„ ios/Android App çš„ Staging Key å¤åˆ¶ç²˜è´´åˆ°è¿™é‡Œ</p><p>Staging ä¸ºæµ‹è¯•çš„ keyï¼ŒProduction ä¸ºç”Ÿäº§æ‰“åŒ…æ—¶ç”¨çš„ keyã€‚</p><p>å¦‚æœå¿˜äº†  åˆ™åœ¨ç»ˆç«¯ä¸‹åšæŸ¥çœ‹:</p><p><code>code-push deployment ls æ‚¨çš„åº”ç”¨å -k</code></p><h2 id="App-js"><a href="#App-js" class="headerlink" title="App.js"></a>App.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> codePush <span class="keyword">from</span> <span class="string">"react-native-code-push"</span>;</span><br><span class="line"><span class="keyword">const</span> codePushOptions = &#123; <span class="attr">checkFrequency</span>: codePush.CheckFrequency.MANUAL &#125;;</span><br><span class="line"></span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">  codePush.sync(&#123;</span><br><span class="line">    updateDialog: <span class="literal">true</span>,</span><br><span class="line">    installMode: codePush.InstallMode.IMMEDIATE,</span><br><span class="line">    mandatoryInstallMode:codePush.InstallMode.IMMEDIATE,</span><br><span class="line">    <span class="comment">//deploymentKeyä¸ºåˆšæ‰ç”Ÿæˆçš„,æ‰“åŒ…å“ªä¸ªå¹³å°çš„Appå°±ä½¿ç”¨å“ªä¸ªKey,è¿™é‡Œç”¨IOSçš„æ‰“åŒ…æµ‹è¯•</span></span><br><span class="line">    deploymentKey: <span class="string">'xxxxxxx'</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™„ä¸Šå…¶ä»–çš„è¯¦ç»† API: <a href="https://github.com/Microsoft/react-native-code-push/blob/master/docs/api-js.md" target="_blank" rel="noopener">è¯¦ç»†é…ç½®</a></p><h2 id="å‘å¸ƒæ–°ç‰ˆæœ¬"><a href="#å‘å¸ƒæ–°ç‰ˆæœ¬" class="headerlink" title="å‘å¸ƒæ–°ç‰ˆæœ¬"></a>å‘å¸ƒæ–°ç‰ˆæœ¬</h2><blockquote><p><code>code-push release &lt;åº”ç”¨åç§°&gt; &lt;Bundlesæ‰€åœ¨ç›®å½•&gt; &lt;å¯¹åº”çš„åº”ç”¨ç‰ˆæœ¬&gt; --deploymentNameï¼š æ›´æ–°ç¯å¢ƒ --descriptionï¼š æ›´æ–°æè¿° --mandatoryï¼š æ˜¯å¦å¼ºåˆ¶æ›´æ–°</code></p></blockquote><blockquote><p><code>code-push release codepush01 ./bundles/ 1.0.0 --deploymentName Production --description &quot;æˆ‘ä¹Ÿä¸çŸ¥é“è¦å†™å•¥&quot; --mandatory false</code></p></blockquote><ol><li><code>code-push app add aaa-ios ios react-native</code></li><li><code>yarn start-ios</code></li></ol><h3 id="Android-æ–°ç‰ˆæœ¬å‘å¸ƒ"><a href="#Android-æ–°ç‰ˆæœ¬å‘å¸ƒ" class="headerlink" title="Android æ–°ç‰ˆæœ¬å‘å¸ƒ"></a>Android æ–°ç‰ˆæœ¬å‘å¸ƒ</h3><p>ä¿®æ”¹ App.js çš„ deploymentKey ä¸ºå®‰å“çš„</p><ol><li><code>deploymentKey:&#39;android key&#39;</code></li><li><code>code-push release-react aaa-android android</code></li><li><code>yarn start-android</code></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¾®è½¯-CodePush-ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#å¾®è½¯-CodePush-ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;å¾®è½¯ CodePush ä½¿ç”¨&quot;&gt;&lt;/a&gt;å¾®è½¯ CodePush ä½¿ç”¨&lt;/h1&gt;&lt;h2 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h2&gt;&lt;p&gt;&lt;code&gt;yarn global add code-push-cli&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ³¨å†Œè´¦æˆ·&quot;&gt;&lt;a href=&quot;#æ³¨å†Œè´¦æˆ·&quot; class=&quot;headerlink&quot; title=&quot;æ³¨å†Œè´¦æˆ·&quot;&gt;&lt;/a&gt;æ³¨å†Œè´¦æˆ·&lt;/h2&gt;&lt;p&gt;&lt;code&gt;code-push register&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¼šå¼¹å‡ºä¸€ä¸ªæµè§ˆå™¨,è®©ä½ æ³¨å†Œ,å¯ä»¥ä½¿ç”¨ github å¸å·å¯¹å…¶è¿›è¡Œæˆæƒ,æˆæƒæˆåŠŸä¼šç»™ä¸€ä¸² Token,ç‚¹å‡»å¤åˆ¶ï¼Œåœ¨æ§åˆ¶è¿›è¡Œç²˜è´´å›è½¦(æˆ–è€…ä½¿ç”¨ code-push login å‘½ä»¤)ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="React Native" scheme="http://xuzihao.fun/categories/React-Native/"/>
    
    
      <category term="React Native" scheme="http://xuzihao.fun/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>Macé€šè¿‡sshè¿æ¥ecs</title>
    <link href="http://xuzihao.fun/mac%E8%BF%9E%E6%8E%A5ssh.html"/>
    <id>http://xuzihao.fun/macè¿æ¥ssh.html</id>
    <published>2018-03-26T13:55:10.689Z</published>
    <updated>2018-03-26T14:09:56.265Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡å­¦ç”Ÿä¼˜æƒ ä¹°äº†åŠå¹´çš„é˜¿é‡Œäº‘æœåŠ¡å™¨ecsï¼å¥½ä¾¿å®œå•Šã€‚ã€‚æƒ³æƒ³é©¬ä¸Šå°±æ¯•ä¸šäº†ï¼Œç”šè‡³æœ‰ç‚¹å°å¯æƒœä¸èƒ½æ—¶é—´é•¿ç‚¹äº«å—ä¼˜æƒ ã€‚ã€‚</p><a id="more"></a><p>é‚£ä¸è¯´å¤šçš„ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚</p><p>èµ·åˆé€šè¿‡é˜¿é‡Œäº‘æ§åˆ¶å°è¿›è¡Œè¿œç¨‹æ§åˆ¶è‡ªå·±ä¹°çš„äº‘æœåŠ¡å™¨ã€‚ã€‚æ€»æ˜¯æ„Ÿè§‰åœ¨ç½‘é¡µç«¯æ“ä½œç»ˆç«¯æœ‰ç‚¹å˜æ‰­ï¼Œå°±å‡†å¤‡ç”¨tmuxç›´æ¥é€šè¿‡sshè¿æ¥æˆ‘è‡ªå·±çš„äº‘æœåŠ¡å™¨ã€‚</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E9%98%BF%E9%87%8C%E4%BA%91ecs%E6%8A%A5%E9%94%99.png" alt=""></p><p>å®ƒå±…ç„¶è¯´ï¼ï¼ï¼</p><p>Timed out!!</p><p>è¿™æ˜¯Whyï¼ï¼</p><p>ä¹‹åå¸®åŠ©ä¸­å¿ƒèµ°äº†ä¸€é­ï¼Œå‘ç°åŸæ¥æˆ‘æ˜¯å®‰å…¨ç»„æ²¡é…ç½®ã€‚ã€‚</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9B%B4%E5%A4%9A.png" alt=""></p><p>ç„¶åæˆ‘ä»¬ç‚¹å‡»å®‰å…¨ç»„é…ç½®ã€‚</p><p>ä¹‹åè¿›å…¥é‡ç‚¹ï¼</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%E9%98%BF%E9%87%8C%E4%BA%91ces%E5%87%BA%E5%85%A5.png" alt=""></p><p>æˆ‘ä»¬åœ¨å‡ºå’Œå…¥éƒ½é…ç½®ä¸€æ ·çš„è®¾ç½®ã€‚</p><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„å»ç»ˆç«¯é‡Œé€šè¿‡sshè¿æ¥æˆ‘ä»¬çš„äº‘æœåŠ¡å™¨å•¦~</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/ssh%E5%89%AF%E6%9C%AC.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é€šè¿‡å­¦ç”Ÿä¼˜æƒ ä¹°äº†åŠå¹´çš„é˜¿é‡Œäº‘æœåŠ¡å™¨ecsï¼å¥½ä¾¿å®œå•Šã€‚ã€‚æƒ³æƒ³é©¬ä¸Šå°±æ¯•ä¸šäº†ï¼Œç”šè‡³æœ‰ç‚¹å°å¯æƒœä¸èƒ½æ—¶é—´é•¿ç‚¹äº«å—ä¼˜æƒ ã€‚ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘æœåŠ¡çš„ä½¿ç”¨" scheme="http://xuzihao.fun/categories/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="Linux" scheme="http://xuzihao.fun/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>åŒæºä¸è·¨åŸŸèµ„æºå…±äº«</title>
    <link href="http://xuzihao.fun/%E8%B7%A8%E5%9F%9F%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB.html"/>
    <id>http://xuzihao.fun/è·¨åŸŸèµ„æºå…±äº«.html</id>
    <published>2018-03-23T12:53:35.483Z</published>
    <updated>2018-03-26T13:53:48.550Z</updated>
    
    <content type="html"><![CDATA[<p>è¯´åˆ°è·¨åŸŸï¼Œæˆ‘ä»¬éœ€è¦å…ˆè¯´è¯´ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ã€‚</p><h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><p>æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³æ˜¯â€åŒæºæ”¿ç­–â€ï¼ˆ<a href="https://en.wikipedia.org/wiki/Same-origin_policy" target="_blank" rel="noopener">same-origin policy</a>ï¼‰ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><blockquote><ol><li>åè®®ç›¸åŒ</li><li>åŸŸåç›¸åŒ</li><li>ç«¯å£ç›¸åŒ</li></ol></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šï¼‰å’ŒåŸŸåéƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„<strong>æº</strong>ã€‚</p><p>åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚</p><a id="more"></a><p>å¦‚æœéåŒæºï¼Œå…±æœ‰ä¸‰ç§è¡Œä¸ºå—åˆ°é™åˆ¶ï¼š</p><blockquote><ol><li>Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–ã€‚</li><li>DOM æ— æ³•è·å¾—ã€‚</li><li>AJAX è¯·æ±‚ä¸èƒ½å‘é€ã€‚</li></ol></blockquote><p>åŒæºç­–ç•¥æ˜¯å¯¹XMLHTTPRequestçš„ä¸€ç§çº¦æŸã€‚æ‰€ä»¥æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¦å»è·å–åˆ«çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬éœ€è¦è·¨è¿‡åŒæºç­–ç•¥ã€‚</p><p>ä½†æ˜¯æœ‰äº›çš„è·¨åŸŸè¯·æ±‚æ˜¯è¢«å…è®¸çš„æ¯”å¦‚ï¼š</p><ul><li><code>&lt;script&gt;</code>æ ‡ç­¾</li><li><code>&lt;link&gt;</code>æ ‡ç­¾</li><li><code>&lt;img&gt;</code>æ ‡ç­¾</li><li><code>&lt;a&gt;</code>æ ‡ç­¾</li><li><code>&lt;video&gt;</code>å’Œ <code>&lt;audio&gt;</code>åµŒå…¥å¤šåª’ä½“èµ„æºã€‚</li><li><code>&lt;iframe&gt;</code>ä¸<code>&lt;frame&gt;</code></li></ul><h2 id="CORSè·¨åŸŸèµ„æºå…±äº«"><a href="#CORSè·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="CORSè·¨åŸŸèµ„æºå…±äº«"></a>CORSè·¨åŸŸèµ„æºå…±äº«</h2><p>é‚£ä¹ˆä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒCORSæ¨ªç©ºå‡ºä¸–ï¼</p><p>IE8å¯ä»¥é€šè¿‡XDomainRequestå¯¹è±¡æ”¯æŒCORSã€‚</p><p>å…¶ä»–æµè§ˆå™¨æˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡XMLHttpRequestå¯¹è±¡æ”¯æŒCORSã€‚</p><p>è·¨åŸŸèµ„æºå…±äº«æ ‡å‡†æ–°å¢äº†ä¸€ç»„ HTTP é¦–éƒ¨å­—æ®µï¼Œå…è®¸æœåŠ¡å™¨å£°æ˜å“ªäº›æºç«™æœ‰æƒé™è®¿é—®å“ªäº›èµ„æºã€‚</p><p>å…¶å®CORSèƒŒåçš„æ€æƒ³å°±æ˜¯ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸï¼Œè¿˜æ˜¯åº”è¯¥å¤±è´¥ã€‚</p><p>CORSåˆ†ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶å°±ä¸ºç®€å•è¯·æ±‚ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">ç®€å•è¯·æ±‚</a></p><h2 id="HTTP-å“åº”é¦–éƒ¨å­—æ®µ"><a href="#HTTP-å“åº”é¦–éƒ¨å­—æ®µ" class="headerlink" title="HTTP å“åº”é¦–éƒ¨å­—æ®µ"></a>HTTP å“åº”é¦–éƒ¨å­—æ®µ</h2><h3 id="Access-Control-Allow-Origin"><a href="#Access-Control-Allow-Origin" class="headerlink" title="Access-Control-Allow-Origin"></a>Access-Control-Allow-Origin</h3><p>æ ¹æ®Reuqestè¯·æ±‚å¤´ä¸­çš„<em>Origin</em>æ¥åˆ¤æ–­è¯¥è¯·æ±‚çš„èµ„æºæ˜¯å¦å¯ä»¥è¢«å…±äº«ã€‚</p><h3 id="Access-Control-Allow-Credentials"><a href="#Access-Control-Allow-Credentials" class="headerlink" title="Access-Control-Allow-Credentials"></a>Access-Control-Allow-Credentials</h3><p>è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚</p><h3 id="Access-Control-Expose-Headers"><a href="#Access-Control-Expose-Headers" class="headerlink" title="Access-Control-Expose-Headers"></a>Access-Control-Expose-Headers</h3><p>è®©æœåŠ¡å™¨æŠŠå…è®¸æµè§ˆå™¨è®¿é—®çš„å¤´æ”¾å…¥ç™½åå•</p><p>åœ¨è·¨åŸŸè®¿é—®æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡çš„getResponseHeader()æ–¹æ³•åªèƒ½æ‹¿åˆ°ä¸€äº›æœ€åŸºæœ¬çš„å“åº”å¤´ï¼ŒCache-Controlã€Content-Languageã€Content-Typeã€Expiresã€Last-Modifiedã€Pragmaï¼Œå¦‚æœè¦è®¿é—®å…¶ä»–å¤´ï¼Œåˆ™éœ€è¦æœåŠ¡å™¨è®¾ç½®æœ¬å“åº”å¤´</p><h3 id="Access-Control-Allow-Credentials-1"><a href="#Access-Control-Allow-Credentials-1" class="headerlink" title="Access-Control-Allow-Credentials"></a>Access-Control-Allow-Credentials</h3><p>æŒ‡å®šäº†å½“æµè§ˆå™¨çš„<code>credentials</code>è®¾ç½®ä¸ºtrueæ—¶æ˜¯å¦å…è®¸æµè§ˆå™¨è¯»å–responseçš„å†…å®¹ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦<strong>é™„å¸¦èº«ä»½å‡­è¯çš„è¯·æ±‚</strong>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸è¿™æ ·å»åšå¤„ç†çš„è¯ï¼Œå³ä½¿æœåŠ¡å™¨åŒæ„å‘é€Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘é€ã€‚æˆ–è€…ï¼ŒæœåŠ¡å™¨è¦æ±‚è®¾ç½®Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå¤„ç†ã€‚</p><h2 id="HTTPè¯·æ±‚é¦–éƒ¨å­—æ®µ"><a href="#HTTPè¯·æ±‚é¦–éƒ¨å­—æ®µ" class="headerlink" title="HTTPè¯·æ±‚é¦–éƒ¨å­—æ®µ"></a>HTTPè¯·æ±‚é¦–éƒ¨å­—æ®µ</h2><p>ç”¨äºå‘èµ·è·¨åŸŸè¯·æ±‚çš„é¦–éƒ¨å­—æ®µï¼Œå…¶å®è¿™äº›å­—æ®µéƒ½ä¸ç”¨æˆ‘ä»¬å»æ‰‹åŠ¨è®¾ç½®ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ XMLHttpRequest å¯¹è±¡å‘èµ·è·¨åŸŸè¯·æ±‚æ—¶ï¼Œå®ƒä»¬å·²ç»è¢«è®¾ç½®å°±ç»ªã€‚</p><ul><li>Origin</li><li>Access-Control-Request-Method</li><li>Access-Control-Request-Headers</li></ul><blockquote><p>å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">MDN-HTTPè¯·æ±‚é¦–éƒ¨å­—æ®µ</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯´åˆ°è·¨åŸŸï¼Œæˆ‘ä»¬éœ€è¦å…ˆè¯´è¯´ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åŒæºç­–ç•¥&quot;&gt;&lt;a href=&quot;#åŒæºç­–ç•¥&quot; class=&quot;headerlink&quot; title=&quot;åŒæºç­–ç•¥&quot;&gt;&lt;/a&gt;åŒæºç­–ç•¥&lt;/h2&gt;&lt;p&gt;æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³æ˜¯â€åŒæºæ”¿ç­–â€ï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Same-origin_policy&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;same-origin policy&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åè®®ç›¸åŒ&lt;/li&gt;
&lt;li&gt;åŸŸåç›¸åŒ&lt;/li&gt;
&lt;li&gt;ç«¯å£ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šï¼‰å’ŒåŸŸåéƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„&lt;strong&gt;æº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Javascriptä¿®ä»™ä¹‹æ—…" scheme="http://xuzihao.fun/categories/Javascript%E4%BF%AE%E4%BB%99%E4%B9%8B%E6%97%85/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Ajaxä¸Fetchï¼Ÿ</title>
    <link href="http://xuzihao.fun/Ajax%E4%B8%8EFetch.html"/>
    <id>http://xuzihao.fun/Ajaxä¸Fetch.html</id>
    <published>2018-03-20T14:47:33.812Z</published>
    <updated>2018-03-21T14:14:33.291Z</updated>
    
    <content type="html"><![CDATA[<p>è™½è¯´ç°æœ‰Fetchå’ŒAxiosï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦äº†è§£ä¸‹å½“åˆé‚£ä¼ å¥‡çš„Ajaxï¼</p><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>Ajaxæ˜¯åŸºäºXMLHttpRequestå¯¹è±¡æ¥è¯·æ±‚æ•°æ®çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸‹XMLHttpRequestå¯¹è±¡ã€‚<br><a id="more"></a><br>å½“æˆ‘ä»¬å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reqListener</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.onload = reqListener;</span><br><span class="line">xhr.open(<span class="string">"get"</span>, <span class="string">"yourfile.txt"</span>, <span class="literal">false</span>)</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆé€æ¡è§£é‡Šï¼Œ</p><p>XMLHttpRequestç®€ç§°XHRã€‚</p><p>åœ¨XHRçš„å±æ€§æœ‰<code>responseText</code>ï¼Œä¹Ÿå°±æ˜¯ä»£ç ç¬¬2è¡Œä¸­ï¼Œå®ƒæ˜¯ä½œä¸º<em>å“åº”ä¸»ä½“è¢«è¿”å›çš„æ–‡æœ¬</em>ï¼Œè€Œä¸”æ— è®ºå†…å®¹ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå®ƒä»¬éƒ½ä¼šä¿å­˜åœ¨è¯¥å±æ€§ä¸­ã€‚</p><hr><p>ç¬¬4è¡Œä»£ç ï¼Œæ„é€ å‡½æ•°XMLHttpRequeståˆå§‹åŒ–äº†ä¸€ä¸ªXMLHttpRequestå¯¹è±¡ã€‚</p><hr><p>ç¬¬5è¡Œä»£ç ï¼Œçœ‹ä»¥ä¸‹å›¾ï¼š</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/XMLHttpRequest.png" alt=""></p><p>æˆ‘ä»¬ä¼šå‘ç°<code>onload</code>æ˜¯XMLHttpRequestEventTargetçš„äº‹ä»¶å¤„ç†ç¨‹åºçš„æ¥å£ã€‚</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onabort" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onabort</a><ul><li>å½“è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨è¯¥æ–¹æ³•</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onerror" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onerror</a><ul><li>å½“è¯·æ±‚å‘ç”Ÿé”™è¯¯æ—¶è°ƒç”¨è¯¥æ–¹æ³•</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onload" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onload</a><ul><li>å½“ä¸€ä¸ªHTTPè¯·æ±‚æ­£ç¡®åŠ è½½å‡ºå†…å®¹åè¿”å›æ—¶è°ƒç”¨ã€‚</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onloadstart" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onloadstart</a><ul><li>å½“ä¸€ä¸ªHTTPè¯·æ±‚å¼€å§‹åŠ è½½æ•°æ®æ—¶è°ƒç”¨ã€‚</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onprogress" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onprogress</a><ul><li>é—´æ­‡è°ƒç”¨è¯¥æ–¹æ³•ç”¨æ¥è·å–è¯·æ±‚è¿‡ç¨‹ä¸­çš„ä¿¡æ¯ã€‚</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/ontimeout" target="_blank" rel="noopener">XMLHttpRequestEventTarget.ontimeout</a><ul><li>å½“æ—¶é—´è¶…æ—¶æ—¶è°ƒç”¨ï¼›åªæœ‰é€šè¿‡è®¾ç½®XMLHttpRequestå¯¹è±¡çš„timeoutå±æ€§æ¥å‘ç”Ÿè¶…æ—¶æ—¶ï¼Œè¿™ç§æƒ…å†µæ‰ä¼šå‘ç”Ÿã€‚</li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget/onloadend" target="_blank" rel="noopener">XMLHttpRequestEventTarget.onloadend</a><ul><li>å½“å†…å®¹åŠ è½½å®Œæˆï¼Œä¸ç®¡å¤±è´¥ä¸å¦ï¼Œéƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•</li></ul></li></ul><blockquote><p>å‚è€ƒèµ„æ–™<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestEventTarget" target="_blank" rel="noopener">MDN</a></p></blockquote><hr><p>ç¬¬6è¡Œå°±éƒ½æ˜¯XMLHttpRequestå¯¹è±¡çš„<strong>æ–¹æ³•</strong>ã€‚</p><ul><li>open(method, url, async, user, password)<ul><li>è¯·æ±‚ä½¿ç”¨Httpçš„æ–¹æ³•ï¼Œå¦‚method = â€˜GETâ€™ | â€˜POSTâ€™ | â€˜PUTâ€™ | â€˜DELETâ€™</li><li>urlå°±æ˜¯url</li><li>asyncï¼š booleanã€‚æ˜¯å¦å¼‚æ­¥æ“ä½œã€‚å¦‚æœä¸ºfalseåªæœ‰ä½ å¾—åˆ°æœåŠ¡å™¨è¿”å›çš„æ•°æ®send()æ–¹æ³•æ‰ä¼šè¿”å›æ•°æ®ã€‚å¦‚æœä¸ºå€¼ä¸ºtrueï¼Œä¸€ä¸ªå¯¹å¼€å‘è€…é€æ˜çš„é€šçŸ¥ä¼šå‘é€åˆ°ç›¸å…³çš„äº‹ä»¶ç›‘å¬è€…ã€‚</li><li>userï¼Œpassword: å¯é€‰å‚æ•°,ä¸ºæˆæƒä½¿ç”¨</li></ul></li><li>å¦å¤–åœ¨æˆ‘ä»¬<strong>æ¥æ”¶åˆ°å“åº”ä¹‹å‰</strong>è¿˜å¯ä»¥è°ƒç”¨abort()æ–¹æ³•æ¥å–æ¶ˆå¼‚æ­¥è¯·æ±‚ã€‚</li></ul><hr><p>å½“ç„¶XMLHttpRequestå¯¹è±¡ä¹Ÿæœ‰ä¸€äº›é‡è¦çš„å±æ€§è€Œä¸”è¿™ä¸ªå¯¹è±¡ä¹Ÿç»§æ‰¿äº†EvenTargetå’ŒXMLHttpRequestEvenTargetçš„å±æ€§ï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼‰ã€‚</p><p>æœ€é‡è¦çš„æ˜¯å½“<strong>readyState</strong>å±æ€§çš„å€¼ç”±ä¸€ä¸ªå€¼å˜ä¸ºå¦ä¸€ä¸ªå€¼å¾—æ—¶å€™ï¼Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡<strong>readystatechange</strong>äº‹ä»¶ã€‚</p><p>é‚£ä¹ˆ<strong>readyState</strong>æœ‰å“ªäº›å€¼å‘¢ï¼Ÿ</p><ul><li>0ï¼Œæœªåˆå§‹åŒ–ã€‚è¿˜æ²¡è°ƒç”¨open()æ–¹æ³•</li><li>1ï¼Œå¯åŠ¨ã€‚å·²ç»è°ƒç”¨äº†open()æ–¹æ³•</li><li>2ï¼Œå‘é€ã€‚å·²ç»è°ƒç”¨äº†send()æ–¹æ³•</li><li>3ï¼Œæ¥å—ã€‚å·²ç»æ¥æ”¶åˆ°éƒ¨åˆ†å“åº”æ•°æ®</li><li>4ï¼Œå®Œæˆã€‚å·²ç»æ¥æ”¶åˆ°å…¨éƒ¨çš„å“åº”æ•°æ®ï¼Œè€Œä¸”å·²ç»å¯ä»¥å†å®¢æˆ·ç«¯ä½¿ç”¨äº†ã€‚</li></ul><p>æˆ‘ä»¬ä¸€èˆ¬å¯¹å€¼ä¸º4è¿™ä¸ªé˜¶æ®µæ„Ÿå…´è¶£ã€‚å› ä¸ºè¿™æ—¶å€™æ‰€æœ‰çš„æ•°æ®å·²ç»åˆ°ä½äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åšè®¸å¤šäº‹æƒ…äº†ã€‚æ¯”å¦‚è¯´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">        balbalbal......</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰<strong>response</strong>ï¼Œ<strong>responseText</strong>ï¼Œ<strong>responseType</strong>ï¼Œ<strong>responseXML</strong>ï¼Œ<strong>status</strong>ï¼Œ<strong>statusText</strong>ï¼Œ<strong>statusText</strong>ï¼Œ<strong>withCredentials</strong>å±æ€§ã€‚</p><h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><h3 id="Fetchæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Fetchæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Fetchæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Fetchæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Fetch æ˜¯æµè§ˆå™¨æä¾›çš„åŸç”Ÿ AJAX æ¥å£ã€‚ä½¿ç”¨ window.fetch å‡½æ•°å¯ä»¥ä»£æ›¿ä»¥å‰çš„ $.ajaxã€$.get å’Œ $.postã€‚</p><p>Fetchè¿˜æä¾›äº†å•ä¸ªé€»è¾‘ä½ç½®æ¥å®šä¹‰å…¶ä»–HTTPç›¸å…³æ¦‚å¿µï¼Œä¾‹å¦‚ <strong>CORS</strong>å’ŒHTTPçš„æ‰©å±•ã€‚</p><p>è¯·æ³¨æ„ï¼Œfetch è§„èŒƒä¸ jQuery.ajax() ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼çš„ä¸åŒï¼Œç‰¢è®°ï¼š</p><ul><li>å½“æ¥æ”¶åˆ°ä¸€ä¸ªä»£è¡¨é”™è¯¯çš„ HTTP çŠ¶æ€ç æ—¶ï¼Œä» <code>fetch()</code>è¿”å›çš„ Promise <strong>ä¸ä¼šè¢«æ ‡è®°ä¸º rejectï¼Œ</strong> å³ä½¿è¯¥ HTTP å“åº”çš„çŠ¶æ€ç æ˜¯ 404 æˆ– 500ã€‚ç›¸åï¼Œå®ƒä¼šå°† Promise çŠ¶æ€æ ‡è®°ä¸º resolve ï¼ˆä½†æ˜¯ä¼šå°† resolve çš„è¿”å›å€¼çš„ ok å±æ€§è®¾ç½®ä¸º false ï¼‰ï¼Œ  ä»…å½“ç½‘ç»œæ•…éšœæ—¶æˆ–è¯·æ±‚è¢«é˜»æ­¢æ—¶ï¼Œæ‰ä¼šæ ‡è®°ä¸º rejectã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹, <code>fetch</code> <strong>ä¸ä¼šä»æœåŠ¡ç«¯å‘é€æˆ–æ¥æ”¶ä»»ä½• cookies</strong>, å¦‚æœç«™ç‚¹ä¾èµ–äºç”¨æˆ· sessionï¼Œåˆ™ä¼šå¯¼è‡´æœªç»è®¤è¯çš„è¯·æ±‚ï¼ˆè¦å‘é€ cookiesï¼Œå¿…é¡»è®¾ç½® <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch#%E5%8F%82%E6%95%B0" target="_blank" rel="noopener">credentials</a> é€‰é¡¹ï¼‰.</li></ul><blockquote><p>å‚è€ƒèµ„æ–™<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">MDN</a></p></blockquote><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;</span><br><span class="line">    response.text().then(<span class="function"><span class="keyword">function</span>(<span class="params">text</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸ªå¾ˆç®€å•çš„Fetchçš„å°ä¾‹å­ã€‚</p><p>.thenâ€¦è¿™ä¸æ˜¯å’ŒPromiseå¥½åƒå—ï¼Ÿ</p><p>æ²¡é”™ã€‚Fetch APIå°±æ˜¯åŸºäºPromiseçš„ã€‚ä½†æ˜¯å› ä¸ºåŸºäºPromiseæ‰€ä»¥æˆ‘ä»¬æ— æ³•åƒXHRä¸€æ ·è°ƒç”¨<code>.abort()</code>å»ä¸­æ–­è¯·æ±‚ã€‚ã€‚</p><h3 id="è‡ªå®šä¹‰è¯·æ±‚çš„å‚æ•°"><a href="#è‡ªå®šä¹‰è¯·æ±‚çš„å‚æ•°" class="headerlink" title="è‡ªå®šä¹‰è¯·æ±‚çš„å‚æ•°"></a>è‡ªå®šä¹‰è¯·æ±‚çš„å‚æ•°</h3><p>é‚£ä¹ˆï¼ŒFetchç¬¬äºŒä¸ªå‚æ•°æˆ‘ä»¬å¯ä»¥ä¼ ä¸€ä¸ªå¯ä»¥æ§åˆ¶ä¸åŒé…ç½®çš„ <code>init</code> å¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myInit = &#123; <span class="attr">method</span>: <span class="string">'GET'</span>|<span class="string">'POST'</span>|<span class="string">'PUT'</span>|<span class="string">'DELETE'</span>,</span><br><span class="line">               headers: myHeaders,</span><br><span class="line">               mode: <span class="string">'cors'</span>,</span><br><span class="line">               cache: <span class="string">'default'</span> &#125;;</span><br></pre></td></tr></table></figure><ul><li><code>mode</code>: è¯·æ±‚çš„æ¨¡å¼ï¼Œå¦‚ <code>corsã€</code> <code>no-cors æˆ–è€…</code> <code>same-originã€‚</code></li><li><code>cache</code>:  è¯·æ±‚çš„ cache æ¨¡å¼: <code>default</code>ã€ <code>no-store ã€</code> <code>reload ã€</code> <code>no-cache ã€</code> <code>force-cache</code>æˆ–è€… <code>only-if-cached ã€‚</code></li></ul><p>å…¶ä»–å¯ä»¥å»å‚è€ƒMDNã€‚</p><h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3><p>åœ¨Fetchä¸‹å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ“ä½œheaderï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(url).then(<span class="function"><span class="keyword">function</span>(<span class="params">responen</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(responen.headers.get(<span class="string">'Content-Type'</span>));</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myHeaders = <span class="keyword">new</span> Header();</span><br><span class="line">myHeaders.append(<span class="string">"Content-Type"</span>, <span class="string">"text/html"</span>);</span><br><span class="line">fetch(url).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    headers: myHeaders</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> header = <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">  <span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(header.has(<span class="string">"Content-Type"</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(header.has(<span class="string">"Content-Length"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è™½è¯´ç°æœ‰Fetchå’ŒAxiosï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦äº†è§£ä¸‹å½“åˆé‚£ä¼ å¥‡çš„Ajaxï¼&lt;/p&gt;
&lt;h2 id=&quot;Ajax&quot;&gt;&lt;a href=&quot;#Ajax&quot; class=&quot;headerlink&quot; title=&quot;Ajax&quot;&gt;&lt;/a&gt;Ajax&lt;/h2&gt;&lt;p&gt;Ajaxæ˜¯åŸºäºXMLHttpRequestå¯¹è±¡æ¥è¯·æ±‚æ•°æ®çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸‹XMLHttpRequestå¯¹è±¡ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Javascriptä¿®ä»™ä¹‹æ—…" scheme="http://xuzihao.fun/categories/Javascript%E4%BF%AE%E4%BB%99%E4%B9%8B%E6%97%85/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆscriptæ ‡ç­¾</title>
    <link href="http://xuzihao.fun/%E6%B5%85%E8%B0%88script%E6%A0%87%E7%AD%BE.html"/>
    <id>http://xuzihao.fun/æµ…è°ˆscriptæ ‡ç­¾.html</id>
    <published>2018-03-19T12:57:11.911Z</published>
    <updated>2018-04-01T12:21:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>&lt;script&gt;</code> ? è¿™ä¸å°±æ˜¯ç›´æ¥æ‰§è¡Œscriptè„šæœ¬å—ï¼Ÿ</p><p>ä»¥å‰çš„æˆ‘è¿™æœ‰è®¤ä¸ºï¼Œä½†æ˜¯ä»Šå¤©å´çŸ¥é“äº†ä»–çš„å¥¥ç§˜ã€‚ä»–å¹¶æ²¡æœ‰è¡¨é¢çš„é‚£ä¹ˆç®€å•ã€‚</p><a id="more"></a><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><p><code>&lt;script&gt;</code>æ‹¥æœ‰7ä¸ªå±æ€§ï¼Œæ²¡æƒ³åˆ°å§ï¼</p><ul><li><strong>async</strong><ul><li>boolean</li><li>å¼‚æ­¥æ‰§è¡Œè¯¥è„šæœ¬ï¼Œä½†ä¸ä¿è¯æŒ‰ç…§æŒ‡å®šå®ƒä»¬çš„å…ˆåé¡ºåºæ‰§è¡Œ</li></ul></li><li><strong>defer</strong><ul><li>boolean</li><li>é€šçŸ¥æµè§ˆå™¨è¯¥è„šæœ¬å°†åœ¨æ–‡æ¡£å®Œæˆè§£æåé‡åˆ°<code>&lt;/html&gt;</code>ï¼Œå¹¶ä¼šæŒ‰ç…§å®ƒä»¬å‡ºç°çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚ä½†ä¼šåœ¨è§¦å‘ <code>DOMContentLoaded</code> äº‹ä»¶å‰æ‰§è¡Œã€‚</li></ul></li><li><strong>integrity</strong><ul><li>åŒ…å«ç”¨æˆ·ä»£ç†å¯ç”¨äºéªŒè¯å·²æå–èµ„æºæ˜¯å¦å·²æ— æ„å¤–æ“ä½œçš„å†…è”å…ƒæ•°æ®</li></ul></li><li><strong>src</strong></li><li><strong>type</strong></li><li><strong>text</strong></li><li><strong>crossorigin</strong><ul><li>ä½¿é‚£äº›å°†é™æ€èµ„æºæ”¾åœ¨å¦å¤–ä¸€ä¸ªåŸŸåçš„ç«™ç‚¹æ‰“å°é”™è¯¯ä¿¡æ¯,å°±æ˜¯å°†è·¨åŸŸæŠ¥é”™å˜ä¸ºåŒæºæŠ¥é”™</li></ul></li></ul><blockquote><p>åœ¨XHTMLæ–‡æ¡£ä¸­ï¼Œè¦æŠŠasyncå±æ€§è®¾ç½®ä¸º async = â€œasyncâ€, defer = â€œdeferâ€</p></blockquote><p>çŸ¥é“äº†é‚£å‡ ä¸ªå±æ€§æ¥ä¸‹æ¥ï¼Œæ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼š</p><p><img src="https://blogaaaaxzh.oss-cn-hangzhou.aliyuncs.com/%3Cscript%3E.png" alt=""></p><ol><li>ç¬¬ä¸€ä¸ªå…‰ç§ƒç§ƒçš„<code>&lt;script&gt;</code>è¯´æ˜äº†ï¼Œåœ¨<code>html</code>è§£æä¸­ï¼Œå¦‚æœæœ‰<code>&lt;script&gt;</code>çš„è¯ï¼Œ<code>html</code>ä¼šåœ¨<code>Script</code>ä¸‹è½½å¹¶ä¸”æ‰§è¡Œçš„æ—¶å€™ï¼Œæš‚åœè§£æã€‚</li><li>ç¬¬äºŒä¸ªå¸¦<code>async</code>å±æ€§çš„<code>&lt;script&gt;</code>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œä¹Ÿå°±æ˜¯ä»–ä¸‹è½½<code>Script</code>çš„æ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼Œä½†æ˜¯åªè¦<code>Script</code>æ–‡ä»¶ä¸‹å¥½äº†ï¼Œé‚£ä¹ˆå°±é©¬ä¸Šæ‰§è¡Œã€‚</li><li>ç¬¬ä¸‰ä¸ªå¸¦<code>defer</code>å±æ€§çš„<code>&lt;script&gt;</code>ï¼Œå…¶å®å’Œä¸Šé¢å¸¦<code>async</code>å±æ€§ä¸€æ ·éƒ½æ˜¯å¼‚æ­¥æ‰§è¡Œå»ä¸‹è½½<code>Script</code>æ–‡ä»¶çš„ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªå¸¦æœ‰<code>defer</code>çš„åˆ™æ˜¯åœ¨<code>html</code>å…¨éƒ¨è§£æå®Œæ¯•ä¹‹åæ‰å»æ‰§è¡Œ<code>Script</code>æ–‡ä»¶ã€‚è€Œä¸”å®ƒæ˜¯æŒ‰ç…§åŠ è½½é¡ºåºæ‰§è¡Œè„šæœ¬çš„ï¼Œè¿™ä¸€ç‚¹è¦å–„åŠ åˆ©ç”¨ã€‚æ˜¾ç„¶ <code>defer</code> æ˜¯æœ€æ¥è¿‘æˆ‘ä»¬å¯¹äºåº”ç”¨è„šæœ¬åŠ è½½å’Œæ‰§è¡Œçš„è¦æ±‚çš„</li></ol><h2 id="ä½¿ç”¨åŠ¨æ€åˆ›å»ºçš„-lt-script-gt-æ ‡ç­¾å…ƒç´ æ¥ä¸‹è½½å¹¶æ‰§è¡Œä»£ç "><a href="#ä½¿ç”¨åŠ¨æ€åˆ›å»ºçš„-lt-script-gt-æ ‡ç­¾å…ƒç´ æ¥ä¸‹è½½å¹¶æ‰§è¡Œä»£ç " class="headerlink" title="ä½¿ç”¨åŠ¨æ€åˆ›å»ºçš„&lt;script&gt;æ ‡ç­¾å…ƒç´ æ¥ä¸‹è½½å¹¶æ‰§è¡Œä»£ç "></a>ä½¿ç”¨åŠ¨æ€åˆ›å»ºçš„<code>&lt;script&gt;</code>æ ‡ç­¾å…ƒç´ æ¥ä¸‹è½½å¹¶æ‰§è¡Œä»£ç </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">script.src = <span class="string">"file1.js"</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementByTagName(<span class="string">"head"</span>)[<span class="number">0</span>].appendChild(script);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæŠ€æœ¯çš„é‡ç‚¹åœ¨äºï¼š</p><p>æ— è®ºä½•æ—¶å¯åŠ¨ä¸‹è½½ï¼Œæ–‡ä»¶çš„ä¸‹è½½å’Œæ‰§è¡Œè¿‡ç¨‹ä¸ä¼šé˜»å¡é¡µé¢å…¶ä»–è¿›ç¨‹ã€‚</p><p>å‚è€ƒï¼š</p><blockquote><p>ã€Šé«˜æ€§èƒ½JavaScriptã€‹</p></blockquote><h2 id="ä½¿ç”¨XHRå¯¹è±¡ä¸‹è½½JSä»£ç æ³¨å…¥é¡µé¢"><a href="#ä½¿ç”¨XHRå¯¹è±¡ä¸‹è½½JSä»£ç æ³¨å…¥é¡µé¢" class="headerlink" title="ä½¿ç”¨XHRå¯¹è±¡ä¸‹è½½JSä»£ç æ³¨å…¥é¡µé¢"></a>ä½¿ç”¨XHRå¯¹è±¡ä¸‹è½½JSä»£ç æ³¨å…¥é¡µé¢</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url, callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(</span><br><span class="line"><span class="string">"e"</span>);</span><br><span class="line">    script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">    <span class="keyword">if</span>(script.readyState)&#123;<span class="comment">//ie</span></span><br><span class="line">        script.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(script.readyState == <span class="string">"loaded"</span> || script.readyState == <span class="string">"complete"</span>)&#123;</span><br><span class="line">                script.onreadystatechage = <span class="literal">null</span>;</span><br><span class="line">                callback();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        script.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            callback();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadScript(<span class="string">"the-rest.js"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Application.init()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšå®ç°äº†åŠ¨æ€åˆ›å»ºæ ‡ç­¾å…ƒç´ å¹¶ä¸‹è½½ï¼Œå…¶æ¬¡å½“ç¬¬äºŒä¸ªè„šæœ¬æ–‡ä»¶ä¸‹è½½æ—¶ï¼Œåº”ç”¨æ‰€éœ€çš„æ‰€æœ‰DOMç»“æ„å·²ç»åˆ›å»ºå®Œæ¯•ï¼Œå¹¶åšå¥½äº†äº¤äº’çš„å‡†å¤‡,ä»è€Œé¿å…äº†éœ€è¦å¦ä¸€ä¸ªäº‹ä»¶æ¥æ£€æµ‹é¡µé¢æ˜¯å¦å‡†å¤‡å¥½ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/script" target="_blank" rel="noopener">MDN</a></li><li><a href="https://segmentfault.com/a/1190000006778717" target="_blank" rel="noopener">SegmentFault</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; ? è¿™ä¸å°±æ˜¯ç›´æ¥æ‰§è¡Œscriptè„šæœ¬å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»¥å‰çš„æˆ‘è¿™æœ‰è®¤ä¸ºï¼Œä½†æ˜¯ä»Šå¤©å´çŸ¥é“äº†ä»–çš„å¥¥ç§˜ã€‚ä»–å¹¶æ²¡æœ‰è¡¨é¢çš„é‚£ä¹ˆç®€å•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Javascriptä¿®ä»™ä¹‹æ—…" scheme="http://xuzihao.fun/categories/Javascript%E4%BF%AE%E4%BB%99%E4%B9%8B%E6%97%85/"/>
    
    
      <category term="JavaScript" scheme="http://xuzihao.fun/tags/JavaScript/"/>
    
  </entry>
  
</feed>
